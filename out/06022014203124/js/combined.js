/*! jQuery v1.10.2 | (c) 2005, 2013 jQuery Foundation, Inc. | jquery.org/license
 //@ sourceMappingURL=jquery-1.10.2.min.map
 */
(function(e,t){var n,r,i=typeof t,o=e.location,a=e.document,s=a.documentElement,l=e.jQuery,u=e.$,c={},p=[],f="1.10.2",d=p.concat,h=p.push,g=p.slice,m=p.indexOf,y=c.toString,v=c.hasOwnProperty,b=f.trim,x=function(e,t){return new x.fn.init(e,t,r);
},w=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=/\S+/g,C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,k=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,E=/^[\],:{}\s]*$/,S=/(?:^|:|,)(?:\s*\[)+/g,A=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,j=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,D=/^-ms-/,L=/-([\da-z])/gi,H=function(e,t){return t.toUpperCase();
},q=function(e){(a.addEventListener||"load"===e.type||"complete"===a.readyState)&&(_(),x.ready());},_=function(){a.addEventListener?(a.removeEventListener("DOMContentLoaded",q,!1),e.removeEventListener("load",q,!1)):(a.detachEvent("onreadystatechange",q),e.detachEvent("onload",q));};x.fn=x.prototype={jquery:f,constructor:x,init:function(e,n,r){var i,o;
if(!e){return this;}if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:N.exec(e),!i||!i[1]&&n){return !n||n.jquery?(n||r).find(e):this.constructor(n).find(e);}if(i[1]){if(n=n instanceof x?n[0]:n,x.merge(this,x.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:a,!0)),k.test(i[1])&&x.isPlainObject(n)){for(i in n){x.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);
}}return this;}if(o=a.getElementById(i[2]),o&&o.parentNode){if(o.id!==i[2]){return r.find(e);}this.length=1,this[0]=o;}return this.context=a,this.selector=e,this;}return e.nodeType?(this.context=this[0]=e,this.length=1,this):x.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),x.makeArray(e,this));
},selector:"",length:0,toArray:function(){return g.call(this);},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e];},pushStack:function(e){var t=x.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t;},each:function(e,t){return x.each(this,e,t);},ready:function(e){return x.ready.promise().done(e),this;
},slice:function(){return this.pushStack(g.apply(this,arguments));},first:function(){return this.eq(0);},last:function(){return this.eq(-1);},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[]);},map:function(e){return this.pushStack(x.map(this,function(t,n){return e.call(t,n,t);
}));},end:function(){return this.prevObject||this.constructor(null);},push:h,sort:[].sort,splice:[].splice},x.fn.init.prototype=x.fn,x.extend=x.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),"object"==typeof s||x.isFunction(s)||(s={}),u===l&&(s=this,--l);
u>l;l++){if(null!=(o=arguments[l])){for(i in o){e=s[i],r=o[i],s!==r&&(c&&r&&(x.isPlainObject(r)||(n=x.isArray(r)))?(n?(n=!1,a=e&&x.isArray(e)?e:[]):a=e&&x.isPlainObject(e)?e:{},s[i]=x.extend(c,a,r)):r!==t&&(s[i]=r));}}}return s;},x.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===x&&(e.$=u),t&&e.jQuery===x&&(e.jQuery=l),x;
},isReady:!1,readyWait:1,holdReady:function(e){e?x.readyWait++:x.ready(!0);},ready:function(e){if(e===!0?!--x.readyWait:!x.isReady){if(!a.body){return setTimeout(x.ready);}x.isReady=!0,e!==!0&&--x.readyWait>0||(n.resolveWith(a,[x]),x.fn.trigger&&x(a).trigger("ready").off("ready"));}},isFunction:function(e){return"function"===x.type(e);
},isArray:Array.isArray||function(e){return"array"===x.type(e);},isWindow:function(e){return null!=e&&e==e.window;},isNumeric:function(e){return !isNaN(parseFloat(e))&&isFinite(e);},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[y.call(e)]||"object":typeof e;},isPlainObject:function(e){var n;
if(!e||"object"!==x.type(e)||e.nodeType||x.isWindow(e)){return !1;}try{if(e.constructor&&!v.call(e,"constructor")&&!v.call(e.constructor.prototype,"isPrototypeOf")){return !1;}}catch(r){return !1;}if(x.support.ownLast){for(n in e){return v.call(e,n);}}for(n in e){}return n===t||v.call(e,n);},isEmptyObject:function(e){var t;
for(t in e){return !1;}return !0;},error:function(e){throw Error(e);},parseHTML:function(e,t,n){if(!e||"string"!=typeof e){return null;}"boolean"==typeof t&&(n=t,t=!1),t=t||a;var r=k.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=x.buildFragment([e],t,i),i&&x(i).remove(),x.merge([],r.childNodes));
},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=x.trim(n),n&&E.test(n.replace(A,"@").replace(j,"]").replace(S,"")))?Function("return "+n)():(x.error("Invalid JSON: "+n),t);},parseXML:function(n){var r,i;if(!n||"string"!=typeof n){return null;}try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n));
}catch(o){r=t;}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||x.error("Invalid XML: "+n),r;},noop:function(){},globalEval:function(t){t&&x.trim(t)&&(e.execScript||function(t){e.eval.call(e,t);})(t);},camelCase:function(e){return e.replace(D,"ms-").replace(L,H);},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase();
},each:function(e,t,n){var r,i=0,o=e.length,a=M(e);if(n){if(a){for(;o>i;i++){if(r=t.apply(e[i],n),r===!1){break;}}}else{for(i in e){if(r=t.apply(e[i],n),r===!1){break;}}}}else{if(a){for(;o>i;i++){if(r=t.call(e[i],i,e[i]),r===!1){break;}}}else{for(i in e){if(r=t.call(e[i],i,e[i]),r===!1){break;}}}}return e;
},trim:b&&!b.call("\ufeff\u00a0")?function(e){return null==e?"":b.call(e);}:function(e){return null==e?"":(e+"").replace(C,"");},makeArray:function(e,t){var n=t||[];return null!=e&&(M(Object(e))?x.merge(n,"string"==typeof e?[e]:e):h.call(n,e)),n;},inArray:function(e,t,n){var r;if(t){if(m){return m.call(t,e,n);
}for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++){if(n in t&&t[n]===e){return n;}}}return -1;},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r){for(;r>o;o++){e[i++]=n[o];}}else{while(n[o]!==t){e[i++]=n[o++];}}return e.length=i,e;},grep:function(e,t,n){var r,i=[],o=0,a=e.length;
for(n=!!n;a>o;o++){r=!!t(e[o],o),n!==r&&i.push(e[o]);}return i;},map:function(e,t,n){var r,i=0,o=e.length,a=M(e),s=[];if(a){for(;o>i;i++){r=t(e[i],i,n),null!=r&&(s[s.length]=r);}}else{for(i in e){r=t(e[i],i,n),null!=r&&(s[s.length]=r);}}return d.apply([],s);},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(o=e[n],n=e,e=o),x.isFunction(e)?(r=g.call(arguments,2),i=function(){return e.apply(n||this,r.concat(g.call(arguments)));
},i.guid=e.guid=e.guid||x.guid++,i):t;},access:function(e,n,r,i,o,a,s){var l=0,u=e.length,c=null==r;if("object"===x.type(r)){o=!0;for(l in r){x.access(e,n,l,r[l],!0,a,s);}}else{if(i!==t&&(o=!0,x.isFunction(i)||(s=!0),c&&(s?(n.call(e,i),n=null):(c=n,n=function(e,t,n){return c.call(x(e),n);})),n)){for(;
u>l;l++){n(e[l],r,s?i:i.call(e[l],l,n(e[l],r)));}}}return o?e:c?n.call(e):u?n(e[0],r):a;},now:function(){return(new Date).getTime();},swap:function(e,t,n,r){var i,o,a={};for(o in t){a[o]=e.style[o],e.style[o]=t[o];}i=n.apply(e,r||[]);for(o in t){e.style[o]=a[o];}return i;}}),x.ready.promise=function(t){if(!n){if(n=x.Deferred(),"complete"===a.readyState){setTimeout(x.ready);
}else{if(a.addEventListener){a.addEventListener("DOMContentLoaded",q,!1),e.addEventListener("load",q,!1);}else{a.attachEvent("onreadystatechange",q),e.attachEvent("onload",q);var r=!1;try{r=null==e.frameElement&&a.documentElement;}catch(i){}r&&r.doScroll&&function o(){if(!x.isReady){try{r.doScroll("left");
}catch(e){return setTimeout(o,50);}_(),x.ready();}}();}}}return n.promise(t);},x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){c["[object "+t+"]"]=t.toLowerCase();});function M(e){var t=e.length,n=x.type(e);return x.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e);
}r=x(a),function(e,t){var n,r,i,o,a,s,l,u,c,p,f,d,h,g,m,y,v,b="sizzle"+-new Date,w=e.document,T=0,C=0,N=st(),k=st(),E=st(),S=!1,A=function(e,t){return e===t?(S=!0,0):0;},j=typeof t,D=1<<31,L={}.hasOwnProperty,H=[],q=H.pop,_=H.push,M=H.push,O=H.slice,F=H.indexOf||function(e){var t=0,n=this.length;for(;
n>t;t++){if(this[t]===e){return t;}}return -1;},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",P="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",W=R.replace("w","w#"),$="\\["+P+"*("+R+")"+P+"*(?:([*^$|!~]?=)"+P+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+W+")|)|)"+P+"*\\]",I=":("+R+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+$.replace(3,8)+")*)|.*)\\)|)",z=RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g"),X=RegExp("^"+P+"*,"+P+"*"),U=RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),V=RegExp(P+"*[+~]"),Y=RegExp("="+P+"*([^\\]'\"]*)"+P+"*\\]","g"),J=RegExp(I),G=RegExp("^"+W+"$"),Q={ID:RegExp("^#("+R+")"),CLASS:RegExp("^\\.("+R+")"),TAG:RegExp("^("+R.replace("w","w*")+")"),ATTR:RegExp("^"+$),PSEUDO:RegExp("^"+I),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:RegExp("^(?:"+B+")$","i"),needsContext:RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/^(?:input|select|textarea|button)$/i,tt=/^h\d$/i,nt=/'|\\/g,rt=RegExp("\\\\([\\da-f]{1,6}"+P+"?|("+P+")|.)","ig"),it=function(e,t,n){var r="0x"+t-65536;
return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r);};try{M.apply(H=O.call(w.childNodes),w.childNodes),H[w.childNodes.length].nodeType;}catch(ot){M={apply:H.length?function(e,t){_.apply(e,O.call(t));}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]){}e.length=n-1;
}};}function at(e,t,n,i){var o,a,s,l,u,c,d,m,y,x;if((t?t.ownerDocument||t:w)!==f&&p(t),t=t||f,n=n||[],!e||"string"!=typeof e){return n;}if(1!==(l=t.nodeType)&&9!==l){return[];}if(h&&!i){if(o=Z.exec(e)){if(s=o[1]){if(9===l){if(a=t.getElementById(s),!a||!a.parentNode){return n;}if(a.id===s){return n.push(a),n;
}}else{if(t.ownerDocument&&(a=t.ownerDocument.getElementById(s))&&v(t,a)&&a.id===s){return n.push(a),n;}}}else{if(o[2]){return M.apply(n,t.getElementsByTagName(e)),n;}if((s=o[3])&&r.getElementsByClassName&&t.getElementsByClassName){return M.apply(n,t.getElementsByClassName(s)),n;}}}if(r.qsa&&(!g||!g.test(e))){if(m=d=b,y=t,x=9===l&&e,1===l&&"object"!==t.nodeName.toLowerCase()){c=mt(e),(d=t.getAttribute("id"))?m=d.replace(nt,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",u=c.length;
while(u--){c[u]=m+yt(c[u]);}y=V.test(e)&&t.parentNode||t,x=c.join(",");}if(x){try{return M.apply(n,y.querySelectorAll(x)),n;}catch(T){}finally{d||t.removeAttribute("id");}}}}return kt(e.replace(z,"$1"),t,n,i);}function st(){var e=[];function t(n,r){return e.push(n+=" ")>o.cacheLength&&delete t[e.shift()],t[n]=r;
}return t;}function lt(e){return e[b]=!0,e;}function ut(e){var t=f.createElement("div");try{return !!e(t);}catch(n){return !1;}finally{t.parentNode&&t.parentNode.removeChild(t),t=null;}}function ct(e,t){var n=e.split("|"),r=e.length;while(r--){o.attrHandle[n[r]]=t;}}function pt(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||D)-(~e.sourceIndex||D);
if(r){return r;}if(n){while(n=n.nextSibling){if(n===t){return -1;}}}return e?1:-1;}function ft(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e;};}function dt(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e;};}function ht(e){return lt(function(t){return t=+t,lt(function(n,r){var i,o=e([],n.length,t),a=o.length;
while(a--){n[i=o[a]]&&(n[i]=!(r[i]=n[i]));}});});}s=at.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1;},r=at.support={},p=at.setDocument=function(e){var n=e?e.ownerDocument||e:w,i=n.defaultView;return n!==f&&9===n.nodeType&&n.documentElement?(f=n,d=n.documentElement,h=!s(n),i&&i.attachEvent&&i!==i.top&&i.attachEvent("onbeforeunload",function(){p();
}),r.attributes=ut(function(e){return e.className="i",!e.getAttribute("className");}),r.getElementsByTagName=ut(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length;}),r.getElementsByClassName=ut(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length;
}),r.getById=ut(function(e){return d.appendChild(e).id=b,!n.getElementsByName||!n.getElementsByName(b).length;}),r.getById?(o.find.ID=function(e,t){if(typeof t.getElementById!==j&&h){var n=t.getElementById(e);return n&&n.parentNode?[n]:[];}},o.filter.ID=function(e){var t=e.replace(rt,it);return function(e){return e.getAttribute("id")===t;
};}):(delete o.find.ID,o.filter.ID=function(e){var t=e.replace(rt,it);return function(e){var n=typeof e.getAttributeNode!==j&&e.getAttributeNode("id");return n&&n.value===t;};}),o.find.TAG=r.getElementsByTagName?function(e,n){return typeof n.getElementsByTagName!==j?n.getElementsByTagName(e):t;}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);
if("*"===e){while(n=o[i++]){1===n.nodeType&&r.push(n);}return r;}return o;},o.find.CLASS=r.getElementsByClassName&&function(e,n){return typeof n.getElementsByClassName!==j&&h?n.getElementsByClassName(e):t;},m=[],g=[],(r.qsa=K.test(n.querySelectorAll))&&(ut(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||g.push("\\["+P+"*(?:value|"+B+")"),e.querySelectorAll(":checked").length||g.push(":checked");
}),ut(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&g.push("[*^$]="+P+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:");
})),(r.matchesSelector=K.test(y=d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ut(function(e){r.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),m.push("!=",I);}),g=g.length&&RegExp(g.join("|")),m=m.length&&RegExp(m.join("|")),v=K.test(d.contains)||d.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;
return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)));}:function(e,t){if(t){while(t=t.parentNode){if(t===e){return !0;}}}return !1;},A=d.compareDocumentPosition?function(e,t){if(e===t){return S=!0,0;}var i=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);
return i?1&i||!r.sortDetached&&t.compareDocumentPosition(e)===i?e===n||v(w,e)?-1:t===n||v(w,t)?1:c?F.call(c,e)-F.call(c,t):0:4&i?-1:1:e.compareDocumentPosition?-1:1;}:function(e,t){var r,i=0,o=e.parentNode,a=t.parentNode,s=[e],l=[t];if(e===t){return S=!0,0;}if(!o||!a){return e===n?-1:t===n?1:o?-1:a?1:c?F.call(c,e)-F.call(c,t):0;
}if(o===a){return pt(e,t);}r=e;while(r=r.parentNode){s.unshift(r);}r=t;while(r=r.parentNode){l.unshift(r);}while(s[i]===l[i]){i++;}return i?pt(s[i],l[i]):s[i]===w?-1:l[i]===w?1:0;},n):f;},at.matches=function(e,t){return at(e,null,null,t);},at.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&p(e),t=t.replace(Y,"='$1']"),!(!r.matchesSelector||!h||m&&m.test(t)||g&&g.test(t))){try{var n=y.call(e,t);
if(n||r.disconnectedMatch||e.document&&11!==e.document.nodeType){return n;}}catch(i){}}return at(t,f,null,[e]).length>0;},at.contains=function(e,t){return(e.ownerDocument||e)!==f&&p(e),v(e,t);},at.attr=function(e,n){(e.ownerDocument||e)!==f&&p(e);var i=o.attrHandle[n.toLowerCase()],a=i&&L.call(o.attrHandle,n.toLowerCase())?i(e,n,!h):t;
return a===t?r.attributes||!h?e.getAttribute(n):(a=e.getAttributeNode(n))&&a.specified?a.value:null:a;},at.error=function(e){throw Error("Syntax error, unrecognized expression: "+e);},at.uniqueSort=function(e){var t,n=[],i=0,o=0;if(S=!r.detectDuplicates,c=!r.sortStable&&e.slice(0),e.sort(A),S){while(t=e[o++]){t===e[o]&&(i=n.push(o));
}while(i--){e.splice(n[i],1);}}return e;},a=at.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent){return e.textContent;}for(e=e.firstChild;e;e=e.nextSibling){n+=a(e);}}else{if(3===i||4===i){return e.nodeValue;}}}else{for(;t=e[r];r++){n+=a(t);
}}return n;},o=at.selectors={cacheLength:50,createPseudo:lt,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(rt,it),e[3]=(e[4]||e[5]||"").replace(rt,it),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4);
},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||at.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&at.error(e[0]),e;},PSEUDO:function(e){var n,r=!e[5]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:r&&J.test(r)&&(n=mt(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(e[0]=e[0].slice(0,n),e[2]=r.slice(0,n)),e.slice(0,3));
}},filter:{TAG:function(e){var t=e.replace(rt,it).toLowerCase();return"*"===e?function(){return !0;}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t;};},CLASS:function(e){var t=N[e+" "];return t||(t=RegExp("(^|"+P+")"+e+"("+P+"|$)"))&&N(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==j&&e.getAttribute("class")||"");
});},ATTR:function(e,t,n){return function(r){var i=at.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0;
};},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return !!e.parentNode;}:function(t,n,l){var u,c,p,f,d,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!l&&!s;if(m){if(o){while(g){p=t;
while(p=p[g]){if(s?p.nodeName.toLowerCase()===y:1===p.nodeType){return !1;}}h=g="only"===e&&!h&&"nextSibling";}return !0;}if(h=[a?m.firstChild:m.lastChild],a&&v){c=m[b]||(m[b]={}),u=c[e]||[],d=u[0]===T&&u[1],f=u[0]===T&&u[2],p=d&&m.childNodes[d];while(p=++d&&p&&p[g]||(f=d=0)||h.pop()){if(1===p.nodeType&&++f&&p===t){c[e]=[T,d,f];
break;}}}else{if(v&&(u=(t[b]||(t[b]={}))[e])&&u[0]===T){f=u[1];}else{while(p=++d&&p&&p[g]||(f=d=0)||h.pop()){if((s?p.nodeName.toLowerCase()===y:1===p.nodeType)&&++f&&(v&&((p[b]||(p[b]={}))[e]=[T,f]),p===t)){break;}}}}return f-=i,f===r||0===f%r&&f/r>=0;}};},PSEUDO:function(e,t){var n,r=o.pseudos[e]||o.setFilters[e.toLowerCase()]||at.error("unsupported pseudo: "+e);
return r[b]?r(t):r.length>1?(n=[e,e,"",t],o.setFilters.hasOwnProperty(e.toLowerCase())?lt(function(e,n){var i,o=r(e,t),a=o.length;while(a--){i=F.call(e,o[a]),e[i]=!(n[i]=o[a]);}}):function(e){return r(e,0,n);}):r;}},pseudos:{not:lt(function(e){var t=[],n=[],r=l(e.replace(z,"$1"));return r[b]?lt(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;
while(s--){(o=a[s])&&(e[s]=!(t[s]=o));}}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop();};}),has:lt(function(e){return function(t){return at(e,t).length>0;};}),contains:lt(function(e){return function(t){return(t.textContent||t.innerText||a(t)).indexOf(e)>-1;};}),lang:lt(function(e){return G.test(e||"")||at.error("unsupported lang: "+e),e=e.replace(rt,it).toLowerCase(),function(t){var n;
do{if(n=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang")){return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");}}while((t=t.parentNode)&&1===t.nodeType);return !1;};}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id;},root:function(e){return e===d;},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex);
},enabled:function(e){return e.disabled===!1;},disabled:function(e){return e.disabled===!0;},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected;},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0;},empty:function(e){for(e=e.firstChild;
e;e=e.nextSibling){if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType){return !1;}}return !0;},parent:function(e){return !o.pseudos.empty(e);},header:function(e){return tt.test(e.nodeName);},input:function(e){return et.test(e.nodeName);},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t;
},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type);},first:ht(function(){return[0];}),last:ht(function(e,t){return[t-1];}),eq:ht(function(e,t,n){return[0>n?n+t:n];}),even:ht(function(e,t){var n=0;for(;t>n;n+=2){e.push(n);
}return e;}),odd:ht(function(e,t){var n=1;for(;t>n;n+=2){e.push(n);}return e;}),lt:ht(function(e,t,n){var r=0>n?n+t:n;for(;--r>=0;){e.push(r);}return e;}),gt:ht(function(e,t,n){var r=0>n?n+t:n;for(;t>++r;){e.push(r);}return e;})}},o.pseudos.nth=o.pseudos.eq;for(n in {radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){o.pseudos[n]=ft(n);
}for(n in {submit:!0,reset:!0}){o.pseudos[n]=dt(n);}function gt(){}gt.prototype=o.filters=o.pseudos,o.setFilters=new gt;function mt(e,t){var n,r,i,a,s,l,u,c=k[e+" "];if(c){return t?0:c.slice(0);}s=e,l=[],u=o.preFilter;while(s){(!n||(r=X.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(i=[])),n=!1,(r=U.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace(z," ")}),s=s.slice(n.length));
for(a in o.filter){!(r=Q[a].exec(s))||u[a]&&!(r=u[a](r))||(n=r.shift(),i.push({value:n,type:a,matches:r}),s=s.slice(n.length));}if(!n){break;}}return t?s.length:s?at.error(e):k(e,l).slice(0);}function yt(e){var t=0,n=e.length,r="";for(;n>t;t++){r+=e[t].value;}return r;}function vt(e,t,n){var r=t.dir,o=n&&"parentNode"===r,a=C++;
return t.first?function(t,n,i){while(t=t[r]){if(1===t.nodeType||o){return e(t,n,i);}}}:function(t,n,s){var l,u,c,p=T+" "+a;if(s){while(t=t[r]){if((1===t.nodeType||o)&&e(t,n,s)){return !0;}}}else{while(t=t[r]){if(1===t.nodeType||o){if(c=t[b]||(t[b]={}),(u=c[r])&&u[0]===p){if((l=u[1])===!0||l===i){return l===!0;
}}else{if(u=c[r]=[p],u[1]=e(t,n,s)||i,u[1]===!0){return !0;}}}}}};}function bt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--){if(!e[i](t,n,r)){return !1;}}return !0;}:e[0];}function xt(e,t,n,r,i){var o,a=[],s=0,l=e.length,u=null!=t;for(;l>s;s++){(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),u&&t.push(s));
}return a;}function wt(e,t,n,r,i,o){return r&&!r[b]&&(r=wt(r)),i&&!i[b]&&(i=wt(i,o)),lt(function(o,a,s,l){var u,c,p,f=[],d=[],h=a.length,g=o||Nt(t||"*",s.nodeType?[s]:s,[]),m=!e||!o&&t?g:xt(g,f,e,s,l),y=n?i||(o?e:h||r)?[]:a:m;if(n&&n(m,y,s,l),r){u=xt(y,d),r(u,[],s,l),c=u.length;while(c--){(p=u[c])&&(y[d[c]]=!(m[d[c]]=p));
}}if(o){if(i||e){if(i){u=[],c=y.length;while(c--){(p=y[c])&&u.push(m[c]=p);}i(null,y=[],u,l);}c=y.length;while(c--){(p=y[c])&&(u=i?F.call(o,p):f[c])>-1&&(o[u]=!(a[u]=p));}}}else{y=xt(y===a?y.splice(h,y.length):y),i?i(null,a,y,l):M.apply(a,y);}});}function Tt(e){var t,n,r,i=e.length,a=o.relative[e[0].type],s=a||o.relative[" "],l=a?1:0,c=vt(function(e){return e===t;
},s,!0),p=vt(function(e){return F.call(t,e)>-1;},s,!0),f=[function(e,n,r){return !a&&(r||n!==u)||((t=n).nodeType?c(e,n,r):p(e,n,r));}];for(;i>l;l++){if(n=o.relative[e[l].type]){f=[vt(bt(f),n)];}else{if(n=o.filter[e[l].type].apply(null,e[l].matches),n[b]){for(r=++l;i>r;r++){if(o.relative[e[r].type]){break;
}}return wt(l>1&&bt(f),l>1&&yt(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(z,"$1"),n,r>l&&Tt(e.slice(l,r)),i>r&&Tt(e=e.slice(r)),i>r&&yt(e));}f.push(n);}}return bt(f);}function Ct(e,t){var n=0,r=t.length>0,a=e.length>0,s=function(s,l,c,p,d){var h,g,m,y=[],v=0,b="0",x=s&&[],w=null!=d,C=u,N=s||a&&o.find.TAG("*",d&&l.parentNode||l),k=T+=null==C?1:Math.random()||0.1;
for(w&&(u=l!==f&&l,i=n);null!=(h=N[b]);b++){if(a&&h){g=0;while(m=e[g++]){if(m(h,l,c)){p.push(h);break;}}w&&(T=k,i=++n);}r&&((h=!m&&h)&&v--,s&&x.push(h));}if(v+=b,r&&b!==v){g=0;while(m=t[g++]){m(x,y,l,c);}if(s){if(v>0){while(b--){x[b]||y[b]||(y[b]=q.call(p));}}y=xt(y);}M.apply(p,y),w&&!s&&y.length>0&&v+t.length>1&&at.uniqueSort(p);
}return w&&(T=k,u=C),x;};return r?lt(s):s;}l=at.compile=function(e,t){var n,r=[],i=[],o=E[e+" "];if(!o){t||(t=mt(e)),n=t.length;while(n--){o=Tt(t[n]),o[b]?r.push(o):i.push(o);}o=E(e,Ct(i,r));}return o;};function Nt(e,t,n){var r=0,i=t.length;for(;i>r;r++){at(e,t[r],n);}return n;}function kt(e,t,n,i){var a,s,u,c,p,f=mt(e);
if(!i&&1===f.length){if(s=f[0]=f[0].slice(0),s.length>2&&"ID"===(u=s[0]).type&&r.getById&&9===t.nodeType&&h&&o.relative[s[1].type]){if(t=(o.find.ID(u.matches[0].replace(rt,it),t)||[])[0],!t){return n;}e=e.slice(s.shift().value.length);}a=Q.needsContext.test(e)?0:s.length;while(a--){if(u=s[a],o.relative[c=u.type]){break;
}if((p=o.find[c])&&(i=p(u.matches[0].replace(rt,it),V.test(s[0].type)&&t.parentNode||t))){if(s.splice(a,1),e=i.length&&yt(s),!e){return M.apply(n,i),n;}break;}}}return l(e,f)(i,t,!h,n,V.test(e)),n;}r.sortStable=b.split("").sort(A).join("")===b,r.detectDuplicates=S,p(),r.sortDetached=ut(function(e){return 1&e.compareDocumentPosition(f.createElement("div"));
}),ut(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href");})||ct("type|href|height|width",function(e,n,r){return r?t:e.getAttribute(n,"type"===n.toLowerCase()?1:2);}),r.attributes&&ut(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value");
})||ct("value",function(e,n,r){return r||"input"!==e.nodeName.toLowerCase()?t:e.defaultValue;}),ut(function(e){return null==e.getAttribute("disabled");})||ct(B,function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&i.specified?i.value:e[n]===!0?n.toLowerCase():null;}),x.find=at,x.expr=at.selectors,x.expr[":"]=x.expr.pseudos,x.unique=at.uniqueSort,x.text=at.getText,x.isXMLDoc=at.isXML,x.contains=at.contains;
}(e);var O={};function F(e){var t=O[e]={};return x.each(e.match(T)||[],function(e,n){t[n]=!0;}),t;}x.Callbacks=function(e){e="string"==typeof e?O[e]||F(e):x.extend({},e);var n,r,i,o,a,s,l=[],u=!e.once&&[],c=function(t){for(r=e.memory&&t,i=!0,a=s||0,s=0,o=l.length,n=!0;l&&o>a;a++){if(l[a].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;
break;}}n=!1,l&&(u?u.length&&c(u.shift()):r?l=[]:p.disable());},p={add:function(){if(l){var t=l.length;(function i(t){x.each(t,function(t,n){var r=x.type(n);"function"===r?e.unique&&p.has(n)||l.push(n):n&&n.length&&"string"!==r&&i(n);});})(arguments),n?o=l.length:r&&(s=t,c(r));}return this;},remove:function(){return l&&x.each(arguments,function(e,t){var r;
while((r=x.inArray(t,l,r))>-1){l.splice(r,1),n&&(o>=r&&o--,a>=r&&a--);}}),this;},has:function(e){return e?x.inArray(e,l)>-1:!(!l||!l.length);},empty:function(){return l=[],o=0,this;},disable:function(){return l=u=r=t,this;},disabled:function(){return !l;},lock:function(){return u=t,r||p.disable(),this;
},locked:function(){return !u;},fireWith:function(e,t){return !l||i&&!u||(t=t||[],t=[e,t.slice?t.slice():t],n?u.push(t):c(t)),this;},fire:function(){return p.fireWith(this,arguments),this;},fired:function(){return !!i;}};return p;},x.extend({Deferred:function(e){var t=[["resolve","done",x.Callbacks("once memory"),"resolved"],["reject","fail",x.Callbacks("once memory"),"rejected"],["notify","progress",x.Callbacks("memory")]],n="pending",r={state:function(){return n;
},always:function(){return i.done(arguments).fail(arguments),this;},then:function(){var e=arguments;return x.Deferred(function(n){x.each(t,function(t,o){var a=o[0],s=x.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&x.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments);
});}),e=null;}).promise();},promise:function(e){return null!=e?x.extend(e,r):r;}},i={};return r.pipe=r.then,x.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s;},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this;},i[o[0]+"With"]=a.fireWith;
}),r.promise(i),e&&e.call(i,i),i;},when:function(e){var t=0,n=g.call(arguments),r=n.length,i=1!==r||e&&x.isFunction(e.promise)?r:0,o=1===i?e:x.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?g.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n);};},s,l,u;
if(r>1){for(s=Array(r),l=Array(r),u=Array(r);r>t;t++){n[t]&&x.isFunction(n[t].promise)?n[t].promise().done(a(t,u,n)).fail(o.reject).progress(a(t,l,s)):--i;}}return i||o.resolveWith(u,n),o.promise();}}),x.support=function(t){var n,r,o,s,l,u,c,p,f,d=a.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*")||[],r=d.getElementsByTagName("a")[0],!r||!r.style||!n.length){return t;
}s=a.createElement("select"),u=s.appendChild(a.createElement("option")),o=d.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==d.className,t.leadingWhitespace=3===d.firstChild.nodeType,t.tbody=!d.getElementsByTagName("tbody").length,t.htmlSerialize=!!d.getElementsByTagName("link").length,t.style=/top/.test(r.getAttribute("style")),t.hrefNormalized="/a"===r.getAttribute("href"),t.opacity=/^0.5/.test(r.style.opacity),t.cssFloat=!!r.style.cssFloat,t.checkOn=!!o.value,t.optSelected=u.selected,t.enctype=!!a.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==a.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!u.disabled;
try{delete d.test;}catch(h){t.deleteExpando=!1;}o=a.createElement("input"),o.setAttribute("value",""),t.input=""===o.getAttribute("value"),o.value="t",o.setAttribute("type","radio"),t.radioValue="t"===o.value,o.setAttribute("checked","t"),o.setAttribute("name","t"),l=a.createDocumentFragment(),l.appendChild(o),t.appendChecked=o.checked,t.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1;
}),d.cloneNode(!0).click());for(f in {submit:!0,change:!0,focusin:!0}){d.setAttribute(c="on"+f,"t"),t[f+"Bubbles"]=c in e||d.attributes[c].expando===!1;}d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip;for(f in x(t)){break;
}return t.ownLast="0"!==f,x(function(){var n,r,o,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",l=a.getElementsByTagName("body")[0];l&&(n=a.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",l.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=d.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",p=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",t.reliableHiddenOffsets=p&&0===o[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",x.swap(l,null!=l.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===d.offsetWidth;
}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,r=d.appendChild(a.createElement("div")),r.style.cssText=d.style.cssText=s,r.style.marginRight=r.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof d.style.zoom!==i&&(d.innerHTML="",d.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(l.style.zoom=1)),l.removeChild(n),n=d=o=r=null);
}),n=s=l=u=r=o=null,t;}({});var B=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,P=/([A-Z])/g;function R(e,n,r,i){if(x.acceptData(e)){var o,a,s=x.expando,l=e.nodeType,u=l?x.cache:e,c=l?e[s]:e[s]&&s;if(c&&u[c]&&(i||u[c].data)||r!==t||"string"!=typeof n){return c||(c=l?e[s]=p.pop()||x.guid++:s),u[c]||(u[c]=l?{}:{toJSON:x.noop}),("object"==typeof n||"function"==typeof n)&&(i?u[c]=x.extend(u[c],n):u[c].data=x.extend(u[c].data,n)),a=u[c],i||(a.data||(a.data={}),a=a.data),r!==t&&(a[x.camelCase(n)]=r),"string"==typeof n?(o=a[n],null==o&&(o=a[x.camelCase(n)])):o=a,o;
}}}function W(e,t,n){if(x.acceptData(e)){var r,i,o=e.nodeType,a=o?x.cache:e,s=o?e[x.expando]:x.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){x.isArray(t)?t=t.concat(x.map(t,x.camelCase)):t in r?t=[t]:(t=x.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;while(i--){delete r[t[i]];}if(n?!I(r):!x.isEmptyObject(r)){return;
}}(n||(delete a[s].data,I(a[s])))&&(o?x.cleanData([e],!0):x.support.deleteExpando||a!=a.window?delete a[s]:a[s]=null);}}}x.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?x.cache[e[x.expando]]:e[x.expando],!!e&&!I(e);
},data:function(e,t,n){return R(e,t,n);},removeData:function(e,t){return W(e,t);},_data:function(e,t,n){return R(e,t,n,!0);},_removeData:function(e,t){return W(e,t,!0);},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType){return !1;}var t=e.nodeName&&x.noData[e.nodeName.toLowerCase()];
return !t||t!==!0&&e.getAttribute("classid")===t;}}),x.fn.extend({data:function(e,n){var r,i,o=null,a=0,s=this[0];if(e===t){if(this.length&&(o=x.data(s),1===s.nodeType&&!x._data(s,"parsedAttrs"))){for(r=s.attributes;r.length>a;a++){i=r[a].name,0===i.indexOf("data-")&&(i=x.camelCase(i.slice(5)),$(s,i,o[i]));
}x._data(s,"parsedAttrs",!0);}return o;}return"object"==typeof e?this.each(function(){x.data(this,e);}):arguments.length>1?this.each(function(){x.data(this,e,n);}):s?$(s,e,x.data(s,e)):null;},removeData:function(e){return this.each(function(){x.removeData(this,e);});}});function $(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(P,"-$1").toLowerCase();
if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:B.test(r)?x.parseJSON(r):r;}catch(o){}x.data(e,n,r);}else{r=t;}}return r;}function I(e){var t;for(t in e){if(("data"!==t||!x.isEmptyObject(e[t]))&&"toJSON"!==t){return !1;}}return !0;}x.extend({queue:function(e,n,r){var i;
return e?(n=(n||"fx")+"queue",i=x._data(e,n),r&&(!i||x.isArray(r)?i=x._data(e,n,x.makeArray(r)):i.push(r)),i||[]):t;},dequeue:function(e,t){t=t||"fx";var n=x.queue(e,t),r=n.length,i=n.shift(),o=x._queueHooks(e,t),a=function(){x.dequeue(e,t);};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire();
},_queueHooks:function(e,t){var n=t+"queueHooks";return x._data(e,n)||x._data(e,n,{empty:x.Callbacks("once memory").add(function(){x._removeData(e,t+"queue"),x._removeData(e,n);})});}}),x.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),r>arguments.length?x.queue(this[0],e):n===t?this:this.each(function(){var t=x.queue(this,e,n);
x._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&x.dequeue(this,e);});},dequeue:function(e){return this.each(function(){x.dequeue(this,e);});},delay:function(e,t){return e=x.fx?x.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r);};});},clearQueue:function(e){return this.queue(e||"fx",[]);
},promise:function(e,n){var r,i=1,o=x.Deferred(),a=this,s=this.length,l=function(){--i||o.resolveWith(a,[a]);};"string"!=typeof e&&(n=e,e=t),e=e||"fx";while(s--){r=x._data(a[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(l));}return l(),o.promise(n);}});var z,X,U=/[\t\r\n\f]/g,V=/\r/g,Y=/^(?:input|select|textarea|button|object)$/i,J=/^(?:a|area)$/i,G=/^(?:checked|selected)$/i,Q=x.support.getSetAttribute,K=x.support.input;
x.fn.extend({attr:function(e,t){return x.access(this,x.attr,e,t,arguments.length>1);},removeAttr:function(e){return this.each(function(){x.removeAttr(this,e);});},prop:function(e,t){return x.access(this,x.prop,e,t,arguments.length>1);},removeProp:function(e){return e=x.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e];
}catch(n){}});},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,l="string"==typeof e&&e;if(x.isFunction(e)){return this.each(function(t){x(this).addClass(e.call(this,t,this.className));});}if(l){for(t=(e||"").match(T)||[];s>a;a++){if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(U," "):" ")){o=0;
while(i=t[o++]){0>r.indexOf(" "+i+" ")&&(r+=i+" ");}n.className=x.trim(r);}}}return this;},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(x.isFunction(e)){return this.each(function(t){x(this).removeClass(e.call(this,t,this.className));});}if(l){for(t=(e||"").match(T)||[];
s>a;a++){if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(U," "):"")){o=0;while(i=t[o++]){while(r.indexOf(" "+i+" ")>=0){r=r.replace(" "+i+" "," ");}}n.className=e?x.trim(r):"";}}}return this;},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):x.isFunction(e)?this.each(function(n){x(this).toggleClass(e.call(this,n,this.className,t),t);
}):this.each(function(){if("string"===n){var t,r=0,o=x(this),a=e.match(T)||[];while(t=a[r++]){o.hasClass(t)?o.removeClass(t):o.addClass(t);}}else{(n===i||"boolean"===n)&&(this.className&&x._data(this,"__className__",this.className),this.className=this.className||e===!1?"":x._data(this,"__className__")||"");
}});},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;r>n;n++){if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(U," ").indexOf(t)>=0){return !0;}}return !1;},val:function(e){var n,r,i,o=this[0];if(arguments.length){return i=x.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=i?e.call(this,n,x(this).val()):e,null==o?o="":"number"==typeof o?o+="":x.isArray(o)&&(o=x.map(o,function(e){return null==e?"":e+"";
})),r=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()],r&&"set" in r&&r.set(this,o,"value")!==t||(this.value=o));});}if(o){return r=x.valHooks[o.type]||x.valHooks[o.nodeName.toLowerCase()],r&&"get" in r&&(n=r.get(o,"value"))!==t?n:(n=o.value,"string"==typeof n?n.replace(V,""):null==n?"":n);
}}}),x.extend({valHooks:{option:{get:function(e){var t=x.find.attr(e,"value");return null!=t?t:e.text;}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;for(;s>l;l++){if(n=r[l],!(!n.selected&&l!==i||(x.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&x.nodeName(n.parentNode,"optgroup"))){if(t=x(n).val(),o){return t;
}a.push(t);}}return a;},set:function(e,t){var n,r,i=e.options,o=x.makeArray(t),a=i.length;while(a--){r=i[a],(r.selected=x.inArray(x(r).val(),o)>=0)&&(n=!0);}return n||(e.selectedIndex=-1),o;}}},attr:function(e,n,r){var o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s){return typeof e.getAttribute===i?x.prop(e,n,r):(1===s&&x.isXMLDoc(e)||(n=n.toLowerCase(),o=x.attrHooks[n]||(x.expr.match.bool.test(n)?X:z)),r===t?o&&"get" in o&&null!==(a=o.get(e,n))?a:(a=x.find.attr(e,n),null==a?t:a):null!==r?o&&"set" in o&&(a=o.set(e,r,n))!==t?a:(e.setAttribute(n,r+""),r):(x.removeAttr(e,n),t));
}},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(T);if(o&&1===e.nodeType){while(n=o[i++]){r=x.propFix[n]||n,x.expr.match.bool.test(n)?K&&Q||!G.test(n)?e[r]=!1:e[x.camelCase("default-"+n)]=e[r]=!1:x.attr(e,n,""),e.removeAttribute(Q?n:r);}}},attrHooks:{type:{set:function(e,t){if(!x.support.radioValue&&"radio"===t&&x.nodeName(e,"input")){var n=e.value;
return e.setAttribute("type",t),n&&(e.value=n),t;}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s){return a=1!==s||!x.isXMLDoc(e),a&&(n=x.propFix[n]||n,o=x.propHooks[n]),r!==t?o&&"set" in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get" in o&&null!==(i=o.get(e,n))?i:e[n];
}},propHooks:{tabIndex:{get:function(e){var t=x.find.attr(e,"tabindex");return t?parseInt(t,10):Y.test(e.nodeName)||J.test(e.nodeName)&&e.href?0:-1;}}}}),X={set:function(e,t,n){return t===!1?x.removeAttr(e,n):K&&Q||!G.test(n)?e.setAttribute(!Q&&x.propFix[n]||n,n):e[x.camelCase("default-"+n)]=e[n]=!0,n;
}},x.each(x.expr.match.bool.source.match(/\w+/g),function(e,n){var r=x.expr.attrHandle[n]||x.find.attr;x.expr.attrHandle[n]=K&&Q||!G.test(n)?function(e,n,i){var o=x.expr.attrHandle[n],a=i?t:(x.expr.attrHandle[n]=t)!=r(e,n,i)?n.toLowerCase():null;return x.expr.attrHandle[n]=o,a;}:function(e,n,r){return r?t:e[x.camelCase("default-"+n)]?n.toLowerCase():null;
};}),K&&Q||(x.attrHooks.value={set:function(e,n,r){return x.nodeName(e,"input")?(e.defaultValue=n,t):z&&z.set(e,n,r);}}),Q||(z={set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===e.getAttribute(r)?n:t;}},x.expr.attrHandle.id=x.expr.attrHandle.name=x.expr.attrHandle.coords=function(e,n,r){var i;
return r?t:(i=e.getAttributeNode(n))&&""!==i.value?i.value:null;},x.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&r.specified?r.value:t;},set:z.set},x.attrHooks.contenteditable={set:function(e,t,n){z.set(e,""===t?!1:t,n);}},x.each(["width","height"],function(e,n){x.attrHooks[n]={set:function(e,r){return""===r?(e.setAttribute(n,"auto"),r):t;
}};})),x.support.hrefNormalized||x.each(["href","src"],function(e,t){x.propHooks[t]={get:function(e){return e.getAttribute(t,4);}};}),x.support.style||(x.attrHooks.style={get:function(e){return e.style.cssText||t;},set:function(e,t){return e.style.cssText=t+"";}}),x.support.optSelected||(x.propHooks.selected={get:function(e){var t=e.parentNode;
return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null;}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this;}),x.support.enctype||(x.propFix.enctype="encoding"),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(e,n){return x.isArray(n)?e.checked=x.inArray(x(e).val(),n)>=0:t;
}},x.support.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value;});});var Z=/^(?:input|select|textarea)$/i,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^([^.]*)(?:\.(.+)|)$/;function it(){return !0;}function ot(){return !1;
}function at(){try{return a.activeElement;}catch(e){}}x.event={global:{},add:function(e,n,r,o,a){var s,l,u,c,p,f,d,h,g,m,y,v=x._data(e);if(v){r.handler&&(c=r,r=c.handler,a=c.selector),r.guid||(r.guid=x.guid++),(l=v.events)||(l=v.events={}),(f=v.handle)||(f=v.handle=function(e){return typeof x===i||e&&x.event.triggered===e.type?t:x.event.dispatch.apply(f.elem,arguments);
},f.elem=e),n=(n||"").match(T)||[""],u=n.length;while(u--){s=rt.exec(n[u])||[],g=y=s[1],m=(s[2]||"").split(".").sort(),g&&(p=x.event.special[g]||{},g=(a?p.delegateType:p.bindType)||g,p=x.event.special[g]||{},d=x.extend({type:g,origType:y,data:o,handler:r,guid:r.guid,selector:a,needsContext:a&&x.expr.match.needsContext.test(a),namespace:m.join(".")},c),(h=l[g])||(h=l[g]=[],h.delegateCount=0,p.setup&&p.setup.call(e,o,m,f)!==!1||(e.addEventListener?e.addEventListener(g,f,!1):e.attachEvent&&e.attachEvent("on"+g,f))),p.add&&(p.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),a?h.splice(h.delegateCount++,0,d):h.push(d),x.event.global[g]=!0);
}e=null;}},remove:function(e,t,n,r,i){var o,a,s,l,u,c,p,f,d,h,g,m=x.hasData(e)&&x._data(e);if(m&&(c=m.events)){t=(t||"").match(T)||[""],u=t.length;while(u--){if(s=rt.exec(t[u])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){p=x.event.special[d]||{},d=(r?p.delegateType:p.bindType)||d,f=c[d]||[],s=s[2]&&RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=f.length;
while(o--){a=f[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,p.remove&&p.remove.call(e,a));}l&&!f.length&&(p.teardown&&p.teardown.call(e,h,m.handle)!==!1||x.removeEvent(e,d,m.handle),delete c[d]);
}else{for(d in c){x.event.remove(e,d+t[u],n,r,!0);}}}x.isEmptyObject(c)&&(delete m.handle,x._removeData(e,"events"));}},trigger:function(n,r,i,o){var s,l,u,c,p,f,d,h=[i||a],g=v.call(n,"type")?n.type:n,m=v.call(n,"namespace")?n.namespace.split("."):[];if(u=f=i=i||a,3!==i.nodeType&&8!==i.nodeType&&!nt.test(g+x.event.triggered)&&(g.indexOf(".")>=0&&(m=g.split("."),g=m.shift(),m.sort()),l=0>g.indexOf(":")&&"on"+g,n=n[x.expando]?n:new x.Event(g,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:x.makeArray(r,[n]),p=x.event.special[g]||{},o||!p.trigger||p.trigger.apply(i,r)!==!1)){if(!o&&!p.noBubble&&!x.isWindow(i)){for(c=p.delegateType||g,nt.test(c+g)||(u=u.parentNode);
u;u=u.parentNode){h.push(u),f=u;}f===(i.ownerDocument||a)&&h.push(f.defaultView||f.parentWindow||e);}d=0;while((u=h[d++])&&!n.isPropagationStopped()){n.type=d>1?c:p.bindType||g,s=(x._data(u,"events")||{})[n.type]&&x._data(u,"handle"),s&&s.apply(u,r),s=l&&u[l],s&&x.acceptData(u)&&s.apply&&s.apply(u,r)===!1&&n.preventDefault();
}if(n.type=g,!o&&!n.isDefaultPrevented()&&(!p._default||p._default.apply(h.pop(),r)===!1)&&x.acceptData(i)&&l&&i[g]&&!x.isWindow(i)){f=i[l],f&&(i[l]=null),x.event.triggered=g;try{i[g]();}catch(y){}x.event.triggered=t,f&&(i[l]=f);}return n.result;}},dispatch:function(e){e=x.event.fix(e);var n,r,i,o,a,s=[],l=g.call(arguments),u=(x._data(this,"events")||{})[e.type]||[],c=x.event.special[e.type]||{};
if(l[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){s=x.event.handlers.call(this,e,u),n=0;while((o=s[n++])&&!e.isPropagationStopped()){e.currentTarget=o.elem,a=0;while((i=o.handlers[a++])&&!e.isImmediatePropagationStopped()){(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((x.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,l),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));
}}return c.postDispatch&&c.postDispatch.call(this,e),e.result;}},handlers:function(e,n){var r,i,o,a,s=[],l=n.delegateCount,u=e.target;if(l&&u.nodeType&&(!e.button||"click"!==e.type)){for(;u!=this;u=u.parentNode||this){if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(o=[],a=0;l>a;a++){i=n[a],r=i.selector+" ",o[r]===t&&(o[r]=i.needsContext?x(r,this).index(u)>=0:x.find(r,this,null,[u]).length),o[r]&&o.push(i);
}o.length&&s.push({elem:u,handlers:o});}}}return n.length>l&&s.push({elem:this,handlers:n.slice(l)}),s;},fix:function(e){if(e[x.expando]){return e;}var t,n,r,i=e.type,o=e,s=this.fixHooks[i];s||(this.fixHooks[i]=s=tt.test(i)?this.mouseHooks:et.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new x.Event(o),t=r.length;
while(t--){n=r[t],e[n]=o[n];}return e.target||(e.target=o.srcElement||a),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,o):e;},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e;
}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,o,s=n.button,l=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||a,o=i.documentElement,r=i.body,e.pageX=n.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&l&&(e.relatedTarget=l===e.target?n.toElement:l),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e;
}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==at()&&this.focus){try{return this.focus(),!1;}catch(e){}}},delegateType:"focusin"},blur:{trigger:function(){return this===at()&&this.blur?(this.blur(),!1):t;},delegateType:"focusout"},click:{trigger:function(){return x.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t;
},_default:function(e){return x.nodeName(e.target,"a");}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result);}}},simulate:function(e,t,n,r){var i=x.extend(new x.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?x.event.trigger(i,null,t):x.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault();
}},x.removeEvent=a.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1);}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===i&&(e[r]=null),e.detachEvent(r,n));},x.Event=function(e,n){return this instanceof x.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?it:ot):this.type=e,n&&x.extend(this,n),this.timeStamp=e&&e.timeStamp||x.now(),this[x.expando]=!0,t):new x.Event(e,n);
},x.Event.prototype={isDefaultPrevented:ot,isPropagationStopped:ot,isImmediatePropagationStopped:ot,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=it,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1);},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=it,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0);
},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it,this.stopPropagation();}},x.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!x.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n;
}};}),x.support.submitBubbles||(x.event.special.submit={setup:function(){return x.nodeName(this,"form")?!1:(x.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=x.nodeName(n,"input")||x.nodeName(n,"button")?n.form:t;r&&!x._data(r,"submitBubbles")&&(x.event.add(r,"submit._submit",function(e){e._submit_bubble=!0;
}),x._data(r,"submitBubbles",!0));}),t);},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&x.event.simulate("submit",this.parentNode,e,!0));},teardown:function(){return x.nodeName(this,"form")?!1:(x.event.remove(this,"._submit"),t);}}),x.support.changeBubbles||(x.event.special.change={setup:function(){return Z.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(x.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0);
}),x.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),x.event.simulate("change",this,e,!0);})),!1):(x.event.add(this,"beforeactivate._change",function(e){var t=e.target;Z.test(t.nodeName)&&!x._data(t,"changeBubbles")&&(x.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||x.event.simulate("change",this.parentNode,e,!0);
}),x._data(t,"changeBubbles",!0));}),t);},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t;},teardown:function(){return x.event.remove(this,"._change"),!Z.test(this.nodeName);}}),x.support.focusinBubbles||x.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){x.event.simulate(t,e.target,x.event.fix(e),!0);
};x.event.special[t]={setup:function(){0===n++&&a.addEventListener(e,r,!0);},teardown:function(){0===--n&&a.removeEventListener(e,r,!0);}};}),x.fn.extend({on:function(e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(a in e){this.on(a,n,r,e[a],o);}return this;}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1){i=ot;
}else{if(!i){return this;}}return 1===o&&(s=i,i=function(e){return x().off(e),s.apply(this,arguments);},i.guid=s.guid||(s.guid=x.guid++)),this.each(function(){x.event.add(this,e,i,r,n);});},one:function(e,t,n,r){return this.on(e,t,n,r,1);},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj){return i=e.handleObj,x(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;
}if("object"==typeof e){for(o in e){this.off(o,n,e[o]);}return this;}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=ot),this.each(function(){x.event.remove(this,e,r,n);});},trigger:function(e,t){return this.each(function(){x.event.trigger(e,t,this);});},triggerHandler:function(e,n){var r=this[0];
return r?x.event.trigger(e,n,r,!0):t;}});var st=/^.[^:#\[\.,]*$/,lt=/^(?:parents|prev(?:Until|All))/,ut=x.expr.match.needsContext,ct={children:!0,contents:!0,next:!0,prev:!0};x.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e){return this.pushStack(x(e).filter(function(){for(t=0;
i>t;t++){if(x.contains(r[t],this)){return !0;}}}));}for(t=0;i>t;t++){x.find(e,r[t],n);}return n=this.pushStack(i>1?x.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n;},has:function(e){var t,n=x(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++){if(x.contains(this,n[t])){return !0;
}}});},not:function(e){return this.pushStack(ft(this,e||[],!0));},filter:function(e){return this.pushStack(ft(this,e||[],!1));},is:function(e){return !!ft(this,"string"==typeof e&&ut.test(e)?x(e):e||[],!1).length;},closest:function(e,t){var n,r=0,i=this.length,o=[],a=ut.test(e)||"string"!=typeof e?x(e,t||this.context):0;
for(;i>r;r++){for(n=this[r];n&&n!==t;n=n.parentNode){if(11>n.nodeType&&(a?a.index(n)>-1:1===n.nodeType&&x.find.matchesSelector(n,e))){n=o.push(n);break;}}}return this.pushStack(o.length>1?x.unique(o):o);},index:function(e){return e?"string"==typeof e?x.inArray(this[0],x(e)):x.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1;
},add:function(e,t){var n="string"==typeof e?x(e,t):x.makeArray(e&&e.nodeType?[e]:e),r=x.merge(this.get(),n);return this.pushStack(x.unique(r));},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e));}});function pt(e,t){do{e=e[t];}while(e&&1!==e.nodeType);return e;}x.each({parent:function(e){var t=e.parentNode;
return t&&11!==t.nodeType?t:null;},parents:function(e){return x.dir(e,"parentNode");},parentsUntil:function(e,t,n){return x.dir(e,"parentNode",n);},next:function(e){return pt(e,"nextSibling");},prev:function(e){return pt(e,"previousSibling");},nextAll:function(e){return x.dir(e,"nextSibling");},prevAll:function(e){return x.dir(e,"previousSibling");
},nextUntil:function(e,t,n){return x.dir(e,"nextSibling",n);},prevUntil:function(e,t,n){return x.dir(e,"previousSibling",n);},siblings:function(e){return x.sibling((e.parentNode||{}).firstChild,e);},children:function(e){return x.sibling(e.firstChild);},contents:function(e){return x.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:x.merge([],e.childNodes);
}},function(e,t){x.fn[e]=function(n,r){var i=x.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=x.filter(r,i)),this.length>1&&(ct[e]||(i=x.unique(i)),lt.test(e)&&(i=i.reverse())),this.pushStack(i);};}),x.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?x.find.matchesSelector(r,e)?[r]:[]:x.find.matches(e,x.grep(t,function(e){return 1===e.nodeType;
}));},dir:function(e,n,r){var i=[],o=e[n];while(o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!x(o).is(r))){1===o.nodeType&&i.push(o),o=o[n];}return i;},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling){1===e.nodeType&&e!==t&&n.push(e);}return n;}});function ft(e,t,n){if(x.isFunction(t)){return x.grep(e,function(e,r){return !!t.call(e,r,e)!==n;
});}if(t.nodeType){return x.grep(e,function(e){return e===t!==n;});}if("string"==typeof t){if(st.test(t)){return x.filter(t,e,n);}t=x.filter(t,e);}return x.grep(e,function(e){return x.inArray(e,t)>=0!==n;});}function dt(e){var t=ht.split("|"),n=e.createDocumentFragment();if(n.createElement){while(t.length){n.createElement(t.pop());
}}return n;}var ht="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gt=/ jQuery\d+="(?:null|\d+)"/g,mt=RegExp("<(?:"+ht+")[\\s/>]","i"),yt=/^\s+/,vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,xt=/<tbody/i,wt=/<|&#?\w+;/,Tt=/<(?:script|style|link)/i,Ct=/^(?:checkbox|radio)$/i,Nt=/checked\s*(?:[^=]|=\s*.checked.)/i,kt=/^$|\/(?:java|ecma)script/i,Et=/^true\/(.*)/,St=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,At={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:x.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},jt=dt(a),Dt=jt.appendChild(a.createElement("div"));
At.optgroup=At.option,At.tbody=At.tfoot=At.colgroup=At.caption=At.thead,At.th=At.td,x.fn.extend({text:function(e){return x.access(this,function(e){return e===t?x.text(this):this.empty().append((this[0]&&this[0].ownerDocument||a).createTextNode(e));},null,e,arguments.length);},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Lt(this,e);
t.appendChild(e);}});},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Lt(this,e);t.insertBefore(e,t.firstChild);}});},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this);
});},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling);});},remove:function(e,t){var n,r=e?x.filter(e,this):this,i=0;for(;null!=(n=r[i]);i++){t||1!==n.nodeType||x.cleanData(Ft(n)),n.parentNode&&(t&&x.contains(n.ownerDocument,n)&&_t(Ft(n,"script")),n.parentNode.removeChild(n));
}return this;},empty:function(){var e,t=0;for(;null!=(e=this[t]);t++){1===e.nodeType&&x.cleanData(Ft(e,!1));while(e.firstChild){e.removeChild(e.firstChild);}e.options&&x.nodeName(e,"select")&&(e.options.length=0);}return this;},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return x.clone(this,e,t);
});},html:function(e){return x.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t){return 1===n.nodeType?n.innerHTML.replace(gt,""):t;}if(!("string"!=typeof e||Tt.test(e)||!x.support.htmlSerialize&&mt.test(e)||!x.support.leadingWhitespace&&yt.test(e)||At[(bt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(vt,"<$1></$2>");
try{for(;i>r;r++){n=this[r]||{},1===n.nodeType&&(x.cleanData(Ft(n,!1)),n.innerHTML=e);}n=0;}catch(o){}}n&&this.empty().append(e);},null,e,arguments.length);},replaceWith:function(){var e=x.map(this,function(e){return[e.nextSibling,e.parentNode];}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];
i&&(r&&r.parentNode!==i&&(r=this.nextSibling),x(this).remove(),i.insertBefore(n,r));},!0),t?this:this.remove();},detach:function(e){return this.remove(e,!0);},domManip:function(e,t,n){e=d.apply([],e);var r,i,o,a,s,l,u=0,c=this.length,p=this,f=c-1,h=e[0],g=x.isFunction(h);if(g||!(1>=c||"string"!=typeof h||x.support.checkClone)&&Nt.test(h)){return this.each(function(r){var i=p.eq(r);
g&&(e[0]=h.call(this,r,i.html())),i.domManip(e,t,n);});}if(c&&(l=x.buildFragment(e,this[0].ownerDocument,!1,!n&&this),r=l.firstChild,1===l.childNodes.length&&(l=r),r)){for(a=x.map(Ft(l,"script"),Ht),o=a.length;c>u;u++){i=l,u!==f&&(i=x.clone(i,!0,!0),o&&x.merge(a,Ft(i,"script"))),t.call(this[u],i,u);}if(o){for(s=a[a.length-1].ownerDocument,x.map(a,qt),u=0;
o>u;u++){i=a[u],kt.test(i.type||"")&&!x._data(i,"globalEval")&&x.contains(s,i)&&(i.src?x._evalUrl(i.src):x.globalEval((i.text||i.textContent||i.innerHTML||"").replace(St,"")));}}l=r=null;}return this;}});function Lt(e,t){return x.nodeName(e,"table")&&x.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e;
}function Ht(e){return e.type=(null!==x.find.attr(e,"type"))+"/"+e.type,e;}function qt(e){var t=Et.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e;}function _t(e,t){var n,r=0;for(;null!=(n=e[r]);r++){x._data(n,"globalEval",!t||x._data(t[r],"globalEval"));}}function Mt(e,t){if(1===t.nodeType&&x.hasData(e)){var n,r,i,o=x._data(e),a=x._data(t,o),s=o.events;
if(s){delete a.handle,a.events={};for(n in s){for(r=0,i=s[n].length;i>r;r++){x.event.add(t,n,s[n][r]);}}}a.data&&(a.data=x.extend({},a.data));}}function Ot(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!x.support.noCloneEvent&&t[x.expando]){i=x._data(t);for(r in i.events){x.removeEvent(t,r,i.handle);
}t.removeAttribute(x.expando);}"script"===n&&t.text!==e.text?(Ht(t).text=e.text,qt(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),x.support.html5Clone&&e.innerHTML&&!x.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Ct.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue);
}}x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){x.fn[e]=function(e){var n,r=0,i=[],o=x(e),a=o.length-1;for(;a>=r;r++){n=r===a?this:this.clone(!0),x(o[r])[t](n),h.apply(i,n.get());}return this.pushStack(i);};});function Ft(e,n){var r,o,a=0,s=typeof e.getElementsByTagName!==i?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==i?e.querySelectorAll(n||"*"):t;
if(!s){for(s=[],r=e.childNodes||e;null!=(o=r[a]);a++){!n||x.nodeName(o,n)?s.push(o):x.merge(s,Ft(o,n));}}return n===t||n&&x.nodeName(e,n)?x.merge([e],s):s;}function Bt(e){Ct.test(e.type)&&(e.defaultChecked=e.checked);}x.extend({clone:function(e,t,n){var r,i,o,a,s,l=x.contains(e.ownerDocument,e);if(x.support.html5Clone||x.isXMLDoc(e)||!mt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Dt.innerHTML=e.outerHTML,Dt.removeChild(o=Dt.firstChild)),!(x.support.noCloneEvent&&x.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e))){for(r=Ft(o),s=Ft(e),a=0;
null!=(i=s[a]);++a){r[a]&&Ot(i,r[a]);}}if(t){if(n){for(s=s||Ft(e),r=r||Ft(o),a=0;null!=(i=s[a]);a++){Mt(i,r[a]);}}else{Mt(e,o);}}return r=Ft(o,"script"),r.length>0&&_t(r,!l&&Ft(e,"script")),r=s=i=null,o;},buildFragment:function(e,t,n,r){var i,o,a,s,l,u,c,p=e.length,f=dt(t),d=[],h=0;for(;p>h;h++){if(o=e[h],o||0===o){if("object"===x.type(o)){x.merge(d,o.nodeType?[o]:o);
}else{if(wt.test(o)){s=s||f.appendChild(t.createElement("div")),l=(bt.exec(o)||["",""])[1].toLowerCase(),c=At[l]||At._default,s.innerHTML=c[1]+o.replace(vt,"<$1></$2>")+c[2],i=c[0];while(i--){s=s.lastChild;}if(!x.support.leadingWhitespace&&yt.test(o)&&d.push(t.createTextNode(yt.exec(o)[0])),!x.support.tbody){o="table"!==l||xt.test(o)?"<table>"!==c[1]||xt.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;
while(i--){x.nodeName(u=o.childNodes[i],"tbody")&&!u.childNodes.length&&o.removeChild(u);}}x.merge(d,s.childNodes),s.textContent="";while(s.firstChild){s.removeChild(s.firstChild);}s=f.lastChild;}else{d.push(t.createTextNode(o));}}}}s&&f.removeChild(s),x.support.appendChecked||x.grep(Ft(d,"input"),Bt),h=0;
while(o=d[h++]){if((!r||-1===x.inArray(o,r))&&(a=x.contains(o.ownerDocument,o),s=Ft(f.appendChild(o),"script"),a&&_t(s),n)){i=0;while(o=s[i++]){kt.test(o.type||"")&&n.push(o);}}}return s=null,f;},cleanData:function(e,t){var n,r,o,a,s=0,l=x.expando,u=x.cache,c=x.support.deleteExpando,f=x.event.special;
for(;null!=(n=e[s]);s++){if((t||x.acceptData(n))&&(o=n[l],a=o&&u[o])){if(a.events){for(r in a.events){f[r]?x.event.remove(n,r):x.removeEvent(n,r,a.handle);}}u[o]&&(delete u[o],c?delete n[l]:typeof n.removeAttribute!==i?n.removeAttribute(l):n[l]=null,p.push(o));}}},_evalUrl:function(e){return x.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0});
}}),x.fn.extend({wrapAll:function(e){if(x.isFunction(e)){return this.each(function(t){x(this).wrapAll(e.call(this,t));});}if(this[0]){var t=x(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&1===e.firstChild.nodeType){e=e.firstChild;
}return e;}).append(this);}return this;},wrapInner:function(e){return x.isFunction(e)?this.each(function(t){x(this).wrapInner(e.call(this,t));}):this.each(function(){var t=x(this),n=t.contents();n.length?n.wrapAll(e):t.append(e);});},wrap:function(e){var t=x.isFunction(e);return this.each(function(n){x(this).wrapAll(t?e.call(this,n):e);
});},unwrap:function(){return this.parent().each(function(){x.nodeName(this,"body")||x(this).replaceWith(this.childNodes);}).end();}});var Pt,Rt,Wt,$t=/alpha\([^)]*\)/i,It=/opacity\s*=\s*([^)]*)/,zt=/^(top|right|bottom|left)$/,Xt=/^(none|table(?!-c[ea]).+)/,Ut=/^margin/,Vt=RegExp("^("+w+")(.*)$","i"),Yt=RegExp("^("+w+")(?!px)[a-z%]+$","i"),Jt=RegExp("^([+-])=("+w+")","i"),Gt={BODY:"block"},Qt={position:"absolute",visibility:"hidden",display:"block"},Kt={letterSpacing:0,fontWeight:400},Zt=["Top","Right","Bottom","Left"],en=["Webkit","O","Moz","ms"];
function tn(e,t){if(t in e){return t;}var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=en.length;while(i--){if(t=en[i]+n,t in e){return t;}}return r;}function nn(e,t){return e=t||e,"none"===x.css(e,"display")||!x.contains(e.ownerDocument,e);}function rn(e,t){var n,r,i,o=[],a=0,s=e.length;for(;s>a;a++){r=e[a],r.style&&(o[a]=x._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&nn(r)&&(o[a]=x._data(r,"olddisplay",ln(r.nodeName)))):o[a]||(i=nn(r),(n&&"none"!==n||!i)&&x._data(r,"olddisplay",i?n:x.css(r,"display"))));
}for(a=0;s>a;a++){r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));}return e;}x.fn.extend({css:function(e,n){return x.access(this,function(e,n,r){var i,o,a={},s=0;if(x.isArray(n)){for(o=Rt(e),i=n.length;i>s;s++){a[n[s]]=x.css(e,n[s],!1,o);}return a;
}return r!==t?x.style(e,n,r):x.css(e,n);},e,n,arguments.length>1);},show:function(){return rn(this,!0);},hide:function(){return rn(this);},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){nn(this)?x(this).show():x(this).hide();});}}),x.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Wt(e,"opacity");
return""===n?"1":n;}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":x.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,l=x.camelCase(n),u=e.style;
if(n=x.cssProps[l]||(x.cssProps[l]=tn(u,l)),s=x.cssHooks[n]||x.cssHooks[l],r===t){return s&&"get" in s&&(o=s.get(e,!1,i))!==t?o:u[n];}if(a=typeof r,"string"===a&&(o=Jt.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(x.css(e,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||x.cssNumber[l]||(r+="px"),x.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(u[n]="inherit"),s&&"set" in s&&(r=s.set(e,r,i))===t))){try{u[n]=r;
}catch(c){}}}},css:function(e,n,r,i){var o,a,s,l=x.camelCase(n);return n=x.cssProps[l]||(x.cssProps[l]=tn(e.style,l)),s=x.cssHooks[n]||x.cssHooks[l],s&&"get" in s&&(a=s.get(e,!0,r)),a===t&&(a=Wt(e,n,i)),"normal"===a&&n in Kt&&(a=Kt[n]),""===r||r?(o=parseFloat(a),r===!0||x.isNumeric(o)?o||0:a):a;}}),e.getComputedStyle?(Rt=function(t){return e.getComputedStyle(t,null);
},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),l=s?s.getPropertyValue(n)||s[n]:t,u=e.style;return s&&(""!==l||x.contains(e.ownerDocument,e)||(l=x.style(e,n)),Yt.test(l)&&Ut.test(n)&&(i=u.width,o=u.minWidth,a=u.maxWidth,u.minWidth=u.maxWidth=u.width=l,l=s.width,u.width=i,u.minWidth=o,u.maxWidth=a)),l;}):a.documentElement.currentStyle&&(Rt=function(e){return e.currentStyle;
},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),l=s?s[n]:t,u=e.style;return null==l&&u&&u[n]&&(l=u[n]),Yt.test(l)&&!zt.test(n)&&(i=u.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),u.left="fontSize"===n?"1em":l,l=u.pixelLeft+"px",u.left=i,a&&(o.left=a)),""===l?"auto":l;});function on(e,t,n){var r=Vt.exec(t);
return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t;}function an(e,t,n,r,i){var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;for(;4>o;o+=2){"margin"===n&&(a+=x.css(e,n+Zt[o],!0,i)),r?("content"===n&&(a-=x.css(e,"padding"+Zt[o],!0,i)),"margin"!==n&&(a-=x.css(e,"border"+Zt[o]+"Width",!0,i))):(a+=x.css(e,"padding"+Zt[o],!0,i),"padding"!==n&&(a+=x.css(e,"border"+Zt[o]+"Width",!0,i)));
}return a;}function sn(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Rt(e),a=x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=Wt(e,t,o),(0>i||null==i)&&(i=e.style[t]),Yt.test(i)){return i;}r=a&&(x.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0;
}return i+an(e,t,n||(a?"border":"content"),r,o)+"px";}function ln(e){var t=a,n=Gt[e];return n||(n=un(e,t),"none"!==n&&n||(Pt=(Pt||x("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(Pt[0].contentWindow||Pt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=un(e,t),Pt.detach()),Gt[e]=n),n;
}function un(e,t){var n=x(t.createElement(e)).appendTo(t.body),r=x.css(n[0],"display");return n.remove(),r;}x.each(["height","width"],function(e,n){x.cssHooks[n]={get:function(e,r,i){return r?0===e.offsetWidth&&Xt.test(x.css(e,"display"))?x.swap(e,Qt,function(){return sn(e,n,i);}):sn(e,n,i):t;},set:function(e,t,r){var i=r&&Rt(e);
return on(e,t,r?an(e,n,r,x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,i),i):0);}};}),x.support.opacity||(x.cssHooks.opacity={get:function(e,t){return It.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":t?"1":"";},set:function(e,t){var n=e.style,r=e.currentStyle,i=x.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";
n.zoom=1,(t>=1||""===t)&&""===x.trim(o.replace($t,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=$t.test(o)?o.replace($t,i):o+" "+i);}}),x(function(){x.support.reliableMarginRight||(x.cssHooks.marginRight={get:function(e,n){return n?x.swap(e,{display:"inline-block"},Wt,[e,"marginRight"]):t;
}}),!x.support.pixelPosition&&x.fn.position&&x.each(["top","left"],function(e,n){x.cssHooks[n]={get:function(e,r){return r?(r=Wt(e,n),Yt.test(r)?x(e).position()[n]+"px":r):t;}};});}),x.expr&&x.expr.filters&&(x.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!x.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||x.css(e,"display"));
},x.expr.filters.visible=function(e){return !x.expr.filters.hidden(e);}),x.each({margin:"",padding:"",border:"Width"},function(e,t){x.cssHooks[e+t]={expand:function(n){var r=0,i={},o="string"==typeof n?n.split(" "):[n];for(;4>r;r++){i[e+Zt[r]+t]=o[r]||o[r-2]||o[0];}return i;}},Ut.test(e)||(x.cssHooks[e+t].set=on);
});var cn=/%20/g,pn=/\[\]$/,fn=/\r?\n/g,dn=/^(?:submit|button|image|reset|file)$/i,hn=/^(?:input|select|textarea|keygen)/i;x.fn.extend({serialize:function(){return x.param(this.serializeArray());},serializeArray:function(){return this.map(function(){var e=x.prop(this,"elements");return e?x.makeArray(e):this;
}).filter(function(){var e=this.type;return this.name&&!x(this).is(":disabled")&&hn.test(this.nodeName)&&!dn.test(e)&&(this.checked||!Ct.test(e));}).map(function(e,t){var n=x(this).val();return null==n?null:x.isArray(n)?x.map(n,function(e){return{name:t.name,value:e.replace(fn,"\r\n")};}):{name:t.name,value:n.replace(fn,"\r\n")};
}).get();}}),x.param=function(e,n){var r,i=[],o=function(e,t){t=x.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t);};if(n===t&&(n=x.ajaxSettings&&x.ajaxSettings.traditional),x.isArray(e)||e.jquery&&!x.isPlainObject(e)){x.each(e,function(){o(this.name,this.value);
});}else{for(r in e){gn(r,e[r],n,o);}}return i.join("&").replace(cn,"+");};function gn(e,t,n,r){var i;if(x.isArray(t)){x.each(t,function(t,i){n||pn.test(e)?r(e,i):gn(e+"["+("object"==typeof i?t:"")+"]",i,n,r);});}else{if(n||"object"!==x.type(t)){r(e,t);}else{for(i in t){gn(e+"["+i+"]",t[i],n,r);}}}}x.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){x.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t);
};}),x.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e);},bind:function(e,t,n){return this.on(e,null,t,n);},unbind:function(e,t){return this.off(e,null,t);},delegate:function(e,t,n,r){return this.on(t,e,n,r);},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n);
}});var mn,yn,vn=x.now(),bn=/\?/,xn=/#.*$/,wn=/([?&])_=[^&]*/,Tn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Cn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Nn=/^(?:GET|HEAD)$/,kn=/^\/\//,En=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Sn=x.fn.load,An={},jn={},Dn="*/".concat("*");try{yn=o.href;}catch(Ln){yn=a.createElement("a"),yn.href="",yn=yn.href;
}mn=En.exec(yn.toLowerCase())||[];function Hn(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(T)||[];if(x.isFunction(n)){while(r=o[i++]){"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n);}}};}function qn(e,n,r,i){var o={},a=e===jn;
function s(l){var u;return o[l]=!0,x.each(e[l]||[],function(e,l){var c=l(n,r,i);return"string"!=typeof c||a||o[c]?a?!(u=c):t:(n.dataTypes.unshift(c),s(c),!1);}),u;}return s(n.dataTypes[0])||!o["*"]&&s("*");}function _n(e,n){var r,i,o=x.ajaxSettings.flatOptions||{};for(i in n){n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);
}return r&&x.extend(!0,e,r),e;}x.fn.load=function(e,n,r){if("string"!=typeof e&&Sn){return Sn.apply(this,arguments);}var i,o,a,s=this,l=e.indexOf(" ");return l>=0&&(i=e.slice(l,e.length),e=e.slice(0,l)),x.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(a="POST"),s.length>0&&x.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){o=arguments,s.html(i?x("<div>").append(x.parseHTML(e)).find(i):e);
}).complete(r&&function(e,t){s.each(r,o||[e.responseText,t,e]);}),this;},x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){x.fn[t]=function(e){return this.on(t,e);};}),x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yn,type:"GET",isLocal:Cn.test(mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":x.parseJSON,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?_n(_n(e,x.ajaxSettings),t):_n(x.ajaxSettings,e);
},ajaxPrefilter:Hn(An),ajaxTransport:Hn(jn),ajax:function(e,n){"object"==typeof e&&(n=e,e=t),n=n||{};var r,i,o,a,s,l,u,c,p=x.ajaxSetup({},n),f=p.context||p,d=p.context&&(f.nodeType||f.jquery)?x(f):x.event,h=x.Deferred(),g=x.Callbacks("once memory"),m=p.statusCode||{},y={},v={},b=0,w="canceled",C={readyState:0,getResponseHeader:function(e){var t;
if(2===b){if(!c){c={};while(t=Tn.exec(a)){c[t[1].toLowerCase()]=t[2];}}t=c[e.toLowerCase()];}return null==t?null:t;},getAllResponseHeaders:function(){return 2===b?a:null;},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=v[n]=v[n]||e,y[e]=t),this;},overrideMimeType:function(e){return b||(p.mimeType=e),this;
},statusCode:function(e){var t;if(e){if(2>b){for(t in e){m[t]=[m[t],e[t]];}}else{C.always(e[C.status]);}}return this;},abort:function(e){var t=e||w;return u&&u.abort(t),k(0,t),this;}};if(h.promise(C).complete=g.add,C.success=C.done,C.error=C.fail,p.url=((e||p.url||yn)+"").replace(xn,"").replace(kn,mn[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=x.trim(p.dataType||"*").toLowerCase().match(T)||[""],null==p.crossDomain&&(r=En.exec(p.url.toLowerCase()),p.crossDomain=!(!r||r[1]===mn[1]&&r[2]===mn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(mn[3]||("http:"===mn[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=x.param(p.data,p.traditional)),qn(An,p,n,C),2===b){return C;
}l=p.global,l&&0===x.active++&&x.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Nn.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(bn.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=wn.test(o)?o.replace(wn,"$1_="+vn++):o+(bn.test(o)?"&":"?")+"_="+vn++)),p.ifModified&&(x.lastModified[o]&&C.setRequestHeader("If-Modified-Since",x.lastModified[o]),x.etag[o]&&C.setRequestHeader("If-None-Match",x.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&C.setRequestHeader("Content-Type",p.contentType),C.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Dn+"; q=0.01":""):p.accepts["*"]);
for(i in p.headers){C.setRequestHeader(i,p.headers[i]);}if(p.beforeSend&&(p.beforeSend.call(f,C,p)===!1||2===b)){return C.abort();}w="abort";for(i in {success:1,error:1,complete:1}){C[i](p[i]);}if(u=qn(jn,p,n,C)){C.readyState=1,l&&d.trigger("ajaxSend",[C,p]),p.async&&p.timeout>0&&(s=setTimeout(function(){C.abort("timeout");
},p.timeout));try{b=1,u.send(y,k);}catch(N){if(!(2>b)){throw N;}k(-1,N);}}else{k(-1,"No Transport");}function k(e,n,r,i){var c,y,v,w,T,N=n;2!==b&&(b=2,s&&clearTimeout(s),u=t,a=i||"",C.readyState=e>0?4:0,c=e>=200&&300>e||304===e,r&&(w=Mn(p,C,r)),w=On(p,w,C,c),c?(p.ifModified&&(T=C.getResponseHeader("Last-Modified"),T&&(x.lastModified[o]=T),T=C.getResponseHeader("etag"),T&&(x.etag[o]=T)),204===e||"HEAD"===p.type?N="nocontent":304===e?N="notmodified":(N=w.state,y=w.data,v=w.error,c=!v)):(v=N,(e||!N)&&(N="error",0>e&&(e=0))),C.status=e,C.statusText=(n||N)+"",c?h.resolveWith(f,[y,N,C]):h.rejectWith(f,[C,N,v]),C.statusCode(m),m=t,l&&d.trigger(c?"ajaxSuccess":"ajaxError",[C,p,c?y:v]),g.fireWith(f,[C,N]),l&&(d.trigger("ajaxComplete",[C,p]),--x.active||x.event.trigger("ajaxStop")));
}return C;},getJSON:function(e,t,n){return x.get(e,t,n,"json");},getScript:function(e,n){return x.get(e,t,n,"script");}}),x.each(["get","post"],function(e,n){x[n]=function(e,r,i,o){return x.isFunction(r)&&(o=o||i,i=r,r=t),x.ajax({url:e,type:n,dataType:o,data:r,success:i});};});function Mn(e,n,r){var i,o,a,s,l=e.contents,u=e.dataTypes;
while("*"===u[0]){u.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("Content-Type"));}if(o){for(s in l){if(l[s]&&l[s].test(o)){u.unshift(s);break;}}}if(u[0] in r){a=u[0];}else{for(s in r){if(!u[0]||e.converters[s+" "+u[0]]){a=s;break;}i||(i=s);}a=a||i;}return a?(a!==u[0]&&u.unshift(a),r[a]):t;}function On(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();
if(c[1]){for(a in e.converters){u[a.toLowerCase()]=e.converters[a];}}o=c.shift();while(o){if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift()){if("*"===o){o=l;}else{if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a){for(i in u){if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[i]:u[i]!==!0&&(o=s[0],c.unshift(s[1]));
break;}}}if(a!==!0){if(a&&e["throws"]){t=a(t);}else{try{t=a(t);}catch(p){return{state:"parsererror",error:a?p:"No conversion from "+l+" to "+o};}}}}}}}return{state:"success",data:t};}x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return x.globalEval(e),e;
}}}),x.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1);}),x.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=a.head||x("head")[0]||a.documentElement;return{send:function(t,i){n=a.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"));
},r.insertBefore(n,r.firstChild);},abort:function(){n&&n.onload(t,!0);}};}});var Fn=[],Bn=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Fn.pop()||x.expando+"_"+vn++;return this[e]=!0,e;}}),x.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,l=n.jsonp!==!1&&(Bn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bn.test(n.data)&&"data");
return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=x.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Bn,"$1"+o):n.jsonp!==!1&&(n.url+=(bn.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||x.error(o+" was not called"),s[0];},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments;
},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,Fn.push(o)),s&&x.isFunction(a)&&a(s[0]),s=a=t;}),"script"):t;});var Pn,Rn,Wn=0,$n=e.ActiveXObject&&function(){var e;for(e in Pn){Pn[e](t,!0);}};function In(){try{return new e.XMLHttpRequest;}catch(t){}}function zn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP");
}catch(t){}}x.ajaxSettings.xhr=e.ActiveXObject?function(){return !this.isLocal&&In()||zn();}:In,Rn=x.ajaxSettings.xhr(),x.support.cors=!!Rn&&"withCredentials" in Rn,Rn=x.support.ajax=!!Rn,Rn&&x.ajaxTransport(function(n){if(!n.crossDomain||x.support.cors){var r;return{send:function(i,o){var a,s,l=n.xhr();
if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields){for(s in n.xhrFields){l[s]=n.xhrFields[s];}}n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i){l.setRequestHeader(s,i[s]);
}}catch(u){}l.send(n.hasContent&&n.data||null),r=function(e,i){var s,u,c,p;try{if(r&&(i||4===l.readyState)){if(r=t,a&&(l.onreadystatechange=x.noop,$n&&delete Pn[a]),i){4!==l.readyState&&l.abort();}else{p={},s=l.status,u=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(p.text=l.responseText);
try{c=l.statusText;}catch(f){c="";}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=p.text?200:404;}}}catch(d){i||o(-1,d);}p&&o(s,c,p,u);},n.async?4===l.readyState?setTimeout(r):(a=++Wn,$n&&(Pn||(Pn={},x(e).unload($n)),Pn[a]=r),l.onreadystatechange=r):r();},abort:function(){r&&r(t,!0);}};}});var Xn,Un,Vn=/^(?:toggle|show|hide)$/,Yn=RegExp("^(?:([+-])=|)("+w+")([a-z%]*)$","i"),Jn=/queueHooks$/,Gn=[nr],Qn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Yn.exec(t),o=i&&i[3]||(x.cssNumber[e]?"":"px"),a=(x.cssNumber[e]||"px"!==o&&+r)&&Yn.exec(x.css(n.elem,e)),s=1,l=20;
if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do{s=s||".5",a/=s,x.style(n.elem,e,a+o);}while(s!==(s=n.cur()/r)&&1!==s&&--l);}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n;}]};function Kn(){return setTimeout(function(){Xn=t;}),Xn=x.now();}function Zn(e,t,n){var r,i=(Qn[t]||[]).concat(Qn["*"]),o=0,a=i.length;
for(;a>o;o++){if(r=i[o].call(n,t,e)){return r;}}}function er(e,t,n){var r,i,o=0,a=Gn.length,s=x.Deferred().always(function(){delete l.elem;}),l=function(){if(i){return !1;}var t=Xn||Kn(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;for(;l>a;a++){u.tweens[a].run(o);
}return s.notifyWith(e,[u,o,n]),1>o&&l?n:(s.resolveWith(e,[u]),!1);},u=s.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||Kn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=x.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);
return u.tweens.push(r),r;},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i){return this;}for(i=!0;r>n;n++){u.tweens[n].run(1);}return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this;}}),c=u.props;for(tr(c,u.opts.specialEasing);a>o;o++){if(r=Gn[o].call(u,e,c,u.opts)){return r;}}return x.map(c,Zn,u),x.isFunction(u.opts.start)&&u.opts.start.call(e,u),x.fx.timer(x.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always);
}function tr(e,t){var n,r,i,o,a;for(n in e){if(r=x.camelCase(n),i=t[r],o=e[n],x.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=x.cssHooks[r],a&&"expand" in a){o=a.expand(o),delete e[r];for(n in o){n in e||(e[n]=o[n],t[n]=i);}}else{t[r]=i;}}}x.Animation=x.extend(er,{tweener:function(e,t){x.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");
var n,r=0,i=e.length;for(;i>r;r++){n=e[r],Qn[n]=Qn[n]||[],Qn[n].unshift(t);}},prefilter:function(e,t){t?Gn.unshift(e):Gn.push(e);}});function nr(e,t,n){var r,i,o,a,s,l,u=this,c={},p=e.style,f=e.nodeType&&nn(e),d=x._data(e,"fxshow");n.queue||(s=x._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l();
}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,x.queue(e,"fx").length||s.empty.fire();});})),1===e.nodeType&&("height" in t||"width" in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===x.css(e,"display")&&"none"===x.css(e,"float")&&(x.support.inlineBlockNeedsLayout&&"inline"!==ln(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",x.support.shrinkWrapBlocks||u.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2];
}));for(r in t){if(i=t[r],Vn.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(f?"hide":"show")){continue;}c[r]=d&&d[r]||x.style(e,r);}}if(!x.isEmptyObject(c)){d?"hidden" in d&&(f=d.hidden):d=x._data(e,"fxshow",{}),o&&(d.hidden=!f),f?x(e).show():u.done(function(){x(e).hide();}),u.done(function(){var t;x._removeData(e,"fxshow");
for(t in c){x.style(e,t,c[t]);}});for(r in c){a=Zn(f?d[r]:0,r,u),r in d||(d[r]=a.start,f&&(a.end=a.start,a.start="width"===r||"height"===r?1:0));}}}function rr(e,t,n,r,i){return new rr.prototype.init(e,t,n,r,i);}x.Tween=rr,rr.prototype={constructor:rr,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(x.cssNumber[n]?"":"px");
},cur:function(){var e=rr.propHooks[this.prop];return e&&e.get?e.get(this):rr.propHooks._default.get(this);},run:function(e){var t,n=rr.propHooks[this.prop];return this.pos=t=this.options.duration?x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rr.propHooks._default.set(this),this;
}},rr.prototype.init.prototype=rr.prototype,rr.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=x.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop];},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[x.cssProps[e.prop]]||x.cssHooks[e.prop])?x.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now;
}}},rr.propHooks.scrollTop=rr.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now);}},x.each(["toggle","show","hide"],function(e,t){var n=x.fn[t];x.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ir(t,!0),e,r,i);
};}),x.fn.extend({fadeTo:function(e,t,n,r){return this.filter(nn).css("opacity",0).show().end().animate({opacity:t},e,n,r);},animate:function(e,t,n,r){var i=x.isEmptyObject(e),o=x.speed(t,n,r),a=function(){var t=er(this,x.extend({},e),o);(i||x._data(this,"finish"))&&t.stop(!0);};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a);
},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r);};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=x.timers,a=x._data(this);if(n){a[n]&&a[n].stop&&i(a[n]);}else{for(n in a){a[n]&&a[n].stop&&Jn.test(n)&&i(a[n]);
}}for(n=o.length;n--;){o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));}(t||!r)&&x.dequeue(this,e);});},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=x._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=x.timers,a=r?r.length:0;for(n.finish=!0,x.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;
t--;){o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));}for(t=0;a>t;t++){r[t]&&r[t].finish&&r[t].finish.call(this);}delete n.finish;});}});function ir(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t){n=Zt[i],r["margin"+n]=r["padding"+n]=e;}return t&&(r.opacity=r.width=e),r;}x.each({slideDown:ir("show"),slideUp:ir("hide"),slideToggle:ir("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){x.fn[e]=function(e,n,r){return this.animate(t,e,n,r);
};}),x.speed=function(e,t,n){var r=e&&"object"==typeof e?x.extend({},e):{complete:n||!n&&t||x.isFunction(e)&&e,duration:e,easing:n&&t||t&&!x.isFunction(t)&&t};return r.duration=x.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in x.fx.speeds?x.fx.speeds[r.duration]:x.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){x.isFunction(r.old)&&r.old.call(this),r.queue&&x.dequeue(this,r.queue);
},r;},x.easing={linear:function(e){return e;},swing:function(e){return 0.5-Math.cos(e*Math.PI)/2;}},x.timers=[],x.fx=rr.prototype.init,x.fx.tick=function(){var e,n=x.timers,r=0;for(Xn=x.now();n.length>r;r++){e=n[r],e()||n[r]!==e||n.splice(r--,1);}n.length||x.fx.stop(),Xn=t;},x.fx.timer=function(e){e()&&x.timers.push(e)&&x.fx.start();
},x.fx.interval=13,x.fx.start=function(){Un||(Un=setInterval(x.fx.tick,x.fx.interval));},x.fx.stop=function(){clearInterval(Un),Un=null;},x.fx.speeds={slow:600,fast:200,_default:400},x.fx.step={},x.expr&&x.expr.filters&&(x.expr.filters.animated=function(e){return x.grep(x.timers,function(t){return e===t.elem;
}).length;}),x.fn.offset=function(e){if(arguments.length){return e===t?this:this.each(function(t){x.offset.setOffset(this,e,t);});}var n,r,o={top:0,left:0},a=this[0],s=a&&a.ownerDocument;if(s){return n=s.documentElement,x.contains(n,a)?(typeof a.getBoundingClientRect!==i&&(o=a.getBoundingClientRect()),r=or(s),{top:o.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):o;
}},x.offset={setOffset:function(e,t,n){var r=x.css(e,"position");"static"===r&&(e.style.position="relative");var i=x(e),o=i.offset(),a=x.css(e,"top"),s=x.css(e,"left"),l=("absolute"===r||"fixed"===r)&&x.inArray("auto",[a,s])>-1,u={},c={},p,f;l?(c=i.position(),p=c.top,f=c.left):(p=parseFloat(a)||0,f=parseFloat(s)||0),x.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(u.top=t.top-o.top+p),null!=t.left&&(u.left=t.left-o.left+f),"using" in t?t.using.call(e,u):i.css(u);
}},x.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===x.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),x.nodeName(e[0],"html")||(n=e.offset()),n.top+=x.css(e[0],"borderTopWidth",!0),n.left+=x.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-x.css(r,"marginTop",!0),left:t.left-n.left-x.css(r,"marginLeft",!0)};
}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||s;while(e&&!x.nodeName(e,"html")&&"static"===x.css(e,"position")){e=e.offsetParent;}return e||s;});}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);x.fn[e]=function(i){return x.access(this,function(e,i,o){var a=or(e);
return o===t?a?n in a?a[n]:a.document.documentElement[i]:e[i]:(a?a.scrollTo(r?x(a).scrollLeft():o,r?o:x(a).scrollTop()):e[i]=o,t);},e,i,arguments.length,null);};});function or(e){return x.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1;}x.each({Height:"height",Width:"width"},function(e,n){x.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){x.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");
return x.access(this,function(n,r,i){var o;return x.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?x.css(n,r,s):x.style(n,r,i,s);},n,a?i:t,a,null);};});}),x.fn.size=function(){return this.length;
},x.fn.andSelf=x.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=x:(e.jQuery=e.$=x,"function"==typeof define&&define.amd&&define("jquery",[],function(){return x;}));})(window);
/*!

 handlebars v1.1.2

Copyright (C) 2011 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

@license
*/
var Handlebars=(function(){var a=(function(){var m;
function n(o){this.string=o;}n.prototype.toString=function(){return""+this.string;};m=n;return m;})();var k=(function(v){var w={};var p=v;var x={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var m=/[&<>"'`]/g;var q=/[&<>"'`]/;function y(z){return x[z]||"&amp;";}function u(B,A){for(var z in A){if(A.hasOwnProperty(z)){B[z]=A[z];
}}}w.extend=u;var o=Object.prototype.toString;w.toString=o;var n=function(z){return typeof z==="function";};if(n(/x/)){n=function(z){return typeof z==="function"&&o.call(z)==="[object Function]";};}var n;w.isFunction=n;var t=Array.isArray||function(z){return(z&&typeof z==="object")?o.call(z)==="[object Array]":false;
};w.isArray=t;function s(z){if(z instanceof p){return z.toString();}else{if(!z&&z!==0){return"";}}z=""+z;if(!q.test(z)){return z;}return z.replace(m,y);}w.escapeExpression=s;function r(z){if(!z&&z!==0){return true;}else{if(t(z)&&z.length===0){return true;}else{return false;}}}w.isEmpty=r;return w;})(a);
var d=(function(){var n;var o=["description","fileName","lineNumber","message","name","number","stack"];function m(){var q=Error.prototype.constructor.apply(this,arguments);for(var p=0;p<o.length;p++){this[o[p]]=q[o[p]];}}m.prototype=new Error();n=m;return n;})();var i=(function(x,A){var z={};var v=x;
var t=A;var C="1.1.2";z.VERSION=C;var n=4;z.COMPILER_REVISION=n;var q={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};z.REVISION_CHANGES=q;var u=v.isArray,p=v.isFunction,o=v.toString,m="[object Object]";function s(E,D){this.helpers=E||{};this.partials=D||{};w(this);}z.HandlebarsEnvironment=s;
s.prototype={constructor:s,logger:y,log:r,registerHelper:function(E,F,D){if(o.call(E)===m){if(D||F){throw new t("Arg not supported with multiple helpers");}v.extend(this.helpers,E);}else{if(D){F.not=D;}this.helpers[E]=F;}},registerPartial:function(D,E){if(o.call(D)===m){v.extend(this.partials,D);}else{this.partials[D]=E;
}}};function w(D){D.registerHelper("helperMissing",function(E){if(arguments.length===2){return undefined;}else{throw new Error("Missing helper: '"+E+"'");}});D.registerHelper("blockHelperMissing",function(G,F){var E=F.inverse||function(){},H=F.fn;if(p(G)){G=G.call(this);}if(G===true){return H(this);}else{if(G===false||G==null){return E(this);
}else{if(u(G)){if(G.length>0){return D.helpers.each(G,F);}else{return E(this);}}else{return H(G);}}}});D.registerHelper("each",function(E,M){var K=M.fn,G=M.inverse;var I=0,J="",H;if(p(E)){E=E.call(this);}if(M.data){H=B(M.data);}if(E&&typeof E==="object"){if(u(E)){for(var F=E.length;I<F;I++){if(H){H.index=I;
H.first=(I===0);H.last=(I===(E.length-1));}J=J+K(E[I],{data:H});}}else{for(var L in E){if(E.hasOwnProperty(L)){if(H){H.key=L;}J=J+K(E[L],{data:H});I++;}}}}if(I===0){J=G(this);}return J;});D.registerHelper("if",function(F,E){if(p(F)){F=F.call(this);}if((!E.hash.includeZero&&!F)||v.isEmpty(F)){return E.inverse(this);
}else{return E.fn(this);}});D.registerHelper("unless",function(F,E){return D.helpers["if"].call(this,F,{fn:E.inverse,inverse:E.fn,hash:E.hash});});D.registerHelper("with",function(F,E){if(p(F)){F=F.call(this);}if(!v.isEmpty(F)){return E.fn(F);}});D.registerHelper("log",function(F,E){var G=E.data&&E.data.level!=null?parseInt(E.data.level,10):1;
D.log(G,F);});}var y={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(F,D){if(y.level<=F){var E=y.methodMap[F];if(typeof console!=="undefined"&&console[E]){console[E].call(console,D);}}}};z.logger=y;function r(E,D){y.log(E,D);}z.log=r;var B=function(D){var E={};
v.extend(E,D);return E;};z.createFrame=B;return z;})(k,d);var g=(function(v,z,p){var x={};var u=v;var s=z;var o=p.COMPILER_REVISION;var r=p.REVISION_CHANGES;function n(C){var B=C&&C[0]||1,E=o;if(B!==E){if(B<E){var A=r[E],D=r[B];throw new Error("Template was precompiled with an older version of Handlebars than the current runtime. "+"Please update your precompiler to a newer version ("+A+") or downgrade your runtime to an older version ("+D+").");
}else{throw new Error("Template was precompiled with a newer version of Handlebars than the current runtime. "+"Please update your runtime to a newer version ("+C[1]+").");}}}function w(A,D){if(!D){throw new Error("No environment passed to template");}var C;if(D.compile){C=function(F,H,J,K,I,L){var E=m.apply(this,arguments);
if(E){return E;}var G={helpers:K,partials:I,data:L};I[H]=D.compile(F,{data:L!==undefined},D);return I[H](J,G);};}else{C=function(F,G){var E=m.apply(this,arguments);if(E){return E;}throw new s("The partial "+G+" could not be compiled when running in runtime-only mode");};}var B={escapeExpression:u.escapeExpression,invokePartial:C,programs:[],program:function(F,G,H){var E=this.programs[F];
if(H){E=t(F,G,H);}else{if(!E){E=this.programs[F]=t(F,G);}}return E;},merge:function(G,F){var E=G||F;if(G&&F&&(G!==F)){E={};u.extend(E,F);u.extend(E,G);}return E;},programWithDepth:q,noop:y,compilerInfo:null};return function(H,F){F=F||{};var I=F.partial?F:D,J,G;if(!F.partial){J=F.helpers;G=F.partials;
}var E=A.call(B,I,H,J,G,F.data);if(!F.partial){n(B.compilerInfo);}return E;};}x.template=w;function q(B,C,D){var A=Array.prototype.slice.call(arguments,3);var E=function(G,F){F=F||{};return C.apply(this,[G,F.data||D].concat(A));};E.program=B;E.depth=A.length;return E;}x.programWithDepth=q;function t(A,B,C){var D=function(F,E){E=E||{};
return B(F,E.data||C);};D.program=A;D.depth=0;return D;}x.program=t;function m(A,C,E,F,D,G){var B={partial:true,helpers:F,partials:D,data:G};if(A===undefined){throw new s("The partial "+C+" could not be found");}else{if(A instanceof Function){return A(E,B);}}}x.invokePartial=m;function y(){return"";}x.noop=y;
return x;})(k,d,i);var f=(function(w,y,o,s,v){var x;var m=w;var p=y;var r=o;var u=s;var q=v;var t=function(){var z=new m.HandlebarsEnvironment();u.extend(z,m);z.SafeString=p;z.Exception=r;z.Utils=u;z.VM=q;z.template=function(A){return q.template(A,z);};return z;};var n=t();n.create=t;x=n;return x;})(i,a,d,k,g);
var j=(function(x){var A={};var r=x;function o(D,E,C){this.type="program";this.statements=D;this.strip={};if(C){this.inverse=new o(C,E);this.strip.right=E.left;}else{if(E){this.strip.left=E.right;}}}A.ProgramNode=o;function B(J,G,C,E){this.type="mustache";this.hash=G;this.strip=E;var F=C[3]||C[2];this.escaped=F!=="{"&&F!=="&";
var I=this.id=J[0];var H=this.params=J.slice(1);var D=this.eligibleHelper=I.isSimple;this.isHelper=D&&(H.length||G);}A.MustacheNode=B;function t(C,D,E){this.type="partial";this.partialName=C;this.context=D;this.strip=E;}A.PartialNode=t;function n(E,D,C,F){if(E.id.original!==F.path.original){throw new r(E.id.original+" doesn't match "+F.path.original);
}this.type="block";this.mustache=E;this.program=D;this.inverse=C;this.strip={left:E.strip.left,right:F.strip.right};(D||C).strip.left=E.strip.right;(C||D).strip.right=F.strip.left;if(C&&!D){this.isInverse=true;}}A.BlockNode=n;function z(C){this.type="content";this.string=C;}A.ContentNode=z;function w(C){this.type="hash";
this.pairs=C;}A.HashNode=w;function q(H){this.type="ID";var G="",E=[],I=0;for(var F=0,C=H.length;F<C;F++){var D=H[F].part;G+=(H[F].separator||"")+D;if(D===".."||D==="."||D==="this"){if(E.length>0){throw new r("Invalid path: "+G);}else{if(D===".."){I++;}else{this.isScoped=true;}}}else{E.push(D);}}this.original=G;
this.parts=E;this.string=E.join(".");this.depth=I;this.isSimple=H.length===1&&!this.isScoped&&I===0;this.stringModeValue=this.string;}A.IdNode=q;function u(C){this.type="PARTIAL_NAME";this.name=C.original;}A.PartialNameNode=u;function m(C){this.type="DATA";this.id=C;}A.DataNode=m;function p(C){this.type="STRING";
this.original=this.string=this.stringModeValue=C;}A.StringNode=p;function y(C){this.type="INTEGER";this.original=this.integer=C;this.stringModeValue=Number(C);}A.IntegerNode=y;function s(C){this.type="BOOLEAN";this.bool=C;this.stringModeValue=C==="true";}A.BooleanNode=s;function v(C){this.type="comment";
this.comment=C;}A.CommentNode=v;return A;})(d);var b=(function(){var n;var m=(function(){var v={trace:function r(){},yy:{},symbols_:{"error":2,"root":3,"statements":4,"EOF":5,"program":6,"simpleInverse":7,"statement":8,"openInverse":9,"closeBlock":10,"openBlock":11,"mustache":12,"partial":13,"CONTENT":14,"COMMENT":15,"OPEN_BLOCK":16,"inMustache":17,"CLOSE":18,"OPEN_INVERSE":19,"OPEN_ENDBLOCK":20,"path":21,"OPEN":22,"OPEN_UNESCAPED":23,"CLOSE_UNESCAPED":24,"OPEN_PARTIAL":25,"partialName":26,"partial_option0":27,"inMustache_repetition0":28,"inMustache_option0":29,"dataName":30,"param":31,"STRING":32,"INTEGER":33,"BOOLEAN":34,"hash":35,"hash_repetition_plus0":36,"hashSegment":37,"ID":38,"EQUALS":39,"DATA":40,"pathSegments":41,"SEP":42,"$accept":0,"$end":1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",38:"ID",39:"EQUALS",40:"DATA",42:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[35,1],[37,3],[26,1],[26,1],[26,1],[30,2],[21,1],[41,3],[41,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[36,1],[36,2]],performAction:function q(w,z,A,D,C,y,B){var x=y.length-1;
switch(C){case 1:return new D.ProgramNode(y[x-1]);break;case 2:return new D.ProgramNode([]);break;case 3:this.$=new D.ProgramNode([],y[x-1],y[x]);break;case 4:this.$=new D.ProgramNode(y[x-2],y[x-1],y[x]);break;case 5:this.$=new D.ProgramNode(y[x-1],y[x],[]);break;case 6:this.$=new D.ProgramNode(y[x]);
break;case 7:this.$=new D.ProgramNode([]);break;case 8:this.$=new D.ProgramNode([]);break;case 9:this.$=[y[x]];break;case 10:y[x-1].push(y[x]);this.$=y[x-1];break;case 11:this.$=new D.BlockNode(y[x-2],y[x-1].inverse,y[x-1],y[x]);break;case 12:this.$=new D.BlockNode(y[x-2],y[x-1],y[x-1].inverse,y[x]);
break;case 13:this.$=y[x];break;case 14:this.$=y[x];break;case 15:this.$=new D.ContentNode(y[x]);break;case 16:this.$=new D.CommentNode(y[x]);break;case 17:this.$=new D.MustacheNode(y[x-1][0],y[x-1][1],y[x-2],o(y[x-2],y[x]));break;case 18:this.$=new D.MustacheNode(y[x-1][0],y[x-1][1],y[x-2],o(y[x-2],y[x]));
break;case 19:this.$={path:y[x-1],strip:o(y[x-2],y[x])};break;case 20:this.$=new D.MustacheNode(y[x-1][0],y[x-1][1],y[x-2],o(y[x-2],y[x]));break;case 21:this.$=new D.MustacheNode(y[x-1][0],y[x-1][1],y[x-2],o(y[x-2],y[x]));break;case 22:this.$=new D.PartialNode(y[x-2],y[x-1],o(y[x-3],y[x]));break;case 23:this.$=o(y[x-1],y[x]);
break;case 24:this.$=[[y[x-2]].concat(y[x-1]),y[x]];break;case 25:this.$=[[y[x]],null];break;case 26:this.$=y[x];break;case 27:this.$=new D.StringNode(y[x]);break;case 28:this.$=new D.IntegerNode(y[x]);break;case 29:this.$=new D.BooleanNode(y[x]);break;case 30:this.$=y[x];break;case 31:this.$=new D.HashNode(y[x]);
break;case 32:this.$=[y[x-2],y[x]];break;case 33:this.$=new D.PartialNameNode(y[x]);break;case 34:this.$=new D.PartialNameNode(new D.StringNode(y[x]));break;case 35:this.$=new D.PartialNameNode(new D.IntegerNode(y[x]));break;case 36:this.$=new D.DataNode(y[x]);break;case 37:this.$=new D.IdNode(y[x]);
break;case 38:y[x-2].push({part:y[x],separator:y[x-1]});this.$=y[x-2];break;case 39:this.$=[{part:y[x]}];break;case 42:this.$=[];break;case 43:y[x-1].push(y[x]);break;case 46:this.$=[y[x]];break;case 47:y[x-1].push(y[x]);break;}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,38:[1,28],40:[1,27],41:26},{17:29,21:24,30:25,38:[1,28],40:[1,27],41:26},{17:30,21:24,30:25,38:[1,28],40:[1,27],41:26},{17:31,21:24,30:25,38:[1,28],40:[1,27],41:26},{21:33,26:32,32:[1,34],33:[1,35],38:[1,28],41:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,38:[1,28],40:[1,27],41:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,42],24:[2,42],28:43,32:[2,42],33:[2,42],34:[2,42],38:[2,42],40:[2,42]},{18:[2,25],24:[2,25]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],38:[2,37],40:[2,37],42:[1,44]},{21:45,38:[1,28],41:26},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],38:[2,39],40:[2,39],42:[2,39]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,40],21:50,27:49,38:[1,28],41:26},{18:[2,33],38:[2,33]},{18:[2,34],38:[2,34]},{18:[2,35],38:[2,35]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,38:[1,28],41:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,44],21:56,24:[2,44],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:55,36:61,37:62,38:[1,63],40:[1,27],41:26},{38:[1,64]},{18:[2,36],24:[2,36],32:[2,36],33:[2,36],34:[2,36],38:[2,36],40:[2,36]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,65]},{18:[2,41]},{18:[1,66]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24]},{18:[2,43],24:[2,43],32:[2,43],33:[2,43],34:[2,43],38:[2,43],40:[2,43]},{18:[2,45],24:[2,45]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],38:[2,26],40:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],38:[2,27],40:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],38:[2,28],40:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],38:[2,29],40:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],38:[2,30],40:[2,30]},{18:[2,31],24:[2,31],37:67,38:[1,68]},{18:[2,46],24:[2,46],38:[2,46]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],38:[2,39],39:[1,69],40:[2,39],42:[2,39]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],38:[2,38],40:[2,38],42:[2,38]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{18:[2,47],24:[2,47],38:[2,47]},{39:[1,69]},{21:56,30:60,31:70,32:[1,57],33:[1,58],34:[1,59],38:[1,28],40:[1,27],41:26},{18:[2,32],24:[2,32],38:[2,32]}],defaultActions:{3:[2,2],16:[2,1],50:[2,41]},parseError:function s(x,w){throw new Error(x);
},parse:function u(F){var M=this,C=[0],V=[null],H=[],W=this.table,x="",G=0,T=0,z=0,E=2,J=1;this.lexer.setInput(F);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;if(typeof this.lexer.yylloc=="undefined"){this.lexer.yylloc={};}var y=this.lexer.yylloc;H.push(y);var A=this.lexer.options&&this.lexer.options.ranges;
if(typeof this.yy.parseError==="function"){this.parseError=this.yy.parseError;}function L(Y){C.length=C.length-2*Y;V.length=V.length-Y;H.length=H.length-Y;}function K(){var Y;Y=M.lexer.lex()||1;if(typeof Y!=="number"){Y=M.symbols_[Y]||Y;}return Y;}var S,O,B,R,X,I,Q={},N,U,w,D;while(true){B=C[C.length-1];
if(this.defaultActions[B]){R=this.defaultActions[B];}else{if(S===null||typeof S=="undefined"){S=K();}R=W[B]&&W[B][S];}if(typeof R==="undefined"||!R.length||!R[0]){var P="";if(!z){D=[];for(N in W[B]){if(this.terminals_[N]&&N>2){D.push("'"+this.terminals_[N]+"'");}}if(this.lexer.showPosition){P="Parse error on line "+(G+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+D.join(", ")+", got '"+(this.terminals_[S]||S)+"'";
}else{P="Parse error on line "+(G+1)+": Unexpected "+(S==1?"end of input":"'"+(this.terminals_[S]||S)+"'");}this.parseError(P,{text:this.lexer.match,token:this.terminals_[S]||S,line:this.lexer.yylineno,loc:y,expected:D});}}if(R[0] instanceof Array&&R.length>1){throw new Error("Parse Error: multiple actions possible at state: "+B+", token: "+S);
}switch(R[0]){case 1:C.push(S);V.push(this.lexer.yytext);H.push(this.lexer.yylloc);C.push(R[1]);S=null;if(!O){T=this.lexer.yyleng;x=this.lexer.yytext;G=this.lexer.yylineno;y=this.lexer.yylloc;if(z>0){z--;}}else{S=O;O=null;}break;case 2:U=this.productions_[R[1]][1];Q.$=V[V.length-U];Q._$={first_line:H[H.length-(U||1)].first_line,last_line:H[H.length-1].last_line,first_column:H[H.length-(U||1)].first_column,last_column:H[H.length-1].last_column};
if(A){Q._$.range=[H[H.length-(U||1)].range[0],H[H.length-1].range[1]];}I=this.performAction.call(Q,x,T,G,this.yy,R[1],V,H);if(typeof I!=="undefined"){return I;}if(U){C=C.slice(0,-1*U*2);V=V.slice(0,-1*U);H=H.slice(0,-1*U);}C.push(this.productions_[R[1]][0]);V.push(Q.$);H.push(Q._$);w=W[C[C.length-2]][C[C.length-1]];
C.push(w);break;case 3:return true;}}return true;}};function o(w,x){return{left:w[2]==="~",right:x[0]==="~"||x[1]==="~"};}var p=(function(){var z=({EOF:1,parseError:function B(E,D){if(this.yy.parser){this.yy.parser.parseError(E,D);}else{throw new Error(E);}},setInput:function(D){this._input=D;this._more=this._less=this.done=false;
this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};if(this.options.ranges){this.yylloc.range=[0,0];}this.offset=0;return this;},input:function(){var E=this._input[0];this.yytext+=E;this.yyleng++;
this.offset++;this.match+=E;this.matched+=E;var D=E.match(/(?:\r\n?|\n).*/g);if(D){this.yylineno++;this.yylloc.last_line++;}else{this.yylloc.last_column++;}if(this.options.ranges){this.yylloc.range[1]++;}this._input=this._input.slice(1);return E;},unput:function(F){var D=F.length;var E=F.split(/(?:\r\n?|\n)/g);
this._input=F+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-D-1);this.offset-=D;var H=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);if(E.length-1){this.yylineno-=E.length-1;}var G=this.yylloc.range;
this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:E?(E.length===H.length?this.yylloc.first_column:0)+H[H.length-E.length].length-E[0].length:this.yylloc.first_column-D};if(this.options.ranges){this.yylloc.range=[G[0],G[0]+this.yyleng-D];
}return this;},more:function(){this._more=true;return this;},less:function(D){this.unput(this.match.slice(D));},pastInput:function(){var D=this.matched.substr(0,this.matched.length-this.match.length);return(D.length>20?"...":"")+D.substr(-20).replace(/\n/g,"");},upcomingInput:function(){var D=this.match;
if(D.length<20){D+=this._input.substr(0,20-D.length);}return(D.substr(0,20)+(D.length>20?"...":"")).replace(/\n/g,"");},showPosition:function(){var D=this.pastInput();var E=new Array(D.length+1).join("-");return D+this.upcomingInput()+"\n"+E+"^";},next:function(){if(this.done){return this.EOF;}if(!this._input){this.done=true;
}var J,H,E,G,F,D;if(!this._more){this.yytext="";this.match="";}var K=this._currentRules();for(var I=0;I<K.length;I++){E=this._input.match(this.rules[K[I]]);if(E&&(!H||E[0].length>H[0].length)){H=E;G=I;if(!this.options.flex){break;}}}if(H){D=H[0].match(/(?:\r\n?|\n).*/g);if(D){this.yylineno+=D.length;
}this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:D?D[D.length-1].length-D[D.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+H[0].length};this.yytext+=H[0];this.match+=H[0];this.matches=H;this.yyleng=this.yytext.length;
if(this.options.ranges){this.yylloc.range=[this.offset,this.offset+=this.yyleng];}this._more=false;this._input=this._input.slice(H[0].length);this.matched+=H[0];J=this.performAction.call(this,this.yy,this,K[G],this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input){this.done=false;
}if(J){return J;}else{return;}}if(this._input===""){return this.EOF;}else{return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});}},lex:function w(){var D=this.next();if(typeof D!=="undefined"){return D;}else{return this.lex();
}},begin:function x(D){this.conditionStack.push(D);},popState:function C(){return this.conditionStack.pop();},_currentRules:function A(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;},topState:function(){return this.conditionStack[this.conditionStack.length-2];},pushState:function x(D){this.begin(D);
}});z.options={};z.performAction=function y(I,E,H,D){function F(K,J){return E.yytext=E.yytext.substr(K,E.yyleng-J);}var G=D;switch(H){case 0:if(E.yytext.slice(-2)==="\\\\"){F(0,1);this.begin("mu");}else{if(E.yytext.slice(-1)==="\\"){F(0,1);this.begin("emu");}else{this.begin("mu");}}if(E.yytext){return 14;
}break;case 1:return 14;break;case 2:if(E.yytext.slice(-1)!=="\\"){this.popState();}if(E.yytext.slice(-1)==="\\"){F(0,1);}return 14;break;case 3:F(0,4);this.popState();return 15;break;case 4:return 25;break;case 5:return 16;break;case 6:return 20;break;case 7:return 19;break;case 8:return 19;break;case 9:return 23;
break;case 10:return 22;break;case 11:this.popState();this.begin("com");break;case 12:F(3,5);this.popState();return 15;break;case 13:return 22;break;case 14:return 39;break;case 15:return 38;break;case 16:return 38;break;case 17:return 42;break;case 18:break;case 19:this.popState();return 24;break;case 20:this.popState();
return 18;break;case 21:E.yytext=F(1,2).replace(/\\"/g,'"');return 32;break;case 22:E.yytext=F(1,2).replace(/\\'/g,"'");return 32;break;case 23:return 40;break;case 24:return 34;break;case 25:return 34;break;case 26:return 33;break;case 27:return 38;break;case 28:E.yytext=F(1,2);return 38;break;case 29:return"INVALID";
break;case 30:return 5;break;}};z.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s])))/,/^(?:false(?=([~}\s])))/,/^(?:-?[0-9]+(?=([~}\s])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/];
z.conditions={"mu":{"rules":[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],"inclusive":false},"emu":{"rules":[2],"inclusive":false},"com":{"rules":[3],"inclusive":false},"INITIAL":{"rules":[0,1,30],"inclusive":true}};return z;})();v.lexer=p;function t(){this.yy={};}t.prototype=v;
v.Parser=t;return new t;})();n=m;return n;})();var l=(function(q,m){var n={};var r=q;var o=m;n.parser=r;function p(s){if(s.constructor===o.ProgramNode){return s;}r.yy=o;return r.parse(s);}n.parse=p;return n;})(b,j);var h=(function(t){var v;var m=t.COMPILER_REVISION;var q=t.REVISION_CHANGES;var r=t.log;
function o(x){this.value=x;}function w(){}w.prototype={nameLookup:function(A,y){var z,x;if(A.indexOf("depth")===0){z=true;}if(/^[0-9]+$/.test(y)){x=A+"["+y+"]";}else{if(w.isValidJavaScriptVariableName(y)){x=A+"."+y;}else{x=A+"['"+y+"']";}}if(z){return"("+A+" && "+x+")";}else{return x;}},appendToBuffer:function(x){if(this.environment.isSimple){return"return "+x+";";
}else{return{appendToBuffer:true,content:x,toString:function(){return"buffer += "+x+";";}};}},initializeBuffer:function(){return this.quotedString("");},namespace:"Handlebars",compile:function(x,z,B,A){this.environment=x;this.options=z||{};r("debug",this.environment.disassemble()+"\n\n");this.name=this.environment.name;
this.isChild=!!B;this.context=B||{programs:[],environments:[],aliases:{}};this.preamble();this.stackSlot=0;this.stackVars=[];this.registers={list:[]};this.compileStack=[];this.inlineStack=[];this.compileChildren(x,z);var D=x.opcodes,C;this.i=0;for(var y=D.length;this.i<y;this.i++){C=D[this.i];if(C.opcode==="DECLARE"){this[C.name]=C.value;
}else{this[C.opcode].apply(this,C.args);}if(C.opcode!==this.stripNext){this.stripNext=false;}}this.pushSource("");return this.createFunctionContext(A);},preamble:function(){var x=[];if(!this.isChild){var y=this.namespace;var z="helpers = this.merge(helpers, "+y+".helpers);";if(this.environment.usePartial){z=z+" partials = this.merge(partials, "+y+".partials);";
}if(this.options.data){z=z+" data = data || {};";}x.push(z);}else{x.push("");}if(!this.environment.isSimple){x.push(", buffer = "+this.initializeBuffer());}else{x.push("");}this.lastContext=0;this.source=x;},createFunctionContext:function(E){var z=this.stackVars.concat(this.registers.list);if(z.length>0){this.source[1]=this.source[1]+", "+z.join(", ");
}if(!this.isChild){for(var D in this.context.aliases){if(this.context.aliases.hasOwnProperty(D)){this.source[1]=this.source[1]+", "+D+"="+this.context.aliases[D];}}}if(this.source[1]){this.source[1]="var "+this.source[1].substring(2)+";";}if(!this.isChild){this.source[1]+="\n"+this.context.programs.join("\n")+"\n";
}if(!this.environment.isSimple){this.pushSource("return buffer;");}var B=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"];for(var C=0,A=this.environment.depths.list.length;C<A;C++){B.push("depth"+this.environment.depths.list[C]);}var x=this.mergeSource();if(!this.isChild){var F=m,y=q[F];
x="this.compilerInfo = ["+F+",'"+y+"'];\n"+x;}if(E){B.push(x);return Function.apply(this,B);}else{var G="function "+(this.name||"")+"("+B.join(",")+") {\n  "+x+"}";r("debug",G+"\n\n");return G;}},mergeSource:function(){var B="",z;for(var A=0,x=this.source.length;A<x;A++){var y=this.source[A];if(y.appendToBuffer){if(z){z=z+"\n    + "+y.content;
}else{z=y.content;}}else{if(z){B+="buffer += "+z+";\n  ";z=undefined;}B+=y+"\n  ";}}return B;},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var x=["depth0"];this.setupParams(0,x);this.replaceStack(function(y){x.splice(1,0,y);return"blockHelperMissing.call("+x.join(", ")+")";
});},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var y=["depth0"];this.setupParams(0,y);var x=this.topStack();y.splice(1,0,x);y[y.length-1]="options";this.pushSource("if (!"+this.lastHelper+") { "+x+" = blockHelperMissing.call("+y.join(", ")+"); }");
},appendContent:function(x){if(this.pendingContent){x=this.pendingContent+x;}if(this.stripNext){x=x.replace(/^\s+/,"");}this.pendingContent=x;},strip:function(){if(this.pendingContent){this.pendingContent=this.pendingContent.replace(/\s+$/,"");}this.stripNext="strip";},append:function(){this.flushInline();
var x=this.popStack();this.pushSource("if("+x+" || "+x+" === 0) { "+this.appendToBuffer(x)+" }");if(this.environment.isSimple){this.pushSource("else { "+this.appendToBuffer("''")+" }");}},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression";this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"));
},getContext:function(x){if(this.lastContext!==x){this.lastContext=x;}},lookupOnContext:function(x){this.push(this.nameLookup("depth"+this.lastContext,x,"context"));},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext);},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"';
this.replaceStack(function(x){return"typeof "+x+" === functionType ? "+x+".apply(depth0) : "+x;});},lookup:function(x){this.replaceStack(function(y){return y+" == null || "+y+" === false ? "+y+" : "+this.nameLookup(y,x,"context");});},lookupData:function(){this.push("data");},pushStringParam:function(x,y){this.pushStackLiteral("depth"+this.lastContext);
this.pushString(y);if(typeof x==="string"){this.pushString(x);}else{this.pushStackLiteral(x);}},emptyHash:function(){this.pushStackLiteral("{}");if(this.options.stringParams){this.register("hashTypes","{}");this.register("hashContexts","{}");}},pushHash:function(){this.hash={values:[],types:[],contexts:[]};
},popHash:function(){var x=this.hash;this.hash=undefined;if(this.options.stringParams){this.register("hashContexts","{"+x.contexts.join(",")+"}");this.register("hashTypes","{"+x.types.join(",")+"}");}this.push("{\n    "+x.values.join(",\n    ")+"\n  }");},pushString:function(x){this.pushStackLiteral(this.quotedString(x));
},push:function(x){this.inlineStack.push(x);return x;},pushLiteral:function(x){this.pushStackLiteral(x);},pushProgram:function(x){if(x!=null){this.pushStackLiteral(this.programExpression(x));}else{this.pushStackLiteral(null);}},invokeHelper:function(z,x){this.context.aliases.helperMissing="helpers.helperMissing";
var y=this.lastHelper=this.setupHelper(z,x,true);var A=this.nameLookup("depth"+this.lastContext,x,"context");this.push(y.name+" || "+A);this.replaceStack(function(B){return B+" ? "+B+".call("+y.callParams+") "+": helperMissing.call("+y.helperMissingParams+")";});},invokeKnownHelper:function(z,x){var y=this.setupHelper(z,x);
this.push(y.name+".call("+y.callParams+")");},invokeAmbiguous:function(x,B){this.context.aliases.functionType='"function"';this.pushStackLiteral("{}");var y=this.setupHelper(0,x,B);var z=this.lastHelper=this.nameLookup("helpers",x,"helper");var C=this.nameLookup("depth"+this.lastContext,x,"context");
var A=this.nextStack();this.pushSource("if ("+A+" = "+z+") { "+A+" = "+A+".call("+y.callParams+"); }");this.pushSource("else { "+A+" = "+C+"; "+A+" = typeof "+A+" === functionType ? "+A+".call("+y.callParams+") : "+A+"; }");},invokePartial:function(x){var y=[this.nameLookup("partials",x,"partial"),"'"+x+"'",this.popStack(),"helpers","partials"];
if(this.options.data){y.push("data");}this.context.aliases.self="this";this.push("self.invokePartial("+y.join(", ")+")");},assignToHash:function(y){var A=this.popStack(),x,z;if(this.options.stringParams){z=this.popStack();x=this.popStack();}var B=this.hash;if(x){B.contexts.push("'"+y+"': "+x);}if(z){B.types.push("'"+y+"': "+z);
}B.values.push("'"+y+"': ("+A+")");},compiler:w,compileChildren:function(x,A){var C=x.children,E,D;for(var B=0,y=C.length;B<y;B++){E=C[B];D=new this.compiler();var z=this.matchExistingProgram(E);if(z==null){this.context.programs.push("");z=this.context.programs.length;E.index=z;E.name="program"+z;this.context.programs[z]=D.compile(E,A,this.context);
this.context.environments[z]=E;}else{E.index=z;E.name="program"+z;}}},matchExistingProgram:function(A){for(var z=0,y=this.context.environments.length;z<y;z++){var x=this.context.environments[z];if(x&&x.equals(A)){return z;}}},programExpression:function(y){this.context.aliases.self="this";if(y==null){return"self.noop";
}var D=this.environment.children[y],C=D.depths.list,B;var A=[D.index,D.name,"data"];for(var z=0,x=C.length;z<x;z++){B=C[z];if(B===1){A.push("depth0");}else{A.push("depth"+(B-1));}}return(C.length===0?"self.program(":"self.programWithDepth(")+A.join(", ")+")";},register:function(x,y){this.useRegister(x);
this.pushSource(x+" = "+y+";");},useRegister:function(x){if(!this.registers[x]){this.registers[x]=true;this.registers.list.push(x);}},pushStackLiteral:function(x){return this.push(new o(x));},pushSource:function(x){if(this.pendingContent){this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent)));
this.pendingContent=undefined;}if(x){this.source.push(x);}},pushStack:function(y){this.flushInline();var x=this.incrStack();if(y){this.pushSource(x+" = "+y+";");}this.compileStack.push(x);return x;},replaceStack:function(D){var A="",C=this.isInline(),x;if(C){var B=this.popStack(true);if(B instanceof o){x=B.value;
}else{var y=this.stackSlot?this.topStackName():this.incrStack();A="("+this.push(y)+" = "+B+"),";x=this.topStack();}}else{x=this.topStack();}var z=D.call(this,x);if(C){if(this.inlineStack.length||this.compileStack.length){this.popStack();}this.push("("+A+z+")");}else{if(!/^stack/.test(x)){x=this.nextStack();
}this.pushSource(x+" = ("+A+z+");");}return x;},nextStack:function(){return this.pushStack();},incrStack:function(){this.stackSlot++;if(this.stackSlot>this.stackVars.length){this.stackVars.push("stack"+this.stackSlot);}return this.topStackName();},topStackName:function(){return"stack"+this.stackSlot;
},flushInline:function(){var z=this.inlineStack;if(z.length){this.inlineStack=[];for(var y=0,x=z.length;y<x;y++){var A=z[y];if(A instanceof o){this.compileStack.push(A);}else{this.pushStack(A);}}}},isInline:function(){return this.inlineStack.length;},popStack:function(x){var z=this.isInline(),y=(z?this.inlineStack:this.compileStack).pop();
if(!x&&(y instanceof o)){return y.value;}else{if(!z){this.stackSlot--;}return y;}},topStack:function(y){var x=(this.isInline()?this.inlineStack:this.compileStack),z=x[x.length-1];if(!y&&(z instanceof o)){return z.value;}else{return z;}},quotedString:function(x){return'"'+x.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"';
},setupHelper:function(B,z,y){var A=[];this.setupParams(B,A,y);var x=this.nameLookup("helpers",z,"helper");return{params:A,name:x,callParams:["depth0"].concat(A).join(", "),helperMissingParams:y&&["depth0",this.quotedString(z)].concat(A).join(", ")};},setupParams:function(A,z,x){var G=[],E=[],F=[],y,B,D;
G.push("hash:"+this.popStack());B=this.popStack();D=this.popStack();if(D||B){if(!D){this.context.aliases.self="this";D="self.noop";}if(!B){this.context.aliases.self="this";B="self.noop";}G.push("inverse:"+B);G.push("fn:"+D);}for(var C=0;C<A;C++){y=this.popStack();z.push(y);if(this.options.stringParams){F.push(this.popStack());
E.push(this.popStack());}}if(this.options.stringParams){G.push("contexts:["+E.join(",")+"]");G.push("types:["+F.join(",")+"]");G.push("hashContexts:hashContexts");G.push("hashTypes:hashTypes");}if(this.options.data){G.push("data:data");}G="{"+G.join(",")+"}";if(x){this.register("options",G);z.push("options");
}else{z.push(G);}return z.join(", ");}};var n=("break else new var"+" case finally return void"+" catch for switch while"+" continue function this with"+" default if throw"+" delete in try"+" do instanceof typeof"+" abstract enum int short"+" boolean export interface static"+" byte extends long super"+" char final native synchronized"+" class float package throws"+" const goto private transient"+" debugger implements protected volatile"+" double import public let yield").split(" ");
var u=w.RESERVED_WORDS={};for(var s=0,p=n.length;s<p;s++){u[n[s]]=true;}w.isValidJavaScriptVariableName=function(x){if(!w.RESERVED_WORDS[x]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(x)){return true;}return false;};v=w;return v;})(i);var e=(function(s,w,m,p){var u={};var q=s;var o=w.parse;var x=m;var r=p;function t(){}u.Compiler=t;
t.prototype={compiler:t,disassemble:function(){var D=this.opcodes,C,A=[],F,E;for(var B=0,y=D.length;B<y;B++){C=D[B];if(C.opcode==="DECLARE"){A.push("DECLARE "+C.name+"="+C.value);}else{F=[];for(var z=0;z<C.args.length;z++){E=C.args[z];if(typeof E==="string"){E='"'+E.replace("\n","\\n")+'"';}F.push(E);
}A.push(C.opcode+" "+F.join(" "));}}return A.join("\n");},equals:function(z){var y=this.opcodes.length;if(z.opcodes.length!==y){return false;}for(var C=0;C<y;C++){var D=this.opcodes[C],A=z.opcodes[C];if(D.opcode!==A.opcode||D.args.length!==A.args.length){return false;}for(var B=0;B<D.args.length;B++){if(D.args[B]!==A.args[B]){return false;
}}}y=this.children.length;if(z.children.length!==y){return false;}for(C=0;C<y;C++){if(!this.children[C].equals(z.children[C])){return false;}}return true;},guid:0,compile:function(y,A){this.opcodes=[];this.children=[];this.depths={list:[]};this.options=A;var B=this.options.knownHelpers;this.options.knownHelpers={"helperMissing":true,"blockHelperMissing":true,"each":true,"if":true,"unless":true,"with":true,"log":true};
if(B){for(var z in B){this.options.knownHelpers[z]=B[z];}}return this.accept(y);},accept:function(A){var z=A.strip||{},y;if(z.left){this.opcode("strip");}y=this[A.type](A);if(z.right){this.opcode("strip");}return y;},program:function(A){var z=A.statements;for(var B=0,y=z.length;B<y;B++){this.accept(z[B]);
}this.isSimple=y===1;this.depths.list=this.depths.list.sort(function(D,C){return D-C;});return this;},compileProgram:function(A){var y=new this.compiler().compile(A,this.options);var B=this.guid++,D;this.usePartial=this.usePartial||y.usePartial;this.children[B]=y;for(var C=0,z=y.depths.list.length;C<z;
C++){D=y.depths.list[C];if(D<2){continue;}else{this.addDepth(D-1);}}return B;},block:function(C){var B=C.mustache,z=C.program,y=C.inverse;if(z){z=this.compileProgram(z);}if(y){y=this.compileProgram(y);}var A=this.classifyMustache(B);if(A==="helper"){this.helperMustache(B,z,y);}else{if(A==="simple"){this.simpleMustache(B);
this.opcode("pushProgram",z);this.opcode("pushProgram",y);this.opcode("emptyHash");this.opcode("blockValue");}else{this.ambiguousMustache(B,z,y);this.opcode("pushProgram",z);this.opcode("pushProgram",y);this.opcode("emptyHash");this.opcode("ambiguousBlockValue");}}this.opcode("append");},hash:function(B){var A=B.pairs,D,C;
this.opcode("pushHash");for(var z=0,y=A.length;z<y;z++){D=A[z];C=D[1];if(this.options.stringParams){if(C.depth){this.addDepth(C.depth);}this.opcode("getContext",C.depth||0);this.opcode("pushStringParam",C.stringModeValue,C.type);}else{this.accept(C);}this.opcode("assignToHash",D[0]);}this.opcode("popHash");
},partial:function(y){var z=y.partialName;this.usePartial=true;if(y.context){this.ID(y.context);}else{this.opcode("push","depth0");}this.opcode("invokePartial",z.name);this.opcode("append");},content:function(y){this.opcode("appendContent",y.string);},mustache:function(A){var y=this.options;var z=this.classifyMustache(A);
if(z==="simple"){this.simpleMustache(A);}else{if(z==="helper"){this.helperMustache(A);}else{this.ambiguousMustache(A);}}if(A.escaped&&!y.noEscape){this.opcode("appendEscaped");}else{this.opcode("append");}},ambiguousMustache:function(C,A,z){var D=C.id,B=D.parts[0],y=A!=null||z!=null;this.opcode("getContext",D.depth);
this.opcode("pushProgram",A);this.opcode("pushProgram",z);this.opcode("invokeAmbiguous",B,y);},simpleMustache:function(y){var z=y.id;if(z.type==="DATA"){this.DATA(z);}else{if(z.parts.length){this.ID(z);}else{this.addDepth(z.depth);this.opcode("getContext",z.depth);this.opcode("pushContext");}}this.opcode("resolvePossibleLambda");
},helperMustache:function(B,z,y){var C=this.setupFullMustacheParams(B,z,y),A=B.id.parts[0];if(this.options.knownHelpers[A]){this.opcode("invokeKnownHelper",C.length,A);}else{if(this.options.knownHelpersOnly){throw new Error("You specified knownHelpersOnly, but used the unknown helper "+A);}else{this.opcode("invokeHelper",C.length,A);
}}},ID:function(B){this.addDepth(B.depth);this.opcode("getContext",B.depth);var z=B.parts[0];if(!z){this.opcode("pushContext");}else{this.opcode("lookupOnContext",B.parts[0]);}for(var A=1,y=B.parts.length;A<y;A++){this.opcode("lookup",B.parts[A]);}},DATA:function(A){this.options.data=true;if(A.id.isScoped||A.id.depth){throw new q("Scoped data references are not supported: "+A.original);
}this.opcode("lookupData");var B=A.id.parts;for(var z=0,y=B.length;z<y;z++){this.opcode("lookup",B[z]);}},STRING:function(y){this.opcode("pushString",y.string);},INTEGER:function(y){this.opcode("pushLiteral",y.integer);},BOOLEAN:function(y){this.opcode("pushLiteral",y.bool);},comment:function(){},opcode:function(y){this.opcodes.push({opcode:y,args:[].slice.call(arguments,1)});
},declare:function(y,z){this.opcodes.push({opcode:"DECLARE",name:y,value:z});},addDepth:function(y){if(isNaN(y)){throw new Error("EWOT");}if(y===0){return;}if(!this.depths[y]){this.depths[y]=true;this.depths.list.push(y);}},classifyMustache:function(B){var A=B.isHelper;var C=B.eligibleHelper;var z=this.options;
if(C&&!A){var y=B.id.parts[0];if(z.knownHelpers[y]){A=true;}else{if(z.knownHelpersOnly){C=false;}}}if(A){return"helper";}else{if(C){return"ambiguous";}else{return"simple";}}},pushParams:function(A){var y=A.length,z;while(y--){z=A[y];if(this.options.stringParams){if(z.depth){this.addDepth(z.depth);}this.opcode("getContext",z.depth||0);
this.opcode("pushStringParam",z.stringModeValue,z.type);}else{this[z.type](z);}}},setupMustacheParams:function(y){var z=y.params;this.pushParams(z);if(y.hash){this.hash(y.hash);}else{this.opcode("emptyHash");}return z;},setupFullMustacheParams:function(A,z,y){var B=A.params;this.pushParams(B);this.opcode("pushProgram",z);
this.opcode("pushProgram",y);if(A.hash){this.hash(A.hash);}else{this.opcode("emptyHash");}return B;}};function n(A,B){if(A==null||(typeof A!=="string"&&A.constructor!==r.ProgramNode)){throw new q("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+A);}B=B||{};if(!("data" in B)){B.data=true;
}var z=o(A);var y=new t().compile(z,B);return new x().compile(y,B);}u.precompile=n;function v(y,z,A){if(y==null||(typeof y!=="string"&&y.constructor!==r.ProgramNode)){throw new q("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+y);}z=z||{};if(!("data" in z)){z.data=true;}var C;
function B(){var F=o(y);var E=new t().compile(F,z);var D=new x().compile(E,z,undefined,true);return A.template(D);}return function(E,D){if(!C){C=B();}return C.call(this,E,D);};}u.compile=v;return u;})(d,l,h,j);var c=(function(v,A,n,r,u){var x;var m=v;var t=A;var q=n.parser;var p=n.parse;var w=r.Compiler;
var z=r.compile;var o=r.precompile;var B=u;var y=m.create;var s=function(){var C=y();C.compile=function(D,E){return z(D,E,C);};C.precompile=o;C.AST=t;C.Compiler=w;C.JavaScriptCompiler=B;C.Parser=q;C.parse=p;return C;};m=s();m.create=s;x=m;return x;})(f,j,l,e,h);return c;})();
/*!
 * Copyright 2011-2014 Manish Shanker
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @author Manish Shanker
 * @timestamp 04022014034204
 */
(function(d,c){c.HAF=d=d||{};
d.init=function(a,b){d.i18nT=b;d.Module=a||{};};}(window.HAF,window));(function(e,g){function h(a){return new f(g(a));}h.get=function(){return g.get.apply(this,arguments);};h.grep=function(){return g.grep.apply(this,arguments);};var f=function(a){this.$item=a;};f.prototype={on:function(){this.$item.on.apply(this.$item,arguments);
return this;},trigger:function(){this.$item.trigger.apply(this.$item,arguments);return this;},off:function(){this.$item.off.apply(this.$item,arguments);return this;},html:function(a){if(a){this.$item.html(a);return this;}return this.$item.html();},attr:function(b,a){if(a){this.$item.attr(b,a);return this;
}return this.$item.attr(b);},each:function(){this.$item.each.apply(this.$item,arguments);return this;},addClass:function(a){this.$item.addClass(a);return this;},removeClass:function(a){this.$item.removeClass(a);return this;},empty:function(){this.$item.empty();return this;},remove:function(){this.$item.remove();
}};e.DOM=h;}(HAF,(window.Zepto||window.jQuery)));(function(){var c=function(){};var d=function(a){return typeof a==="function";};c.extend=function(i){var l=function(e){if(e!==d&&d(this.init)){this.init.apply(this,arguments);}};l.prototype=new this(d);var a=function(f,e){return function(){this._super=e;
return f.apply(this,arguments);};};var k;for(k in i){if(i.hasOwnProperty(k)){var j=i[k],b=l.prototype[k];l.prototype[k]=!d(j)||!d(b)?j:a(j,b);}}l.prototype.constructor=l;l.extend=this.extend;return l;};window.Class=c;}());(function(g){g.noop=i;g.each=h;g.infoLogger=(window.console&&window.console.log&&function(){console.info.apply(console,arguments);
})||g.noop;g.logger=(window.console&&window.console.log&&function(){console.log.apply(console,arguments);})||g.noop;g.errorLogger=(window.console&&window.console.log&&function(){console.error.apply(console,arguments);})||g.noop;g.warningLogger=(window.console&&window.console.log&&function(){console.warn.apply(console,arguments);
})||g.noop;function h(b,a){if(b){if(b instanceof Array){j(b,a);}else{f(b,a);}}}function f(c,a){var b;if(c){for(b in c){if(c.hasOwnProperty(b)){a(c[b],b);}}}}function j(b,a){var c,d;if(b){for(c=0,d=b.length;c<d;c++){a(b[c],c);}}}function i(){}}(HAF));(function(g,i){var k=function(){this.guid=l();this.localMessageBus=i({});
};k.prototype={publish:function(b,a){this.localMessageBus.trigger(b,[a]);},subscribe:function(c,e,d){if(typeof c==="string"){d=e;e=c;c=window;}var b=this;if(typeof e==="string"){return j(b,d,c,e);}var a={};g.each(e,function(f,n){a[n]=j(b,f,c,n);});return a;},unsubscribe:function(c,b){var a=this;if(typeof c==="string"){a.localMessageBus.off(c,b);
}else{g.each(c,function(d,e){a.localMessageBus.off(e,d);});}}};function j(e,a,b,c){var d=function(f,n){a.call(b,n);};e.localMessageBus.on(c,d);return d;}function l(){return h()+h()+"-"+h()+"-"+h()+"-"+h()+"-"+h()+h()+h();}function h(){return Math.floor((1+Math.random())*65536).toString(16).substring(1);
}g.messaging=new k();g.Messaging=k;}(HAF,HAF.DOM));(function(d){d.Base=Class.extend({_guid:null,messageBus:d.messaging,injector:null,guid:function(){if(!this._guid){this._guid=f();}return this._guid;},injectDependencies:function(a){d.dependencyInjector(this,a);}});function f(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e();
}function e(){return Math.floor((1+Math.random())*65536).toString(16).substring(1);}}(HAF));(function(G){G.Controller=G.Base.extend({autoWire:false,autoDestroy:false,autoShowHide:false,autoLoadControls:false,autoLayout:false,messages:null,injectLocalMessageBus:false,inject:null,routes:{},serviceUpdate:{},messageBus:G.messaging,localMessageBus:null,init:function(a){this.injectDependencies(a);
},views:null,templates:null,controls:null,services:null,shownAndLoaded:false,layoutChange:function(){if(this.autoLayout){w(this.controls,"layoutChange");w(this.views,"layoutChange");}},load:function(){B(this);M(this);},unload:function(){D(this);I(this);},update:function(a){K(this,a);},onUpdateReceive:function(a,b){H(this,a,b);
},destroy:function(){v(this);},onRouteChange:function(){return this.routes;},onServiceUpdate:function(){return this.serviceUpdate;},hide:function(a){z(this);if(!(a&&a.keepPreviousState)){J(this,false,arguments);A(this);}},show:function(a){if(!this.shownAndLoaded){C(this,arguments);this.shownAndLoaded=true;
}else{if(a&&a.keepPreviousState){y(this);}else{N(this,arguments);}}}});function C(b,a){J(b,true,a);E(b);}function N(b,a){J(b,true,a);y(b);}function I(a){w(a.controls,"unload");}function M(a){if(a.autoLoadControls){w(a.controls,"load");}}function E(a){if(!a._exist&&a.autoWire){u(a.services,a);}a._exist=true;
}function A(a){if(a.autoDestroy){a.destroy();}}function y(a){if(a.autoWire){w(a.services,"start");}}function z(a){if(a.autoWire){w(a.services,"stop");}}function H(c,a,b){c.controls[b].update(a);if(c.lastStateData&&c.onServiceUpdate()[b]){c.onServiceUpdate()[b].call(c,c.controls[b],c.lastStateData);}}function K(b,a){if(b.autoWire){x(b,a);
}}function v(a){F(a);D(a);w(a.views,"destroy");w(a.controls,"destroy");w(a.services,"destroy");a.services=null;a.views=null;a.lastStateData=null;a.templates=null;a.options=null;a.controls=null;a._exist=false;a.shownAndLoaded=false;}function F(b){if(b.controlMessages){var a=b.controlMessages;G.messaging.unsubscribe(a.show);
G.messaging.unsubscribe(a.hide);G.messaging.unsubscribe(a.stateChange);}}function D(a){G.each(a.messages,function(b){G.messaging.unsubscribe(b);});}function x(b,a){G.each(b.templates,function(c,d){c.load(function(){b.views[d].render(c.process(a));});});}function w(b,a,c){c=c||[];G.each(b,function(d){d[a].apply(d,c);
});}function u(b,a){G.each(b,function(d,c){d.onUpdate(L(a,c));d.fetch();});}function L(a,b){return function(c){a.onUpdateReceive(c,b);};}function B(b){if(!(b.messages||b.controlMessages)){return;}F(b);var a=b.controlMessages;G.messaging.subscribe(b,a.show,b.show);G.messaging.subscribe(b,a.hide,b.hide);
G.messaging.subscribe(b,a.stateChange,function(c){b.lastStateData=c;G.each(b.onRouteChange(c),function(e,d){G.navigation.route(b,d,e);});});G.each(b.messages,function(c,d){G.messaging.subscribe(b,d,c);});}function J(a,c,b){if(a.autoShowHide){w(a.views,c?"show":"hide",b);w(a.controls,c?"show":"hide",b);
}}}(HAF));(function(d,f){var e={};d.Service=d.Base.extend({dataURL:null,init:function(){e[this.guid()]={};e[this.guid()].updateCallBack=[];},fetch:function(){f.get(this.dataURL,function(a){this.updated(a);});},update:d.noop,get:d.noop,lastResult:function(){return e[this.guid()].lastResult;},onUpdate:function(a){e[this.guid()].updateCallBack.push(a);
},updated:function(b){var a,c;var h=e[this.guid()];h.lastResult=b;if(h){for(a=0,c=h.updateCallBack.length;a<c;a++){h.updateCallBack[a](b);}}},destroy:function(){delete e[this.guid()];},stop:d.noop,start:d.noop});}(HAF,HAF.DOM));(function(d){var c={};d.TemplateByString=function(a){return new d.Template(a,d.Template.LOAD.BY_STRING);
};d.TemplateByID=function(a){return new d.Template(a,d.Template.LOAD.BY_ID);};d.TemplateByURL=function(a){return new d.Template(a,d.Template.LOAD.BY_URL);};d.TemplateSafeString=function(a){return new d.templateEngine.safeString(a);};d.Template=d.Base.extend({init:function(b,a){this.path=b;this.loadBy=a||d.Template.LOAD.DEFAULT;
},process:function(a){if(this.path===undefined){return"";}if(!c[this.guid()]){console.log("Template param: ",this.path,this.loadBy);throw new Error("Template not in cache!!");}return d.templateEngine.process(c[this.guid()],a);},load:function(a){var b=this;if(this.path===undefined||c[this.guid()]){a();
}else{if(b.loadBy===d.Template.LOAD.BY_URL){d.templateEngine.getByURL(b.path,function(f){c[b.guid()]=f;a.call(b);});}else{if(this.loadBy===d.Template.LOAD.BY_ID){c[this.guid()]=d.templateEngine.getById(this.path);d.templateEngine.remove(this.path);setTimeout(function(){a.call(b);},5);}else{c[this.guid()]=d.templateEngine.getByString(this.path);
setTimeout(function(){a.call(b);},5);}}}},destroy:function(){delete c[this.guid()];}});d.Template.LOAD={BY_ID:"APP_TEMPLATE_BY_ID",BY_URL:"APP_TEMPLATE_BY_URL",BY_STRING:"APP_TEMPLATE_BY_STRING",DEFAULT:"APP_TEMPLATE_BY_ID"};}(HAF));(function(o,m){o.View=o.Base.extend({autoManageEventBind:false,autoLayout:false,init:function(a){this.injectDependencies(a);
this.$container=m(this.container);this.$el=this.$container.$item;if(!this.autoManageEventBind){this.bind();}i(this);},container:null,$container:null,bindings:null,layoutChange:o.noop,bind:function(){k(this);},unbind:function(){j(this);},$el:null,render:function(a){this.$container.html(a);},destroy:function(){var a=this;
p(a);a.unbind();a.$container.empty();},hide:function(){var a=this;a.$el.removeClass("show").addClass("hide");n(a);p(a);},show:function(){var a=this;a.$el.removeClass("hide").addClass("show");l(a);i(a);}});function j(a){o.each(a.bindings,function(c,d){var b=/([a-z]+)\s([a-zA-Z0-9\-\.\(\)>]+)/.exec(d);
a.$container.off(b[1],b[2]);});}function k(b){var a=typeof b.bindings==="function"?b.bindings():b.bindings;o.each(a,function(d,e){var c=/([a-z]+)\s([a-zA-Z0-9\-\.\(\)>]+)/.exec(e);b.$container.on(c[1],c[2],function(f){d.call(b,f,this);});});}function i(a){if(a.autoLayout){m(window).off("resize."+a.guid()).on(("resize."+a.guid()),function(){a.layoutChange();
});}}function p(a){if(a.autoLayout){m(window).off("resize."+a.guid());}}function n(a){if(a.autoManageEventBind){a.unbind();}}function l(a){if(a.autoManageEventBind){a.bind();}}}(HAF,HAF.DOM));(function(n){n.dependencyInjector=v;var u={"views":"view","templates":"template","services":"service","controls":"controller"};
function v(a,c){if(n.Messaging&&(c instanceof n.Messaging)){a.messageBus=c;}if(a.injectLocalMessageBus){a.localMessageBus=(c&&c.inject&&c.inject.localMessageBus)||new n.Messaging();}var b=(c&&c.inject)||(a.inject&&(w(a.inject)?a.inject():a.inject));b=p(b);n.each(b,function(f,e){var d=/^controls$|^templates$|^views$|^services$/.exec(e);
if(d){if(f instanceof Array){s(f,a,e);}else{if(w(f)){a[e]=f.call(a,a);}else{n.each(f,function(g,h){a[e]=a[e]||{};a[e][h]=a[e][h]={};q(a[e],h,t(g,a,e));});}}}else{a[e]=t(f,a,e);}});}function s(c,a,b){n.each(c,function(d){a[b]=a[b]||{};if(x(d)){a[b][d]=a[d]||{};q(a[b],d,o(a,b,d));}else{n.each(d,function(e,f){q(a[b],f,t(e,a,b));
});}});}function t(c,a,b){return x(c)?o(a,b,c):(w(c)?c():c);}function q(a,c,b){a[c]=b;}function o(a,c,d){if(a.injector){n.Module.dependency=n.Module.dependency||{};var b=n.Module.dependency[a.injector];if(b){if(b[c][d]){return b[c][d](a);}}}return r(a,c,d);}function m(a){return a.substr(0,1).toUpperCase()+a.substr(1);
}function r(a,d,e){if(d==="templates"){n.Module.template=n.Module.template||{};if(n.Module.template[m(e)]){return new n.Module.template[m(e)]();}if(n.Module.template[e]){return n.Module.template[e];}return new n.Template("tmpl"+m(e));}var b=u[d];n.Module[b]=n.Module[b]||{};try{return new n.Module[b][m(e)](a.injectLocalMessageBus?a.localMessageBus:a.messageBus);
}catch(c){n.errorLogger(c);throw new Error("Dependency instance creation error: ("+d+","+e+" | "+b+"."+(m(e))+")");}}function p(b){if(x(b)){var c={};var d=b.split(":");var e=d[1];var a=d[0];n.each({"templates":/T/,"views":/V/,"services":/S/},function(f,g){if(f.test(a)){c[g]=[e];}});b=c;}return b;}function w(a){return typeof a==="function";
}function x(a){return typeof a==="string";}}(HAF));(function(b){b.registerHelper("list",function(o,i,m){var n,k,a,l="",p="";if(typeof i==="string"){l=" class='"+i+"' ";p=" class='"+i+"-item' ";}else{m=i;}n="<ul"+l+">";if(o&&o.length){for(k=0,a=o.length;k<a;k++){n+="<li"+p+">"+m.fn(o[k])+"</li>";}}return n+"</ul>";
});}(Handlebars));(function(b){Handlebars.registerHelper("i18n",function(a,d){d=typeof d==="object"?null:d;return new Handlebars.SafeString(b.i18n(a,d));});}(HAF));(function(b){b.i18n=function(e,f){if(!b.i18nT){throw new Error("No resource bundle included for i18n!!");}if(e===null){return"";}var a;if(f){a=f;
}else{a=e.toLowerCase().replace(/ ([a-z])/g,function(d,c){return c.toUpperCase();}).replace(/ /g,"");a=a.charAt(0).toLowerCase()+a.substring(1);}return b.i18nT[a]||"!!!"+e+"!!!";};}(HAF));(function(j,m){var k;var p;var n={};var l=false;var i="#/home";var o=function(){function c(q){i=q;m(window).on("hashchange",b);
if(location.hash){b();}else{location.href="#/"+i;}}function b(){p=location.hash;var q=e(p);if(!q){location.href="#/"+i;return;}if(q.page!==k){u(k,q);k=q.page;g(k,q);}var r=e(location.hash);if(!l){if(!f(k)||a(r)){h(r);}}n[k]=q;window.setTimeout(function(){l=false;},200);}function a(q){return(!n[k]||(q.pageData!==n[q.page].pageData));
}function h(q){j.messaging.publish("navigationStateChange:"+k,q);j.messaging.publish("navigationStateChange",q);}function u(q,r){if(q){m("a[href$='#/"+q+"']").removeClass("selected");m("#"+q).removeClass("page-visible");j.messaging.publish("navigationChangedFrom:"+q,r);}}function g(q,s){m("#"+q).addClass("page-visible");
var x=v(q);x.addClass("selected");var r=n[q];if(r){if(r.pageData){location.replace("#/"+q+"/"+r.pageData);if(f(q)){l=true;}}}if(!l){j.messaging.publish("navigationChangedTo:"+k,s);}}function f(q){var r=v(q).attr("data-keep-state");return !(r===false||r==="false");}function v(q){return m("a[href$='#/"+q+"']");
}function e(q){var r=/#\/([a-zA-Z_\-0-9\$]+)(\/([\w\W]+))?/.exec(q);if(!r){return null;}return{path:q,page:r[1],pageData:r[3],keepPreviousState:f(r[1])};}function t(q){p=q;location.hash=q;if(window.hasOwnProperty("onhashchange")){b();}}function d(s,r,q,z){var y=new RegExp(("^"+r+"$").replace("?",".").replace(/:[a-zA-Z0-9-_]+/g,function(w){return"([a-zA-Z0-9-_]+)";
})).exec(p.substring(1).replace(/[\/]?$/,""));if(y){y.splice(0,1);q.apply(s,y);}else{if(z){z.call(s);}}}return{load:c,route:d,setRoute:t};};j.navigation=new o();}(HAF,HAF.DOM));(function(k,p){k.templateEngine={getById:l,getByCSSSelector:n,getByURL:s,getByString:r,process:t,safeString:q,remove:o};function s(b,a){p.get(b,function(c){a(m(c));
});}function q(a){return new Handlebars.SafeString(a);}function m(a){return Handlebars.compile(a);}function o(a){var b=p("#"+a);b.remove();}function r(a){return m(a);}function l(a){var c=p("#"+a);var b=c.html();c.remove();if(!b){throw new Error("Template id: "+a+", not found!!");}else{return m(b);}}function n(a){var b=p(a).html();
if(!b){throw new Error("Template selector: "+a+", not matched any!!");}else{return m(b);}}function t(a,b){return a(b);}}(HAF,HAF.DOM));(function(){window.$jit=function(x){x=x||window;for(var y in $jit){if($jit[y].$extend){x[y]=$jit[y];}}};$jit.version="2.0.1";var c=function(w){return document.getElementById(w);
};c.empty=function(){};c.extend=function(y,w){for(var x in (w||{})){y[x]=w[x];}return y;};c.lambda=function(w){return(typeof w=="function")?w:function(){return w;};};c.time=Date.now||function(){return +new Date;};c.splat=function(x){var w=c.type(x);return w?((w!="array")?[x]:x):[];};c.type=function(x){var w=c.type.s.call(x).match(/^\[object\s(.*)\]$/)[1].toLowerCase();
if(w!="object"){return w;}if(x&&x.$$family){return x.$$family;}return(x&&x.nodeName&&x.nodeType==1)?"element":w;};c.type.s=Object.prototype.toString;c.each=function(B,A){var z=c.type(B);if(z=="object"){for(var y in B){A(B[y],y);}}else{for(var x=0,w=B.length;x<w;x++){A(B[x],x);}}};c.indexOf=function(z,y){if(Array.indexOf){return z.indexOf(y);
}for(var x=0,w=z.length;x<w;x++){if(z[x]===y){return x;}}return -1;};c.map=function(y,x){var w=[];c.each(y,function(A,z){w.push(x(A,z));});return w;};c.reduce=function(A,y,x){var w=A.length;if(w==0){return x;}var z=arguments.length==3?x:A[--w];while(w--){z=y(z,A[w]);}return z;};c.merge=function(){var A={};
for(var z=0,w=arguments.length;z<w;z++){var x=arguments[z];if(c.type(x)!="object"){continue;}for(var y in x){var C=x[y],B=A[y];A[y]=(B&&c.type(C)=="object"&&c.type(B)=="object")?c.merge(B,C):c.unlink(C);}}return A;};c.unlink=function(y){var x;switch(c.type(y)){case"object":x={};for(var A in y){x[A]=c.unlink(y[A]);
}break;case"array":x=[];for(var z=0,w=y.length;z<w;z++){x[z]=c.unlink(y[z]);}break;default:return y;}return x;};c.zip=function(){if(arguments.length===0){return[];}for(var y=0,x=[],w=arguments.length,B=arguments[0].length;y<B;y++){for(var z=0,A=[];z<w;z++){A.push(arguments[z][y]);}x.push(A);}return x;
};c.rgbToHex=function(A,z){if(A.length<3){return null;}if(A.length==4&&A[3]==0&&!z){return"transparent";}var x=[];for(var w=0;w<3;w++){var y=(A[w]-0).toString(16);x.push(y.length==1?"0"+y:y);}return z?x:"#"+x.join("");};c.hexToRgb=function(y){if(y.length!=7){y=y.match(/^#?(\w{1,2})(\w{1,2})(\w{1,2})$/);
y.shift();if(y.length!=3){return null;}var w=[];for(var x=0;x<3;x++){var z=y[x];if(z.length==1){z+=z;}w.push(parseInt(z,16));}return w;}else{y=parseInt(y.slice(1),16);return[y>>16,y>>8&255,y&255];}};c.destroy=function(w){c.clean(w);if(w.parentNode){w.parentNode.removeChild(w);}if(w.clearAttributes){w.clearAttributes();
}};c.clean=function(z){for(var y=z.childNodes,x=0,w=y.length;x<w;x++){c.destroy(y[x]);}};c.addEvent=function(y,x,w){if(y.addEventListener){y.addEventListener(x,w,false);}else{y.attachEvent("on"+x,w);}};c.addEvents=function(x,y){for(var w in y){c.addEvent(x,w,y[w]);}};c.hasClass=function(x,w){return(" "+x.className+" ").indexOf(" "+w+" ")>-1;
};c.addClass=function(x,w){if(!c.hasClass(x,w)){x.className=(x.className+" "+w);}};c.removeClass=function(x,w){x.className=x.className.replace(new RegExp("(^|\\s)"+w+"(?:\\s|$)"),"$1");};c.getPos=function(y){var B=A(y);var w=z(y);return{x:B.x-w.x,y:B.y-w.y};function A(D){var C={x:0,y:0};while(D&&!x(D)){C.x+=D.offsetLeft;
C.y+=D.offsetTop;D=D.offsetParent;}return C;}function z(D){var C={x:0,y:0};while(D&&!x(D)){C.x+=D.scrollLeft;C.y+=D.scrollTop;D=D.parentNode;}return C;}function x(C){return(/^(?:body|html)$/i).test(C.tagName);}};c.event={get:function(x,w){w=w||window;return x||w.event;},getWheel:function(w){return w.wheelDelta?w.wheelDelta/120:-(w.detail||0)/3;
},isRightClick:function(w){return(w.which==3||w.button==2);},getPos:function(z,y){y=y||window;z=z||y.event;var x=y.document;x=x.documentElement||x.body;if(z.touches&&z.touches.length){z=z.touches[0];}var w={x:z.pageX||(z.clientX+x.scrollLeft),y:z.pageY||(z.clientY+x.scrollTop)};return w;},stop:function(w){if(w.stopPropagation){w.stopPropagation();
}w.cancelBubble=true;if(w.preventDefault){w.preventDefault();}else{w.returnValue=false;}}};$jit.util=$jit.id=c;var q=function(x){x=x||{};var w=function(){for(var A in this){if(typeof this[A]!="function"){this[A]=c.unlink(this[A]);}}this.constructor=w;if(q.prototyping){return this;}var z=this.initialize?this.initialize.apply(this,arguments):this;
this.$$family="class";return z;};for(var y in q.Mutators){if(!x[y]){continue;}x=q.Mutators[y](x,x[y]);delete x[y];}c.extend(w,this);w.constructor=q;w.prototype=x;return w;};q.Mutators={Implements:function(w,x){c.each(c.splat(x),function(z){q.prototyping=z;var y=(typeof z=="function")?new z:z;for(var A in y){if(!(A in w)){w[A]=y[A];
}}delete q.prototyping;});return w;}};c.extend(q,{inherit:function(w,z){for(var y in z){var x=z[y];var B=w[y];var A=c.type(x);if(B&&A=="function"){if(x!=B){q.override(w,y,x);}}else{if(A=="object"){w[y]=c.merge(B,x);}else{w[y]=x;}}}return w;},override:function(x,w,A){var z=q.prototyping;if(z&&x[w]!=z[w]){z=null;
}var y=function(){var B=this.parent;this.parent=z?z[w]:x[w];var C=A.apply(this,arguments);this.parent=B;return C;};x[w]=y;}});q.prototype.implement=function(){var w=this.prototype;c.each(Array.prototype.slice.call(arguments||[]),function(x){q.inherit(w,x);});return this;};$jit.Class=q;$jit.json={prune:function(x,w){this.each(x,function(z,y){if(y==w&&z.children){delete z.children;
z.children=[];}});},getParent:function(w,A){if(w.id==A){return false;}var z=w.children;if(z&&z.length>0){for(var y=0;y<z.length;y++){if(z[y].id==A){return w;}else{var x=this.getParent(z[y],A);if(x){return x;}}}}return false;},getSubtree:function(w,A){if(w.id==A){return w;}for(var y=0,z=w.children;z&&y<z.length;
y++){var x=this.getSubtree(z[y],A);if(x!=null){return x;}}return null;},eachLevel:function(w,B,y,A){if(B<=y){A(w,B);if(!w.children){return;}for(var x=0,z=w.children;x<z.length;x++){this.eachLevel(z[x],B+1,y,A);}}},each:function(w,x){this.eachLevel(w,0,Number.MAX_VALUE,x);}};$jit.Trans={$extend:true,linear:function(w){return w;
}};var i=$jit.Trans;(function(){var w=function(z,y){y=c.splat(y);return c.extend(z,{easeIn:function(A){return z(A,y);},easeOut:function(A){return 1-z(1-A,y);},easeInOut:function(A){return(A<=0.5)?z(2*A,y)/2:(2-z(2*(1-A),y))/2;}});};var x={Pow:function(z,y){return Math.pow(z,y[0]||6);},Expo:function(y){return Math.pow(2,8*(y-1));
},Circ:function(y){return 1-Math.sin(Math.acos(y));},Sine:function(y){return 1-Math.sin((1-y)*Math.PI/2);},Back:function(z,y){y=y[0]||1.618;return Math.pow(z,2)*((y+1)*z-y);},Bounce:function(B){var A;for(var z=0,y=1;1;z+=y,y/=2){if(B>=(7-4*z)/11){A=y*y-Math.pow((11-6*z-11*B)/4,2);break;}}return A;},Elastic:function(z,y){return Math.pow(2,10*--z)*Math.cos(20*z*Math.PI*(y[0]||1)/3);
}};c.each(x,function(z,y){i[y]=w(z);});c.each(["Quad","Cubic","Quart","Quint"],function(z,y){i[z]=w(function(A){return Math.pow(A,[y+2]);});});})();var u=new q({initialize:function(w){this.setOptions(w);},setOptions:function(w){var x={duration:2500,fps:40,transition:i.Quart.easeInOut,compute:c.empty,complete:c.empty,link:"ignore"};
this.opt=c.merge(x,w||{});return this;},step:function(){var x=c.time(),w=this.opt;if(x<this.time+w.duration){var y=w.transition((x-this.time)/w.duration);w.compute(y);}else{this.timer=clearInterval(this.timer);w.compute(1);w.complete();}},start:function(){if(!this.check()){return this;}this.time=0;this.startTimer();
return this;},startTimer:function(){var w=this,x=this.opt.fps;if(this.timer){return false;}this.time=c.time()-this.time;this.timer=setInterval((function(){w.step();}),Math.round(1000/x));return true;},pause:function(){this.stopTimer();return this;},resume:function(){this.startTimer();return this;},stopTimer:function(){if(!this.timer){return false;
}this.time=c.time()-this.time;this.timer=clearInterval(this.timer);return true;},check:function(){if(!this.timer){return true;}if(this.opt.link=="cancel"){this.stopTimer();return true;}return false;}});var n=function(){var y=arguments;for(var A=0,w=y.length,x={};A<w;A++){var z=n[y[A]];if(z.$extend){c.extend(x,z);
}else{x[y[A]]=z;}}return x;};n.AreaChart={$extend:true,animate:true,labelOffset:3,type:"stacked",Tips:{enable:false,onShow:c.empty,onHide:c.empty},Events:{enable:false,onClick:c.empty},selectOnHover:true,showAggregates:true,showLabels:true,filterOnClick:false,restoreOnRightClick:false};n.Margin={$extend:false,top:0,left:0,right:0,bottom:0};
n.Canvas={$extend:true,injectInto:"id",type:"2D",width:false,height:false,useCanvas:false,withLabels:true,background:false,Scene:{Lighting:{enable:false,ambient:[1,1,1],directional:{direction:{x:-100,y:-100,z:-100},color:[0.5,0.3,0.1]}}}};n.Tree={$extend:true,orientation:"left",subtreeOffset:8,siblingOffset:5,indent:10,multitree:false,align:"center"};
n.Node={$extend:false,overridable:false,type:"circle",color:"#ccb",alpha:1,dim:3,height:20,width:90,autoHeight:false,autoWidth:false,lineWidth:1,transform:true,align:"center",angularWidth:1,span:1,CanvasStyles:{}};n.Edge={$extend:false,overridable:false,type:"line",color:"#ccb",lineWidth:1,dim:15,alpha:1,epsilon:7,CanvasStyles:{}};
n.Fx={$extend:true,fps:40,duration:2500,transition:$jit.Trans.Quart.easeInOut,clearCanvas:true};n.Label={$extend:false,overridable:false,type:"HTML",style:" ",size:10,family:"sans-serif",textAlign:"center",textBaseline:"alphabetic",color:"#fff"};n.Tips={$extend:false,enable:false,type:"auto",offsetX:20,offsetY:20,force:false,onShow:c.empty,onHide:c.empty};
n.NodeStyles={$extend:false,enable:false,type:"auto",stylesHover:false,stylesClick:false};n.Events={$extend:false,enable:false,enableForEdges:false,type:"auto",onClick:c.empty,onRightClick:c.empty,onMouseMove:c.empty,onMouseEnter:c.empty,onMouseLeave:c.empty,onDragStart:c.empty,onDragMove:c.empty,onDragCancel:c.empty,onDragEnd:c.empty,onTouchStart:c.empty,onTouchMove:c.empty,onTouchEnd:c.empty,onMouseWheel:c.empty};
n.Navigation={$extend:false,enable:false,type:"auto",panning:false,zooming:false};n.Controller={$extend:true,onBeforeCompute:c.empty,onAfterCompute:c.empty,onCreateLabel:c.empty,onPlaceLabel:c.empty,onComplete:c.empty,onBeforePlotLine:c.empty,onAfterPlotLine:c.empty,onBeforePlotNode:c.empty,onAfterPlotNode:c.empty,request:false};
var t={initialize:function(y,w){this.viz=w;this.canvas=w.canvas;this.config=w.config[y];this.nodeTypes=w.fx.nodeTypes;var x=this.config.type;this.dom=x=="auto"?(w.config.Label.type!="Native"):(x!="Native");this.labelContainer=this.dom&&w.labels.getLabelContainer();this.isEnabled()&&this.initializePost();
},initializePost:c.empty,setAsProperty:c.lambda(false),isEnabled:function(){return this.config.enable;},isLabel:function(B,A,z){B=c.event.get(B,A);var w=this.labelContainer,y=B.target||B.srcElement,x=B.relatedTarget;if(z){return x&&x==this.viz.canvas.getCtx().canvas&&!!y&&this.isDescendantOf(y,w);}else{return this.isDescendantOf(y,w);
}},isDescendantOf:function(x,w){while(x&&x.parentNode){if(x.parentNode==w){return x;}x=x.parentNode;}return false;}};var h={onMouseUp:c.empty,onMouseDown:c.empty,onMouseMove:c.empty,onMouseOver:c.empty,onMouseOut:c.empty,onMouseWheel:c.empty,onTouchStart:c.empty,onTouchMove:c.empty,onTouchEnd:c.empty,onTouchCancel:c.empty};
var s=new q({initialize:function(w){this.viz=w;this.canvas=w.canvas;this.node=false;this.edge=false;this.registeredObjects=[];this.attachEvents();},attachEvents:function(){var y=this.canvas.getElement(),x=this;y.oncontextmenu=c.lambda(false);c.addEvents(y,{"mouseup":function(B,A){var z=c.event.get(B,A);
x.handleEvent("MouseUp",B,A,x.makeEventObject(B,A),c.event.isRightClick(z));},"mousedown":function(B,A){var z=c.event.get(B,A);x.handleEvent("MouseDown",B,A,x.makeEventObject(B,A),c.event.isRightClick(z));},"mousemove":function(A,z){x.handleEvent("MouseMove",A,z,x.makeEventObject(A,z));},"mouseover":function(A,z){x.handleEvent("MouseOver",A,z,x.makeEventObject(A,z));
},"mouseout":function(A,z){x.handleEvent("MouseOut",A,z,x.makeEventObject(A,z));},"touchstart":function(A,z){x.handleEvent("TouchStart",A,z,x.makeEventObject(A,z));},"touchmove":function(A,z){x.handleEvent("TouchMove",A,z,x.makeEventObject(A,z));},"touchend":function(A,z){x.handleEvent("TouchEnd",A,z,x.makeEventObject(A,z));
}});var w=function(C,B){var A=c.event.get(C,B);var z=c.event.getWheel(A);x.handleEvent("MouseWheel",C,B,z);};if(!document.getBoxObjectFor&&window.mozInnerScreenX==null){c.addEvent(y,"mousewheel",w);}else{y.addEventListener("DOMMouseScroll",w,false);}},register:function(w){this.registeredObjects.push(w);
},handleEvent:function(){var x=Array.prototype.slice.call(arguments),A=x.shift();for(var z=0,y=this.registeredObjects,w=y.length;z<w;z++){y[z]["on"+A].apply(y[z],x);}},makeEventObject:function(C,B){var z=this,A=this.viz.graph,y=this.viz.fx,x=y.nodeTypes,w=y.edgeTypes;return{pos:false,node:false,edge:false,contains:false,getNodeCalled:false,getEdgeCalled:false,getPos:function(){var F=z.viz.canvas,G=F.getSize(),H=F.getPos(),E=F.translateOffsetX,D=F.translateOffsetY,K=F.scaleOffsetX,I=F.scaleOffsetY,J=c.event.getPos(C,B);
this.pos={x:(J.x-H.x-G.width/2-E)*1/K,y:(J.y-H.y-G.height/2-D)*1/I};return this.pos;},getNode:function(){if(this.getNodeCalled){return this.node;}this.getNodeCalled=true;for(var G in A.nodes){var F=A.nodes[G],E=F&&x[F.getData("type")],D=E&&E.contains&&E.contains.call(y,F,this.getPos());if(D){this.contains=D;
return z.node=this.node=F;}}return z.node=this.node=false;},getEdge:function(){if(this.getEdgeCalled){return this.edge;}this.getEdgeCalled=true;var F={};for(var J in A.edges){var H=A.edges[J];F[J]=true;for(var I in H){if(I in F){continue;}var G=H[I],E=G&&w[G.getData("type")],D=E&&E.contains&&E.contains.call(y,G,this.getPos());
if(D){this.contains=D;return z.edge=this.edge=G;}}}return z.edge=this.edge=false;},getContains:function(){if(this.getNodeCalled){return this.contains;}this.getNode();return this.contains;}};}});var o={initializeExtras:function(){var x=new s(this),w=this;c.each(["NodeStyles","Tips","Navigation","Events"],function(y){var z=new o.Classes[y](y,w);
if(z.isEnabled()){x.register(z);}if(z.setAsProperty()){w[y.toLowerCase()]=z;}});}};o.Classes={};o.Classes.Events=new q({Implements:[t,h],initializePost:function(){this.fx=this.viz.fx;this.ntypes=this.viz.fx.nodeTypes;this.etypes=this.viz.fx.edgeTypes;this.hovered=false;this.pressed=false;this.touched=false;
this.touchMoved=false;this.moved=false;},setAsProperty:c.lambda(true),onMouseUp:function(A,z,x,y){var w=c.event.get(A,z);if(!this.moved){if(y){this.config.onRightClick(this.hovered,x,w);}else{this.config.onClick(this.pressed,x,w);}}if(this.pressed){if(this.moved){this.config.onDragEnd(this.pressed,x,w);
}else{this.config.onDragCancel(this.pressed,x,w);}this.pressed=this.moved=false;}},onMouseOut:function(B,A,z){var x=c.event.get(B,A),y;if(this.dom&&(y=this.isLabel(B,A,true))){this.config.onMouseLeave(this.viz.graph.getNode(y.id),z,x);this.hovered=false;return;}var w=x.relatedTarget,C=this.canvas.getElement();
while(w&&w.parentNode){if(C==w.parentNode){return;}w=w.parentNode;}if(this.hovered){this.config.onMouseLeave(this.hovered,z,x);this.hovered=false;}},onMouseOver:function(A,z,y){var w=c.event.get(A,z),x;if(this.dom&&(x=this.isLabel(A,z,true))){this.hovered=this.viz.graph.getNode(x.id);this.config.onMouseEnter(this.hovered,y,w);
}},onMouseMove:function(C,B,A){var x,w=c.event.get(C,B);if(this.pressed){this.moved=true;this.config.onDragMove(this.pressed,A,w);return;}if(this.dom){this.config.onMouseMove(this.hovered,A,w);}else{if(this.hovered){var D=this.hovered;var z=D.nodeFrom?this.etypes[D.getData("type")]:this.ntypes[D.getData("type")];
var y=z&&z.contains&&z.contains.call(this.fx,D,A.getPos());if(y){this.config.onMouseMove(D,A,w);return;}else{this.config.onMouseLeave(D,A,w);this.hovered=false;}}if(this.hovered=(A.getNode()||(this.config.enableForEdges&&A.getEdge()))){this.config.onMouseEnter(this.hovered,A,w);}else{this.config.onMouseMove(false,A,w);
}}},onMouseWheel:function(x,w,y){this.config.onMouseWheel(y,c.event.get(x,w));},onMouseDown:function(A,z,y){var w=c.event.get(A,z),x;if(this.dom){if(x=this.isLabel(A,z)){this.pressed=this.viz.graph.getNode(x.id);}}else{this.pressed=y.getNode()||(this.config.enableForEdges&&y.getEdge());}this.pressed&&this.config.onDragStart(this.pressed,y,w);
},onTouchStart:function(A,z,y){var w=c.event.get(A,z),x;if(this.dom&&(x=this.isLabel(A,z))){this.touched=this.viz.graph.getNode(x.id);}else{this.touched=y.getNode()||(this.config.enableForEdges&&y.getEdge());}this.touched&&this.config.onTouchStart(this.touched,y,w);},onTouchMove:function(z,y,x){var w=c.event.get(z,y);
if(this.touched){this.touchMoved=true;this.config.onTouchMove(this.touched,x,w);}},onTouchEnd:function(z,y,x){var w=c.event.get(z,y);if(this.touched){if(this.touchMoved){this.config.onTouchEnd(this.touched,x,w);}else{this.config.onTouchCancel(this.touched,x,w);}this.touched=this.touchMoved=false;}}});
o.Classes.Tips=new q({Implements:[t,h],initializePost:function(){if(document.body){var w=c("_tooltip")||document.createElement("div");w.id="_tooltip";w.className="tip";c.extend(w.style,{position:"absolute",display:"none",zIndex:13000});document.body.appendChild(w);this.tip=w;this.node=false;}},setAsProperty:c.lambda(true),onMouseOut:function(z,y){var x=c.event.get(z,y);
if(this.dom&&this.isLabel(z,y,true)){this.hide(true);return;}var w=z.relatedTarget,A=this.canvas.getElement();while(w&&w.parentNode){if(A==w.parentNode){return;}w=w.parentNode;}this.hide(false);},onMouseOver:function(y,x){var w;if(this.dom&&(w=this.isLabel(y,x,false))){this.node=this.viz.graph.getNode(w.id);
this.config.onShow(this.tip,this.node,w);}},onMouseMove:function(z,y,w){if(this.dom&&this.isLabel(z,y)){this.setTooltipPosition(c.event.getPos(z,y));}if(!this.dom){var x=w.getNode();if(!x){this.hide(true);return;}if(this.config.force||!this.node||this.node.id!=x.id){this.node=x;this.config.onShow(this.tip,x,w.getContains());
}this.setTooltipPosition(c.event.getPos(z,y));}},setTooltipPosition:function(F){var B=this.tip,A=B.style,z=this.config;A.display="";var D={"height":document.body.clientHeight,"width":document.body.clientWidth};var C={"width":B.offsetWidth,"height":B.offsetHeight};var w=z.offsetX,E=z.offsetY;A.top=((F.y+E+C.height>D.height)?(F.y-C.height-E):F.y+E)+"px";
A.left=((F.x+C.width+w>D.width)?(F.x-C.width-w):F.x+w)+"px";},hide:function(w){this.tip.style.display="none";w&&this.config.onHide();}});o.Classes.NodeStyles=new q({Implements:[t,h],initializePost:function(){this.fx=this.viz.fx;this.types=this.viz.fx.nodeTypes;this.nStyles=this.config;this.nodeStylesOnHover=this.nStyles.stylesHover;
this.nodeStylesOnClick=this.nStyles.stylesClick;this.hoveredNode=false;this.fx.nodeFxAnimation=new u();this.down=false;this.move=false;},onMouseOut:function(y,x){this.down=this.move=false;if(!this.hoveredNode){return;}if(this.dom&&this.isLabel(y,x,true)){this.toggleStylesOnHover(this.hoveredNode,false);
}var w=y.relatedTarget,z=this.canvas.getElement();while(w&&w.parentNode){if(z==w.parentNode){return;}w=w.parentNode;}this.toggleStylesOnHover(this.hoveredNode,false);this.hoveredNode=false;},onMouseOver:function(z,y){var w;if(this.dom&&(w=this.isLabel(z,y,true))){var x=this.viz.graph.getNode(w.id);if(x.selected){return;
}this.hoveredNode=x;this.toggleStylesOnHover(this.hoveredNode,true);}},onMouseDown:function(A,z,x,y){if(y){return;}var w;if(this.dom&&(w=this.isLabel(A,z))){this.down=this.viz.graph.getNode(w.id);}else{if(!this.dom){this.down=x.getNode();}}this.move=false;},onMouseUp:function(z,y,w,x){if(x){return;}if(!this.move){this.onClick(w.getNode());
}this.down=this.move=false;},getRestoredStyles:function(x,w){var z={},y=this["nodeStylesOn"+w];for(var A in y){z[A]=x.styles["$"+A];}return z;},toggleStylesOnHover:function(w,x){if(this.nodeStylesOnHover){this.toggleStylesOn("Hover",w,x);}},toggleStylesOnClick:function(w,x){if(this.nodeStylesOnClick){this.toggleStylesOn("Click",w,x);
}},toggleStylesOn:function(A,w,C){var D=this.viz;var B=this.nStyles;if(C){var z=this;if(!w.styles){w.styles=c.merge(w.data,{});}for(var E in this["nodeStylesOn"+A]){var x="$"+E;if(!(x in w.styles)){w.styles[x]=w.getData(E);}}D.fx.nodeFx(c.extend({"elements":{"id":w.id,"properties":z["nodeStylesOn"+A]},transition:i.Quart.easeOut,duration:300,fps:40},this.config));
}else{var y=this.getRestoredStyles(w,A);D.fx.nodeFx(c.extend({"elements":{"id":w.id,"properties":y},transition:i.Quart.easeOut,duration:300,fps:40},this.config));}},onClick:function(w){if(!w){return;}var x=this.nodeStylesOnClick;if(!x){return;}if(w.selected){this.toggleStylesOnClick(w,false);delete w.selected;
}else{this.viz.graph.eachNode(function(z){if(z.selected){for(var y in x){z.setData(y,z.styles["$"+y],"end");}delete z.selected;}});this.toggleStylesOnClick(w,true);w.selected=true;delete w.hovered;this.hoveredNode=false;}},onMouseMove:function(C,B,z){if(this.down){this.move=true;}if(this.dom&&this.isLabel(C,B)){return;
}var A=this.nodeStylesOnHover;if(!A){return;}if(!this.dom){if(this.hoveredNode){var x=this.types[this.hoveredNode.getData("type")];var w=x&&x.contains&&x.contains.call(this.fx,this.hoveredNode,z.getPos());if(w){return;}}var y=z.getNode();if(!this.hoveredNode&&!y){return;}if(y.hovered){return;}if(y&&!y.selected){this.fx.nodeFxAnimation.stopTimer();
this.viz.graph.eachNode(function(E){if(E.hovered&&!E.selected){for(var D in A){E.setData(D,E.styles["$"+D],"end");}delete E.hovered;}});y.hovered=true;this.hoveredNode=y;this.toggleStylesOnHover(y,true);}else{if(this.hoveredNode&&!this.hoveredNode.selected){this.fx.nodeFxAnimation.stopTimer();this.toggleStylesOnHover(this.hoveredNode,false);
delete this.hoveredNode.hovered;this.hoveredNode=false;}}}}});o.Classes.Navigation=new q({Implements:[t,h],initializePost:function(){this.pos=false;this.pressed=false;},onMouseWheel:function(z,y,w){if(!this.config.zooming){return;}c.event.stop(c.event.get(z,y));var A=this.config.zooming/1000,x=1+w*A;
this.canvas.scale(x,x);},onMouseDown:function(B,A,z){if(!this.config.panning){return;}if(this.config.panning=="avoid nodes"&&(this.dom?this.isLabel(B,A):z.getNode())){return;}this.pressed=true;this.pos=z.getPos();var y=this.canvas,x=y.translateOffsetX,w=y.translateOffsetY,D=y.scaleOffsetX,C=y.scaleOffsetY;
this.pos.x*=D;this.pos.x+=x;this.pos.y*=C;this.pos.y+=w;},onMouseMove:function(D,C,F){if(!this.config.panning){return;}if(!this.pressed){return;}if(this.config.panning=="avoid nodes"&&(this.dom?this.isLabel(D,C):F.getNode())){return;}var B=this.pos,E=F.getPos(),z=this.canvas,A=z.translateOffsetX,w=z.translateOffsetY,J=z.scaleOffsetX,H=z.scaleOffsetY;
E.x*=J;E.y*=H;E.x+=A;E.y+=w;var I=E.x-B.x,G=E.y-B.y;this.pos=E;this.canvas.translate(I*1/J,G*1/H);},onMouseUp:function(z,y,x,w){if(!this.config.panning){return;}this.pressed=false;}});var l;(function(){var w=typeof HTMLCanvasElement,y=(w=="object"||w=="function");function x(z,A){var B=document.createElement(z);
for(var C in A){if(typeof A[C]=="object"){c.extend(B[C],A[C]);}else{B[C]=A[C];}}if(z=="canvas"&&!y&&G_vmlCanvasManager){B=G_vmlCanvasManager.initElement(document.body.appendChild(B));}return B;}$jit.Canvas=l=new q({canvases:[],pos:false,element:false,labelContainer:false,translateOffsetX:0,translateOffsetY:0,scaleOffsetX:1,scaleOffsetY:1,initialize:function(L,E){this.viz=L;
this.opt=this.config=E;var B=c.type(E.injectInto)=="string"?E.injectInto:E.injectInto.id,K=E.type,C=B+"-label",z=c(B),D=E.width||z.offsetWidth,M=E.height||z.offsetHeight;this.id=B;var F={injectInto:B,width:D,height:M};this.element=x("div",{"id":B+"-canvaswidget","style":{"position":"relative","width":D+"px","height":M+"px"}});
this.labelContainer=this.createLabelContainer(E.Label.type,C,F);this.canvases.push(new l.Base[K]({config:c.extend({idSuffix:"-canvas"},F),plot:function(N){L.fx.plot();},resize:function(){L.refresh();}}));var G=E.background;if(G){var J=new l.Background[G.type](L,c.extend(G,F));this.canvases.push(new l.Base[K](J));
}var I=this.canvases.length;while(I--){this.element.appendChild(this.canvases[I].canvas);if(I>0){this.canvases[I].plot();}}this.element.appendChild(this.labelContainer);z.appendChild(this.element);var A=null,H=this;c.addEvent(window,"scroll",function(){clearTimeout(A);A=setTimeout(function(){H.getPos(true);
},500);});},getCtx:function(z){return this.canvases[z||0].getCtx();},getConfig:function(){return this.opt;},getElement:function(){return this.element;},getSize:function(z){return this.canvases[z||0].getSize();},resize:function(D,z){this.getPos(true);this.translateOffsetX=this.translateOffsetY=0;this.scaleOffsetX=this.scaleOffsetY=1;
for(var B=0,A=this.canvases.length;B<A;B++){this.canvases[B].resize(D,z);}var C=this.element.style;C.width=D+"px";C.height=z+"px";if(this.labelContainer){this.labelContainer.style.width=D+"px";}},translate:function(z,D,C){this.translateOffsetX+=z*this.scaleOffsetX;this.translateOffsetY+=D*this.scaleOffsetY;
for(var B=0,A=this.canvases.length;B<A;B++){this.canvases[B].translate(z,D,C);}},scale:function(E,B,C){var F=this.scaleOffsetX*E,D=this.scaleOffsetY*B;var H=this.translateOffsetX*(E-1)/F,G=this.translateOffsetY*(B-1)/D;this.scaleOffsetX=F;this.scaleOffsetY=D;for(var A=0,z=this.canvases.length;A<z;A++){this.canvases[A].scale(E,B,true);
}this.translate(H,G,false);},getPos:function(z){if(z||!this.pos){return this.pos=c.getPos(this.getElement());}return this.pos;},clear:function(z){this.canvases[z||0].clear();},path:function(A,B){var z=this.canvases[0].getCtx();z.beginPath();B(z);z[A]();z.closePath();},createLabelContainer:function(B,F,E){var D="http://www.w3.org/2000/svg";
if(B=="HTML"||B=="Native"){return x("div",{"id":F,"style":{"overflow":"visible","position":"absolute","top":0,"left":0,"width":E.width+"px","height":0}});}else{if(B=="SVG"){var C=document.createElementNS(D,"svg:svg");C.setAttribute("width",E.width);C.setAttribute("height",E.height);var A=C.style;A.position="absolute";
A.left=A.top="0px";var z=document.createElementNS(D,"svg:g");z.setAttribute("width",E.width);z.setAttribute("height",E.height);z.setAttribute("x",0);z.setAttribute("y",0);z.setAttribute("id",F);C.appendChild(z);return C;}}}});l.Base={};l.Base["2D"]=new q({translateOffsetX:0,translateOffsetY:0,scaleOffsetX:1,scaleOffsetY:1,initialize:function(z){this.viz=z;
this.opt=z.config;this.size=false;this.createCanvas();this.translateToCenter();},createCanvas:function(){var A=this.opt,B=A.width,z=A.height;this.canvas=x("canvas",{"id":A.injectInto+A.idSuffix,"width":B,"height":z,"style":{"position":"absolute","top":0,"left":0,"width":B+"px","height":z+"px"}});},getCtx:function(){if(!this.ctx){return this.ctx=this.canvas.getContext("2d");
}return this.ctx;},getSize:function(){if(this.size){return this.size;}var z=this.canvas;return this.size={width:z.width,height:z.height};},translateToCenter:function(C){var A=this.getSize(),B=C?(A.width-C.width-this.translateOffsetX*2):A.width;height=C?(A.height-C.height-this.translateOffsetY*2):A.height;
var z=this.getCtx();C&&z.scale(1/this.scaleOffsetX,1/this.scaleOffsetY);z.translate(B/2,height/2);},resize:function(C,z){var B=this.getSize(),A=this.canvas,D=A.style;this.size=false;A.width=C;A.height=z;D.width=C+"px";D.height=z+"px";if(!y){this.translateToCenter(B);}else{this.translateToCenter();}this.translateOffsetX=this.translateOffsetY=0;
this.scaleOffsetX=this.scaleOffsetY=1;this.clear();this.viz.resize(C,z,this);},translate:function(z,D,A){var C=this.scaleOffsetX,B=this.scaleOffsetY;this.translateOffsetX+=z*C;this.translateOffsetY+=D*B;this.getCtx().translate(z,D);!A&&this.plot();},scale:function(z,B,A){this.scaleOffsetX*=z;this.scaleOffsetY*=B;
this.getCtx().scale(z,B);!A&&this.plot();},clear:function(){var B=this.getSize(),A=this.translateOffsetX,z=this.translateOffsetY,D=this.scaleOffsetX,C=this.scaleOffsetY;this.getCtx().clearRect((-B.width/2-A)*1/D,(-B.height/2-z)*1/C,B.width*1/D,B.height*1/C);},plot:function(){this.clear();this.viz.plot(this);
}});l.Background={};l.Background.Circles=new q({initialize:function(z,A){this.viz=z;this.config=c.merge({idSuffix:"-bkcanvas",levelDistance:100,numberOfCircles:6,CanvasStyles:{},offset:0},A);},resize:function(A,z,B){this.plot(B);},plot:function(z){var A=z.canvas,G=z.getCtx(),D=this.config,F=D.CanvasStyles;
for(var H in F){G[H]=F[H];}var B=D.numberOfCircles,E=D.levelDistance;for(var C=1;C<=B;C++){G.beginPath();G.arc(0,0,E*C,0,2*Math.PI,false);G.stroke();G.closePath();}}});})();var b=function(x,w){this.theta=x||0;this.rho=w||0;};$jit.Polar=b;b.prototype={getc:function(w){return this.toComplex(w);},getp:function(){return this;
},set:function(w){w=w.getp();this.theta=w.theta;this.rho=w.rho;},setc:function(w,z){this.rho=Math.sqrt(w*w+z*z);this.theta=Math.atan2(z,w);if(this.theta<0){this.theta+=Math.PI*2;}},setp:function(x,w){this.theta=x;this.rho=w;},clone:function(){return new b(this.theta,this.rho);},toComplex:function(A){var w=Math.cos(this.theta)*this.rho;
var z=Math.sin(this.theta)*this.rho;if(A){return{"x":w,"y":z};}return new p(w,z);},add:function(w){return new b(this.theta+w.theta,this.rho+w.rho);},scale:function(w){return new b(this.theta,this.rho*w);},equals:function(w){return this.theta==w.theta&&this.rho==w.rho;},$add:function(w){this.theta=this.theta+w.theta;
this.rho+=w.rho;return this;},$madd:function(w){this.theta=(this.theta+w.theta)%(Math.PI*2);this.rho+=w.rho;return this;},$scale:function(w){this.rho*=w;return this;},isZero:function(){var x=0.0001,w=Math.abs;return w(this.theta)<x&&w(this.rho)<x;},interpolate:function(y,F){var z=Math.PI,C=z*2;var x=function(H){var G=(H<0)?(H%C)+C:H%C;
return G;};var B=this.theta,E=y.theta;var A,D=Math.abs(B-E);if(D==z){if(B>E){A=x((E+((B-C)-E)*F));}else{A=x((E-C+(B-(E))*F));}}else{if(D>=z){if(B>E){A=x((E+((B-C)-E)*F));}else{A=x((E-C+(B-(E-C))*F));}}else{A=x((E+(B-E)*F));}}var w=(this.rho-y.rho)*F+y.rho;return{"theta":A,"rho":w};}};var k=function(x,w){return new b(x,w);
};b.KER=k(0,0);var p=function(w,z){this.x=w||0;this.y=z||0;};$jit.Complex=p;p.prototype={getc:function(){return this;},getp:function(w){return this.toPolar(w);},set:function(w){w=w.getc(true);this.x=w.x;this.y=w.y;},setc:function(w,z){this.x=w;this.y=z;},setp:function(x,w){this.x=Math.cos(x)*w;this.y=Math.sin(x)*w;
},clone:function(){return new p(this.x,this.y);},toPolar:function(y){var w=this.norm();var x=Math.atan2(this.y,this.x);if(x<0){x+=Math.PI*2;}if(y){return{"theta":x,"rho":w};}return new b(x,w);},norm:function(){return Math.sqrt(this.squaredNorm());},squaredNorm:function(){return this.x*this.x+this.y*this.y;
},add:function(w){return new p(this.x+w.x,this.y+w.y);},prod:function(w){return new p(this.x*w.x-this.y*w.y,this.y*w.x+this.x*w.y);},conjugate:function(){return new p(this.x,-this.y);},scale:function(w){return new p(this.x*w,this.y*w);},equals:function(w){return this.x==w.x&&this.y==w.y;},$add:function(w){this.x+=w.x;
this.y+=w.y;return this;},$prod:function(A){var w=this.x,z=this.y;this.x=w*A.x-z*A.y;this.y=z*A.x+w*A.y;return this;},$conjugate:function(){this.y=-this.y;return this;},$scale:function(w){this.x*=w;this.y*=w;return this;},$div:function(B){var w=this.x,A=this.y;var z=B.squaredNorm();this.x=w*B.x+A*B.y;
this.y=A*B.x-w*B.y;return this.$scale(1/z);},isZero:function(){var x=0.0001,w=Math.abs;return w(this.x)<x&&w(this.y)<x;}};var r=function(x,w){return new p(x,w);};p.KER=r(0,0);$jit.Graph=new q({initialize:function(y,x,w,C){var A={"klass":p,"Node":{}};this.Node=x;this.Edge=w;this.Label=C;this.opt=c.merge(A,y||{});
this.nodes={};this.edges={};var z=this;this.nodeList={};for(var B in j){z.nodeList[B]=(function(D){return function(){var E=Array.prototype.slice.call(arguments);z.eachNode(function(F){F[D].apply(F,E);});};})(B);}},getNode:function(w){if(this.hasNode(w)){return this.nodes[w];}return false;},get:function(w){return this.getNode(w);
},getByName:function(w){for(var y in this.nodes){var x=this.nodes[y];if(x.name==w){return x;}}return false;},getAdjacence:function(x,w){if(x in this.edges){return this.edges[x][w];}return false;},addNode:function(x){if(!this.nodes[x.id]){var w=this.edges[x.id]={};this.nodes[x.id]=new e.Node(c.extend({"id":x.id,"name":x.name,"data":c.merge(x.data||{},{}),"adjacencies":w},this.opt.Node),this.opt.klass,this.Node,this.Edge,this.Label);
}return this.nodes[x.id];},addAdjacence:function(z,y,x){if(!this.hasNode(z.id)){this.addNode(z);}if(!this.hasNode(y.id)){this.addNode(y);}z=this.nodes[z.id];y=this.nodes[y.id];if(!z.adjacentTo(y)){var A=this.edges[z.id]=this.edges[z.id]||{};var w=this.edges[y.id]=this.edges[y.id]||{};A[y.id]=w[z.id]=new e.Adjacence(z,y,x,this.Edge,this.Label);
return A[y.id];}return this.edges[z.id][y.id];},removeNode:function(y){if(this.hasNode(y)){delete this.nodes[y];var x=this.edges[y];for(var w in x){delete this.edges[w][y];}delete this.edges[y];}},removeAdjacence:function(x,w){delete this.edges[x][w];delete this.edges[w][x];},hasNode:function(w){return w in this.nodes;
},empty:function(){this.nodes={};this.edges={};}});var e=$jit.Graph;var j;(function(){var w=function(D,F,A,C,E){var B;A=A||"current";D="$"+(D?D+"-":"");if(A=="current"){B=this.data;}else{if(A=="start"){B=this.startData;}else{if(A=="end"){B=this.endData;}}}var z=D+F;if(C){return B[z];}if(!this.Config.overridable){return E[F]||0;
}return(z in B)?B[z]:((z in this.data)?this.data[z]:(E[F]||0));};var y=function(C,D,B,z){z=z||"current";C="$"+(C?C+"-":"");var A;if(z=="current"){A=this.data;}else{if(z=="start"){A=this.startData;}else{if(z=="end"){A=this.endData;}}}A[C+D]=B;};var x=function(B,z){B="$"+(B?B+"-":"");var A=this;c.each(z,function(D){var C=B+D;
delete A.data[C];delete A.endData[C];delete A.startData[C];});};j={getData:function(B,z,A){return w.call(this,"",B,z,A,this.Config);},setData:function(B,A,z){y.call(this,"",B,A,z);},setDataset:function(C,D){C=c.splat(C);for(var z in D){for(var B=0,E=c.splat(D[z]),A=C.length;B<A;B++){this.setData(z,E[B],C[B]);
}}},removeData:function(){x.call(this,"",Array.prototype.slice.call(arguments));},getCanvasStyle:function(B,z,A){return w.call(this,"canvas",B,z,A,this.Config.CanvasStyles);},setCanvasStyle:function(B,A,z){y.call(this,"canvas",B,A,z);},setCanvasStyles:function(C,D){C=c.splat(C);for(var z in D){for(var B=0,E=c.splat(D[z]),A=C.length;
B<A;B++){this.setCanvasStyle(z,E[B],C[B]);}}},removeCanvasStyle:function(){x.call(this,"canvas",Array.prototype.slice.call(arguments));},getLabelData:function(B,z,A){return w.call(this,"label",B,z,A,this.Label);},setLabelData:function(B,A,z){y.call(this,"label",B,A,z);},setLabelDataset:function(C,D){C=c.splat(C);
for(var z in D){for(var B=0,E=c.splat(D[z]),A=C.length;B<A;B++){this.setLabelData(z,E[B],C[B]);}}},removeLabelData:function(){x.call(this,"label",Array.prototype.slice.call(arguments));}};})();e.Node=new q({initialize:function(z,w,y,x,B){var A={"id":"","name":"","data":{},"startData":{},"endData":{},"adjacencies":{},"selected":false,"drawn":false,"exist":false,"angleSpan":{"begin":0,"end":0},"pos":new w,"startPos":new w,"endPos":new w};
c.extend(this,c.extend(A,z));this.Config=this.Node=y;this.Edge=x;this.Label=B;},adjacentTo:function(w){return w.id in this.adjacencies;},getAdjacency:function(w){return this.adjacencies[w];},getPos:function(w){w=w||"current";if(w=="current"){return this.pos;}else{if(w=="end"){return this.endPos;}else{if(w=="start"){return this.startPos;
}}}},setPos:function(x,w){w=w||"current";var y;if(w=="current"){y=this.pos;}else{if(w=="end"){y=this.endPos;}else{if(w=="start"){y=this.startPos;}}}y.set(x);}});e.Node.implement(j);e.Adjacence=new q({initialize:function(x,A,y,w,z){this.nodeFrom=x;this.nodeTo=A;this.data=y||{};this.startData={};this.endData={};
this.Config=this.Edge=w;this.Label=z;}});e.Adjacence.implement(j);e.Util={filter:function(x){if(!x||!(c.type(x)=="string")){return function(){return true;};}var w=x.split(" ");return function(z){for(var y=0;y<w.length;y++){if(z[w[y]]){return false;}}return true;};},getNode:function(w,x){return w.nodes[x];
},eachNode:function(A,z,w){var y=this.filter(w);for(var x in A.nodes){if(y(A.nodes[x])){z(A.nodes[x]);}}},each:function(y,x,w){this.eachNode(y,x,w);},eachAdjacency:function(B,C,x){var y=B.adjacencies,A=this.filter(x);for(var D in y){var w=y[D];if(A(w)){if(w.nodeFrom!=B){var z=w.nodeFrom;w.nodeFrom=w.nodeTo;
w.nodeTo=z;}C(w,D);}}},computeLevels:function(C,D,z,y){z=z||0;var A=this.filter(y);this.eachNode(C,function(E){E._flag=false;E._depth=-1;},y);var x=C.getNode(D);x._depth=z;var w=[x];while(w.length!=0){var B=w.pop();B._flag=true;this.eachAdjacency(B,function(E){var F=E.nodeTo;if(F._flag==false&&A(F)){if(F._depth<0){F._depth=B._depth+1+z;
}w.unshift(F);}},y);}},eachBFS:function(B,C,A,x){var y=this.filter(x);this.clean(B);var w=[B.getNode(C)];while(w.length!=0){var z=w.pop();z._flag=true;A(z,z._depth);this.eachAdjacency(z,function(D){var E=D.nodeTo;if(E._flag==false&&y(E)){E._flag=true;w.unshift(E);}},x);}},eachLevel:function(A,E,x,B,z){var D=A._depth,w=this.filter(z),C=this;
x=x===false?Number.MAX_VALUE-D:x;(function y(H,F,G){var I=H._depth;if(I>=F&&I<=G&&w(H)){B(H,I);}if(I<G){C.eachAdjacency(H,function(J){var K=J.nodeTo;if(K._depth>I){y(K,F,G);}});}})(A,E+D,x+D);},eachSubgraph:function(x,y,w){this.eachLevel(x,0,false,y,w);},eachSubnode:function(x,y,w){this.eachLevel(x,1,1,y,w);
},anySubnode:function(z,y,x){var w=false;y=y||c.lambda(true);var A=c.type(y)=="string"?function(B){return B[y];}:y;this.eachSubnode(z,function(B){if(A(B)){w=true;}},x);return w;},getSubnodes:function(B,C,w){var y=[],A=this;C=C||0;var z,x;if(c.type(C)=="array"){z=C[0];x=C[1];}else{z=C;x=Number.MAX_VALUE-B._depth;
}this.eachLevel(B,z,x,function(D){y.push(D);},w);return y;},getParents:function(x){var w=[];this.eachAdjacency(x,function(y){var z=y.nodeTo;if(z._depth<x._depth){w.push(z);}});return w;},isDescendantOf:function(z,A){if(z.id==A){return true;}var y=this.getParents(z),w=false;for(var x=0;!w&&x<y.length;
x++){w=w||this.isDescendantOf(y[x],A);}return w;},clean:function(w){this.eachNode(w,function(x){x._flag=false;});},getClosestNodeToOrigin:function(x,y,w){return this.getClosestNodeToPos(x,b.KER,y,w);},getClosestNodeToPos:function(y,B,A,w){var x=null;A=A||"current";B=B&&B.getc(true)||p.KER;var z=function(D,C){var F=D.x-C.x,E=D.y-C.y;
return F*F+E*E;};this.eachNode(y,function(C){x=(x==null||z(C.getPos(A).getc(true),B)<z(x.getPos(A).getc(true),B))?C:x;},w);return x;}};c.each(["get","getNode","each","eachNode","computeLevels","eachBFS","clean","getClosestNodeToPos","getClosestNodeToOrigin"],function(w){e.prototype[w]=function(){return e.Util[w].apply(e.Util,[this].concat(Array.prototype.slice.call(arguments)));
};});c.each(["eachAdjacency","eachLevel","eachSubgraph","eachSubnode","anySubnode","getSubnodes","getParents","isDescendantOf"],function(w){e.Node.prototype[w]=function(){return e.Util[w].apply(e.Util,[this].concat(Array.prototype.slice.call(arguments)));};});e.Op={options:{type:"nothing",duration:2000,hideLabels:true,fps:30},initialize:function(w){this.viz=w;
},removeNode:function(B,z){var w=this.viz;var x=c.merge(this.options,w.controller,z);var D=c.splat(B);var y,A,C;switch(x.type){case"nothing":for(y=0;y<D.length;y++){w.graph.removeNode(D[y]);}break;case"replot":this.removeNode(D,{type:"nothing"});w.labels.clearLabels();w.refresh(true);break;case"fade:seq":case"fade":A=this;
for(y=0;y<D.length;y++){C=w.graph.getNode(D[y]);C.setData("alpha",0,"end");}w.fx.animate(c.merge(x,{modes:["node-property:alpha"],onComplete:function(){A.removeNode(D,{type:"nothing"});w.labels.clearLabels();w.reposition();w.fx.animate(c.merge(x,{modes:["linear"]}));}}));break;case"fade:con":A=this;for(y=0;
y<D.length;y++){C=w.graph.getNode(D[y]);C.setData("alpha",0,"end");C.ignore=true;}w.reposition();w.fx.animate(c.merge(x,{modes:["node-property:alpha","linear"],onComplete:function(){A.removeNode(D,{type:"nothing"});x.onComplete&&x.onComplete();}}));break;case"iter":A=this;w.fx.sequence({condition:function(){return D.length!=0;
},step:function(){A.removeNode(D.shift(),{type:"nothing"});w.labels.clearLabels();},onComplete:function(){x.onComplete&&x.onComplete();},duration:Math.ceil(x.duration/D.length)});break;default:this.doError();}},removeEdge:function(D,B){var w=this.viz;var z=c.merge(this.options,w.controller,B);var y=(c.type(D[0])=="string")?[D]:D;
var A,C,x;switch(z.type){case"nothing":for(A=0;A<y.length;A++){w.graph.removeAdjacence(y[A][0],y[A][1]);}break;case"replot":this.removeEdge(y,{type:"nothing"});w.refresh(true);break;case"fade:seq":case"fade":C=this;for(A=0;A<y.length;A++){x=w.graph.getAdjacence(y[A][0],y[A][1]);if(x){x.setData("alpha",0,"end");
}}w.fx.animate(c.merge(z,{modes:["edge-property:alpha"],onComplete:function(){C.removeEdge(y,{type:"nothing"});w.reposition();w.fx.animate(c.merge(z,{modes:["linear"]}));}}));break;case"fade:con":C=this;for(A=0;A<y.length;A++){x=w.graph.getAdjacence(y[A][0],y[A][1]);if(x){x.setData("alpha",0,"end");x.ignore=true;
}}w.reposition();w.fx.animate(c.merge(z,{modes:["edge-property:alpha","linear"],onComplete:function(){C.removeEdge(y,{type:"nothing"});z.onComplete&&z.onComplete();}}));break;case"iter":C=this;w.fx.sequence({condition:function(){return y.length!=0;},step:function(){C.removeEdge(y.shift(),{type:"nothing"});
w.labels.clearLabels();},onComplete:function(){z.onComplete();},duration:Math.ceil(z.duration/y.length)});break;default:this.doError();}},sum:function(A,z){var w=this.viz;var y=c.merge(this.options,w.controller,z),x=w.root;var C;w.root=z.id||w.root;switch(y.type){case"nothing":C=w.construct(A);C.eachNode(function(E){E.eachAdjacency(function(F){w.graph.addAdjacence(F.nodeFrom,F.nodeTo,F.data);
});});break;case"replot":w.refresh(true);this.sum(A,{type:"nothing"});w.refresh(true);break;case"fade:seq":case"fade":case"fade:con":that=this;C=w.construct(A);var D=this.preprocessSum(C);var B=!D?["node-property:alpha"]:["node-property:alpha","edge-property:alpha"];w.reposition();if(y.type!="fade:con"){w.fx.animate(c.merge(y,{modes:["linear"],onComplete:function(){w.fx.animate(c.merge(y,{modes:B,onComplete:function(){y.onComplete();
}}));}}));}else{w.graph.eachNode(function(E){if(E.id!=x&&E.pos.isZero()){E.pos.set(E.endPos);E.startPos.set(E.endPos);}});w.fx.animate(c.merge(y,{modes:["linear"].concat(B)}));}break;default:this.doError();}},morph:function(E,x,z){z=z||{};var B=this.viz;var F=c.merge(this.options,B.controller,x),A=B.root;
var C;B.root=x.id||B.root;switch(F.type){case"nothing":C=B.construct(E);C.eachNode(function(I){var H=B.graph.hasNode(I.id);I.eachAdjacency(function(M){var L=!!B.graph.getAdjacence(M.nodeFrom.id,M.nodeTo.id);B.graph.addAdjacence(M.nodeFrom,M.nodeTo,M.data);if(L){var K=B.graph.getAdjacence(M.nodeFrom.id,M.nodeTo.id);
for(var N in (M.data||{})){K.data[N]=M.data[N];}}});if(H){var G=B.graph.getNode(I.id);for(var J in (I.data||{})){G.data[J]=I.data[J];}}});B.graph.eachNode(function(G){G.eachAdjacency(function(H){if(!C.getAdjacence(H.nodeFrom.id,H.nodeTo.id)){B.graph.removeAdjacence(H.nodeFrom.id,H.nodeTo.id);}});if(!C.hasNode(G.id)){B.graph.removeNode(G.id);
}});break;case"replot":B.labels.clearLabels(true);this.morph(E,{type:"nothing"});B.refresh(true);B.refresh(true);break;case"fade:seq":case"fade":case"fade:con":that=this;C=B.construct(E);var D=("node-property" in z)&&c.map(c.splat(z["node-property"]),function(G){return"$"+G;});B.graph.eachNode(function(H){var I=C.getNode(H.id);
if(!I){H.setData("alpha",1);H.setData("alpha",1,"start");H.setData("alpha",0,"end");H.ignore=true;}else{var G=I.data;for(var J in G){if(D&&(c.indexOf(D,J)>-1)){H.endData[J]=G[J];}else{H.data[J]=G[J];}}}});B.graph.eachNode(function(G){if(G.ignore){return;}G.eachAdjacency(function(H){if(H.nodeFrom.ignore||H.nodeTo.ignore){return;
}var I=C.getNode(H.nodeFrom.id);var J=C.getNode(H.nodeTo.id);if(!I.adjacentTo(J)){var H=B.graph.getAdjacence(I.id,J.id);w=true;H.setData("alpha",1);H.setData("alpha",1,"start");H.setData("alpha",0,"end");}});});var w=this.preprocessSum(C);var y=!w?["node-property:alpha"]:["node-property:alpha","edge-property:alpha"];
y[0]=y[0]+(("node-property" in z)?(":"+c.splat(z["node-property"]).join(":")):"");y[1]=(y[1]||"edge-property:alpha")+(("edge-property" in z)?(":"+c.splat(z["edge-property"]).join(":")):"");if("label-property" in z){y.push("label-property:"+c.splat(z["label-property"]).join(":"));}if(B.reposition){B.reposition();
}else{B.compute("end");}B.graph.eachNode(function(G){if(G.id!=A&&G.pos.getp().equals(b.KER)){G.pos.set(G.endPos);G.startPos.set(G.endPos);}});B.fx.animate(c.merge(F,{modes:[z.position||"polar"].concat(y),onComplete:function(){B.graph.eachNode(function(G){if(G.ignore){B.graph.removeNode(G.id);}});B.graph.eachNode(function(G){G.eachAdjacency(function(H){if(H.ignore){B.graph.removeAdjacence(H.nodeFrom.id,H.nodeTo.id);
}});});F.onComplete();}}));break;default:}},contract:function(y,x){var w=this.viz;if(y.collapsed||!y.anySubnode(c.lambda(true))){return;}x=c.merge(this.options,w.config,x||{},{"modes":["node-property:alpha:span","linear"]});y.collapsed=true;(function z(A){A.eachSubnode(function(B){B.ignore=true;B.setData("alpha",0,x.type=="animate"?"end":"current");
z(B);});})(y);if(x.type=="animate"){w.compute("end");if(w.rotated){w.rotate(w.rotated,"none",{"property":"end"});}(function z(A){A.eachSubnode(function(B){B.setPos(y.getPos("end"),"end");z(B);});})(y);w.fx.animate(x);}else{if(x.type=="replot"){w.refresh();}}},expand:function(y,x){if(!("collapsed" in y)){return;
}var w=this.viz;x=c.merge(this.options,w.config,x||{},{"modes":["node-property:alpha:span","linear"]});delete y.collapsed;(function z(A){A.eachSubnode(function(B){delete B.ignore;B.setData("alpha",1,x.type=="animate"?"end":"current");z(B);});})(y);if(x.type=="animate"){w.compute("end");if(w.rotated){w.rotate(w.rotated,"none",{"property":"end"});
}w.fx.animate(x);}else{if(x.type=="replot"){w.refresh();}}},preprocessSum:function(x){var w=this.viz;x.eachNode(function(z){if(!w.graph.hasNode(z.id)){w.graph.addNode(z);var A=w.graph.getNode(z.id);A.setData("alpha",0);A.setData("alpha",0,"start");A.setData("alpha",1,"end");}});var y=false;x.eachNode(function(z){z.eachAdjacency(function(A){var B=w.graph.getNode(A.nodeFrom.id);
var C=w.graph.getNode(A.nodeTo.id);if(!B.adjacentTo(C)){var A=w.graph.addAdjacence(B,C,A.data);if(B.startAlpha==B.endAlpha&&C.startAlpha==C.endAlpha){y=true;A.setData("alpha",0);A.setData("alpha",0,"start");A.setData("alpha",1,"end");}}});});return y;}};var a={"none":{"render":c.empty,"contains":c.lambda(false)},"circle":{"render":function(z,A,w,y){var x=y.getCtx();
x.beginPath();x.arc(A.x,A.y,w,0,Math.PI*2,true);x.closePath();x[z]();},"contains":function(B,A,w){var y=B.x-A.x,x=B.y-A.y,z=y*y+x*x;return z<=w*w;}},"ellipse":{"render":function(C,E,w,F,x){var G=x.getCtx(),z=1,y=1,D=1,B=1,A=0;if(w>F){A=w/2;y=F/w;B=w/F;}else{A=F/2;z=w/F;D=F/w;}G.save();G.scale(z,y);G.beginPath();
G.arc(E.x*D,E.y*B,A,0,Math.PI*2,true);G.closePath();G[C]();G.restore();},"contains":function(w,D,x,F){var C=0,B=1,A=1,z=0,y=0,E=0;if(x>F){C=x/2;A=F/x;}else{C=F/2;B=x/F;}z=(w.x-D.x)*(1/B);y=(w.y-D.y)*(1/A);E=z*z+y*y;return E<=C*C;}},"square":{"render":function(x,z,y,w){w.getCtx()[x+"Rect"](z.x-y,z.y-y,2*y,2*y);
},"contains":function(y,x,w){return Math.abs(x.x-y.x)<=w&&Math.abs(x.y-y.y)<=w;}},"rectangle":{"render":function(z,A,y,w,x){x.getCtx()[z+"Rect"](A.x-y/2,A.y-w/2,y,w);},"contains":function(z,y,x,w){return Math.abs(y.x-z.x)<=x/2&&Math.abs(y.y-z.y)<=w/2;}},"triangle":{"render":function(C,D,z,w){var G=w.getCtx(),y=D.x,x=D.y-z,F=y-z,E=D.y+z,B=y+z,A=E;
G.beginPath();G.moveTo(y,x);G.lineTo(F,E);G.lineTo(B,A);G.closePath();G[C]();},"contains":function(y,x,w){return a.circle.contains(y,x,w);}},"star":{"render":function(A,C,B,x){var w=x.getCtx(),z=Math.PI/5;w.save();w.translate(C.x,C.y);w.beginPath();w.moveTo(B,0);for(var y=0;y<9;y++){w.rotate(z);if(y%2==0){w.lineTo((B/0.525731)*0.200811,0);
}else{w.lineTo(B,0);}}w.closePath();w[A]();w.restore();},"contains":function(y,x,w){return a.circle.contains(y,x,w);}}};var m={"line":{"render":function(z,y,x){var w=x.getCtx();w.beginPath();w.moveTo(z.x,z.y);w.lineTo(y.x,y.y);w.stroke();},"contains":function(G,y,B,E){var z=Math.min,C=Math.max,x=z(G.x,y.x),F=C(G.x,y.x),w=z(G.y,y.y),D=C(G.y,y.y);
if(B.x>=x&&B.x<=F&&B.y>=w&&B.y<=D){if(Math.abs(y.x-G.x)<=E){return true;}var A=(y.y-G.y)/(y.x-G.x)*(B.x-G.x)+G.y;return Math.abs(A-B.y)<=E;}return false;}},"arrow":{"render":function(F,G,z,x,w){var H=w.getCtx();if(x){var y=F;F=G;G=y;}var C=new p(G.x-F.x,G.y-F.y);C.$scale(z/C.norm());var A=new p(G.x-C.x,G.y-C.y),B=new p(-C.y/2,C.x/2),E=A.add(B),D=A.$add(B.$scale(-1));
H.beginPath();H.moveTo(F.x,F.y);H.lineTo(G.x,G.y);H.stroke();H.beginPath();H.moveTo(E.x,E.y);H.lineTo(D.x,D.y);H.lineTo(G.x,G.y);H.closePath();H.fill();},"contains":function(x,w,z,y){return m.line.contains(x,w,z,y);}},"hyperline":{"render":function(D,E,w,y){var F=y.getCtx();var z=A(D,E);if(z.a>1000||z.b>1000||z.ratio<0){F.beginPath();
F.moveTo(D.x*w,D.y*w);F.lineTo(E.x*w,E.y*w);F.stroke();}else{var C=Math.atan2(E.y-z.y,E.x-z.x);var B=Math.atan2(D.y-z.y,D.x-z.x);var x=x(C,B);F.beginPath();F.arc(z.x*w,z.y*w,z.ratio*w,C,B,x);F.stroke();}function A(S,R){var K=(S.x*R.y-S.y*R.x),G=K;var J=S.squaredNorm(),I=R.squaredNorm();if(K==0){return{x:0,y:0,ratio:-1};
}var Q=(S.y*I-R.y*J+S.y-R.y)/K;var O=(R.x*J-S.x*I+R.x-S.x)/G;var P=-Q/2;var N=-O/2;var M=(Q*Q+O*O)/4-1;if(M<0){return{x:0,y:0,ratio:-1};}var L=Math.sqrt(M);var H={x:P,y:N,ratio:L>1000?-1:L,a:Q,b:O};return H;}function x(G,H){return(G<H)?((G+Math.PI>H)?false:true):((H+Math.PI>G)?true:false);}},"contains":c.lambda(false)}};
e.Plot={initialize:function(x,w){this.viz=x;this.config=x.config;this.node=x.config.Node;this.edge=x.config.Edge;this.animation=new u;this.nodeTypes=new w.Plot.NodeTypes;this.edgeTypes=new w.Plot.EdgeTypes;this.labels=x.labels;},nodeHelper:a,edgeHelper:m,Interpolator:{"map":{"border":"color","color":"color","width":"number","height":"number","dim":"number","alpha":"number","lineWidth":"number","angularWidth":"number","span":"number","valueArray":"array-number","dimArray":"array-number"},"canvas":{"globalAlpha":"number","fillStyle":"color","strokeStyle":"color","lineWidth":"number","shadowBlur":"number","shadowColor":"color","shadowOffsetX":"number","shadowOffsetY":"number","miterLimit":"number"},"label":{"size":"number","color":"color"},"compute":function(y,x,w){return y+(x-y)*w;
},"moebius":function(D,C,F,z){var B=z.scale(-F);if(B.norm()<1){var w=B.x,E=B.y;var A=D.startPos.getc().moebiusTransformation(B);D.pos.setc(A.x,A.y);B.x=w;B.y=E;}},"linear":function(x,w,A){var z=x.startPos.getc(true);var y=x.endPos.getc(true);x.pos.setc(this.compute(z.x,y.x,A),this.compute(z.y,y.y,A));
},"polar":function(y,x,B){var A=y.startPos.getp(true);var z=y.endPos.getp();var w=z.interpolate(A,B);y.pos.setp(w.theta,w.rho);},"number":function(x,C,B,w,A){var z=x[w](C,"start");var y=x[w](C,"end");x[A](C,this.compute(z,y,B));},"color":function(y,w,E,B,z){var C=c.hexToRgb(y[B](w,"start"));var D=c.hexToRgb(y[B](w,"end"));
var A=this.compute;var x=c.rgbToHex([parseInt(A(C[0],D[0],E)),parseInt(A(C[1],D[1],E)),parseInt(A(C[2],D[2],E))]);y[z](w,x);},"array-number":function(z,y,J,G,B){var H=z[G](y,"start"),I=z[G](y,"end"),K=[];for(var E=0,A=H.length;E<A;E++){var x=H[E],w=I[E];if(x.length){for(var D=0,F=x.length,C=[];D<F;D++){C.push(this.compute(x[D],w[D],J));
}K.push(C);}else{K.push(this.compute(x,w,J));}}z[B](y,K);},"node":function(x,C,E,w,D,y){w=this[w];if(C){var B=C.length;for(var z=0;z<B;z++){var A=C[z];this[w[A]](x,A,E,D,y);}}else{for(var A in w){this[w[A]](x,A,E,D,y);}}},"edge":function(y,x,D,z,w,C){var B=y.adjacencies;for(var A in B){this["node"](B[A],x,D,z,w,C);
}},"node-property":function(x,w,y){this["node"](x,w,y,"map","getData","setData");},"edge-property":function(x,w,y){this["edge"](x,w,y,"map","getData","setData");},"label-property":function(x,w,y){this["node"](x,w,y,"label","getLabelData","setLabelData");},"node-style":function(x,w,y){this["node"](x,w,y,"canvas","getCanvasStyle","setCanvasStyle");
},"edge-style":function(x,w,y){this["edge"](x,w,y,"canvas","getCanvasStyle","setCanvasStyle");}},sequence:function(x){var y=this;x=c.merge({condition:c.lambda(false),step:c.empty,onComplete:c.empty,duration:200},x||{});var w=setInterval(function(){if(x.condition()){x.step();}else{clearInterval(w);x.onComplete();
}y.viz.refresh(true);},x.duration);},prepare:function(C){var B=this.viz.graph,z={"node-property":{"getter":"getData","setter":"setData"},"edge-property":{"getter":"getData","setter":"setData"},"node-style":{"getter":"getCanvasStyle","setter":"setCanvasStyle"},"edge-style":{"getter":"getCanvasStyle","setter":"setCanvasStyle"}};
var x={};if(c.type(C)=="array"){for(var A=0,w=C.length;A<w;A++){var y=C[A].split(":");x[y.shift()]=y;}}else{for(var D in C){if(D=="position"){x[C.position]=[];}else{x[D]=c.splat(C[D]);}}}B.eachNode(function(E){E.startPos.set(E.pos);c.each(["node-property","node-style"],function(H){if(H in x){var I=x[H];
for(var G=0,F=I.length;G<F;G++){E[z[H].setter](I[G],E[z[H].getter](I[G]),"start");}}});c.each(["edge-property","edge-style"],function(F){if(F in x){var G=x[F];E.eachAdjacency(function(I){for(var J=0,H=G.length;J<H;J++){I[z[F].setter](G[J],I[z[F].getter](G[J]),"start");}});}});});return x;},animate:function(z,y){z=c.merge(this.viz.config,z||{});
var A=this,x=this.viz,C=x.graph,D=this.Interpolator,B=z.type==="nodefx"?this.nodeFxAnimation:this.animation;var w=this.prepare(z.modes);if(z.hideLabels){this.labels.hideLabels(true);}B.setOptions(c.extend(z,{$animating:false,compute:function(E){C.eachNode(function(F){for(var G in w){D[G](F,w[G],E,y);
}});A.plot(z,this.$animating,E);this.$animating=true;},complete:function(){if(z.hideLabels){A.labels.hideLabels(false);}A.plot(z);z.onComplete();}})).start();},nodeFx:function(y){var D=this.viz,E=D.graph,B=this.nodeFxAnimation,F=c.merge(this.viz.config,{"elements":{"id":false,"properties":{}},"reposition":false});
y=c.merge(F,y||{},{onBeforeCompute:c.empty,onAfterCompute:c.empty});B.stopTimer();var C=y.elements.properties;if(!y.elements.id){E.eachNode(function(H){for(var G in C){H.setData(G,C[G],"end");}});}else{var w=c.splat(y.elements.id);c.each(w,function(I){var H=E.getNode(I);if(H){for(var G in C){H.setData(G,C[G],"end");
}}});}var A=[];for(var x in C){A.push(x);}var z=["node-property:"+A.join(":")];if(y.reposition){z.push("linear");D.compute("end");}this.animate(c.merge(y,{modes:z,type:"nodefx"}));},plot:function(x,G){var E=this.viz,B=E.graph,y=E.canvas,w=E.root,C=this,F=y.getCtx(),A=Math.min,x=x||this.viz.controller;
x.clearCanvas&&y.clear();var D=B.getNode(w);if(!D){return;}var z=!!D.visited;B.eachNode(function(I){var H=I.getData("alpha");I.eachAdjacency(function(J){var K=J.nodeTo;if(!!K.visited===z&&I.drawn&&K.drawn){!G&&x.onBeforePlotLine(J);C.plotLine(J,y,G);!G&&x.onAfterPlotLine(J);}});if(I.drawn){!G&&x.onBeforePlotNode(I);
C.plotNode(I,y,G);!G&&x.onAfterPlotNode(I);}if(!C.labelsHidden&&x.withLabels){if(I.drawn&&H>=0.95){C.labels.plotLabel(y,I,x);}else{C.labels.hideLabel(I,false);}}I.visited=!z;});},plotTree:function(A,x,E){var B=this,C=this.viz,y=C.canvas,z=this.config,D=y.getCtx();var w=A.getData("alpha");A.eachSubnode(function(G){if(x.plotSubtree(A,G)&&G.exist&&G.drawn){var F=A.getAdjacency(G.id);
!E&&x.onBeforePlotLine(F);B.plotLine(F,y,E);!E&&x.onAfterPlotLine(F);B.plotTree(G,x,E);}});if(A.drawn){!E&&x.onBeforePlotNode(A);this.plotNode(A,y,E);!E&&x.onAfterPlotNode(A);if(!x.hideLabels&&x.withLabels&&w>=0.95){this.labels.plotLabel(y,A,x);}else{this.labels.hideLabel(A,false);}}else{this.labels.hideLabel(A,true);
}},plotNode:function(y,x,F){var C=y.getData("type"),B=this.node.CanvasStyles;if(C!="none"){var w=y.getData("lineWidth"),A=y.getData("color"),z=y.getData("alpha"),D=x.getCtx();D.save();D.lineWidth=w;D.fillStyle=D.strokeStyle=A;D.globalAlpha=z;for(var E in B){D[E]=y.getCanvasStyle(E);}this.nodeTypes[C].render.call(this,y,x,F);
D.restore();}},plotLine:function(C,x,G){var B=C.getData("type"),z=this.edge.CanvasStyles;if(B!="none"){var w=C.getData("lineWidth"),y=C.getData("color"),E=x.getCtx(),A=C.nodeFrom,D=C.nodeTo;E.save();E.lineWidth=w;E.fillStyle=E.strokeStyle=y;E.globalAlpha=Math.min(A.getData("alpha"),D.getData("alpha"),C.getData("alpha"));
for(var F in z){E[F]=C.getCanvasStyle(F);}this.edgeTypes[B].render.call(this,C,x,G);E.restore();}}};e.Plot3D=c.merge(e.Plot,{Interpolator:{"linear":function(x,w,A){var z=x.startPos.getc(true);var y=x.endPos.getc(true);x.pos.setc(this.compute(z.x,y.x,A),this.compute(z.y,y.y,A),this.compute(z.z,y.z,A));
}},plotNode:function(x,w){if(x.getData("type")=="none"){return;}this.plotElement(x,w,{getAlpha:function(){return x.getData("alpha");}});},plotLine:function(w,x){if(w.getData("type")=="none"){return;}this.plotElement(w,x,{getAlpha:function(){return Math.min(w.nodeFrom.getData("alpha"),w.nodeTo.getData("alpha"),w.getData("alpha"));
}});},plotElement:function(Y,E,z){var V=E.getCtx(),F=new Matrix4,x=E.config.Scene.Lighting,Z=E.canvases[0],K=Z.program,X=Z.camera;if(!Y.geometry){Y.geometry=new O3D[Y.getData("type")];}Y.geometry.update(Y);if(!Y.webGLVertexBuffer){var J=[],B=[],P=[],N=0,S=Y.geometry;for(var W=0,U=S.vertices,H=S.faces,G=H.length;
W<G;W++){var M=H[W],D=U[M.a],C=U[M.b],A=U[M.c],y=M.d?U[M.d]:false,R=M.normal;J.push(D.x,D.y,D.z);J.push(C.x,C.y,C.z);J.push(A.x,A.y,A.z);if(y){J.push(y.x,y.y,y.z);}P.push(R.x,R.y,R.z);P.push(R.x,R.y,R.z);P.push(R.x,R.y,R.z);if(y){P.push(R.x,R.y,R.z);}B.push(N,N+1,N+2);if(y){B.push(N,N+2,N+3);N+=4;}else{N+=3;
}}Y.webGLVertexBuffer=V.createBuffer();V.bindBuffer(V.ARRAY_BUFFER,Y.webGLVertexBuffer);V.bufferData(V.ARRAY_BUFFER,new Float32Array(J),V.STATIC_DRAW);Y.webGLFaceBuffer=V.createBuffer();V.bindBuffer(V.ELEMENT_ARRAY_BUFFER,Y.webGLFaceBuffer);V.bufferData(V.ELEMENT_ARRAY_BUFFER,new Uint16Array(B),V.STATIC_DRAW);
Y.webGLFaceCount=B.length;Y.webGLNormalBuffer=V.createBuffer();V.bindBuffer(V.ARRAY_BUFFER,Y.webGLNormalBuffer);V.bufferData(V.ARRAY_BUFFER,new Float32Array(P),V.STATIC_DRAW);}F.multiply(X.matrix,Y.geometry.matrix);V.uniformMatrix4fv(K.viewMatrix,false,F.flatten());V.uniformMatrix4fv(K.projectionMatrix,false,X.projectionMatrix.flatten());
var L=Matrix4.makeInvert(F);L.$transpose();V.uniformMatrix4fv(K.normalMatrix,false,L.flatten());var T=c.hexToRgb(Y.getData("color"));T.push(z.getAlpha());V.uniform4f(K.color,T[0]/255,T[1]/255,T[2]/255,T[3]);V.uniform1i(K.enableLighting,x.enable);if(x.enable){if(x.ambient){var O=x.ambient;V.uniform3f(K.ambientColor,O[0],O[1],O[2]);
}if(x.directional){var Q=x.directional,T=Q.color,I=Q.direction,w=new Vector3(I.x,I.y,I.z).normalize().$scale(-1);V.uniform3f(K.lightingDirection,w.x,w.y,w.z);V.uniform3f(K.directionalColor,T[0],T[1],T[2]);}}V.bindBuffer(V.ARRAY_BUFFER,Y.webGLVertexBuffer);V.vertexAttribPointer(K.position,3,V.FLOAT,false,0,0);
V.bindBuffer(V.ARRAY_BUFFER,Y.webGLNormalBuffer);V.vertexAttribPointer(K.normal,3,V.FLOAT,false,0,0);V.bindBuffer(V.ELEMENT_ARRAY_BUFFER,Y.webGLFaceBuffer);V.drawElements(V.TRIANGLES,Y.webGLFaceCount,V.UNSIGNED_SHORT,0);}});e.Label={};e.Label.Native=new q({initialize:function(w){this.viz=w;},plotLabel:function(y,z,x){var w=y.getCtx();
var A=z.pos.getc(true);w.font=z.getLabelData("style")+" "+z.getLabelData("size")+"px "+z.getLabelData("family");w.textAlign=z.getLabelData("textAlign");w.fillStyle=w.strokeStyle=z.getLabelData("color");w.textBaseline=z.getLabelData("textBaseline");this.renderLabel(y,z,x);},renderLabel:function(y,z,x){var w=y.getCtx();
var A=z.pos.getc(true);w.fillText(z.name,A.x,A.y+z.getData("height")/2);},hideLabel:c.empty,hideLabels:c.empty});e.Label.DOM=new q({labelsHidden:false,labelContainer:false,labels:{},getLabelContainer:function(){return this.labelContainer?this.labelContainer:this.labelContainer=document.getElementById(this.viz.config.labelContainer);
},getLabel:function(w){return(w in this.labels&&this.labels[w]!=null)?this.labels[w]:this.labels[w]=document.getElementById(w);},hideLabels:function(x){var w=this.getLabelContainer();if(x){w.style.display="none";}else{w.style.display="";}this.labelsHidden=x;},clearLabels:function(w){for(var x in this.labels){if(w||!this.viz.graph.hasNode(x)){this.disposeLabel(x);
delete this.labels[x];}}},disposeLabel:function(x){var w=this.getLabel(x);if(w&&w.parentNode){w.parentNode.removeChild(w);}},hideLabel:function(A,w){A=c.splat(A);var x=w?"":"none",y,z=this;c.each(A,function(C){var B=z.getLabel(C.id);if(B){B.style.display=x;}});},fitsInCanvas:function(y,w){var x=w.getSize();
if(y.x>=x.width||y.x<0||y.y>=x.height||y.y<0){return false;}return true;}});e.Label.HTML=new q({Implements:e.Label.DOM,plotLabel:function(z,A,y){var B=A.id,w=this.getLabel(B);if(!w&&!(w=document.getElementById(B))){w=document.createElement("div");var x=this.getLabelContainer();w.id=B;w.className="node";
w.style.position="absolute";y.onCreateLabel(w,A);x.appendChild(w);this.labels[A.id]=w;}this.placeLabel(w,A,y);}});e.Label.SVG=new q({Implements:e.Label.DOM,plotLabel:function(z,B,y){var D=B.id,w=this.getLabel(D);if(!w&&!(w=document.getElementById(D))){var A="http://www.w3.org/2000/svg";w=document.createElementNS(A,"svg:text");
var C=document.createElementNS(A,"svg:tspan");w.appendChild(C);var x=this.getLabelContainer();w.setAttribute("id",D);w.setAttribute("class","node");x.appendChild(w);y.onCreateLabel(w,B);this.labels[B.id]=w;}this.placeLabel(w,B,y);}});e.Geom=new q({initialize:function(w){this.viz=w;this.config=w.config;
this.node=w.config.Node;this.edge=w.config.Edge;},translate:function(x,w){w=c.splat(w);this.viz.graph.eachNode(function(y){c.each(w,function(z){y.getPos(z).$add(x);});});},setRightLevelToShow:function(z,w,B){var A=this.getRightLevelToShow(z,w),y=this.viz.labels,x=c.merge({execShow:true,execHide:true,onHide:c.empty,onShow:c.empty},B||{});
z.eachLevel(0,this.config.levelsToShow,function(D){var C=D._depth-z._depth;if(C>A){x.onHide(D);if(x.execHide){D.drawn=false;D.exist=false;y.hideLabel(D,false);}}else{x.onShow(D);if(x.execShow){D.exist=true;}}});z.drawn=true;},getRightLevelToShow:function(z,x){var w=this.config;var A=w.levelsToShow;var y=w.constrained;
if(!y){return A;}while(!this.treeFitsInCanvas(z,x,A)&&A>1){A--;}return A;}});var d={construct:function(x){var y=(c.type(x)=="array");var w=new e(this.graphOptions,this.config.Node,this.config.Edge,this.config.Label);if(!y){(function(z,B){z.addNode(B);if(B.children){for(var A=0,C=B.children;A<C.length;
A++){z.addAdjacence(B,C[A]);arguments.callee(z,C[A]);}}})(w,x);}else{(function(H,I){var A=function(M){for(var L=0,J=I.length;L<J;L++){if(I[L].id==M){return I[L];}}var K={"id":M,"name":M};return H.addNode(K);};for(var E=0,B=I.length;E<B;E++){H.addNode(I[E]);var F=I[E].adjacencies;if(F){for(var C=0,G=F.length;
C<G;C++){var z=F[C],D={};if(typeof F[C]!="string"){D=c.merge(z.data,{});z=z.nodeTo;}H.addAdjacence(I[E],A(z),D);}}}})(w,x);}return w;},loadJSON:function(x,w){this.json=x;if(this.labels&&this.labels.clearLabels){this.labels.clearLabels(true);}this.graph=this.construct(x);if(c.type(x)!="array"){this.root=x.id;
}else{this.root=x[w?w:0].id;}},toJSON:function(A){A=A||"tree";if(A=="tree"){var y={};var x=this.graph.getNode(this.root);var y=(function w(D){var B={};B.id=D.id;B.name=D.name;B.data=D.data;var C=[];D.eachSubnode(function(E){C.push(w(E));});B.children=C;return B;})(x);return y;}else{var y=[];var z=!!this.graph.getNode(this.root).visited;
this.graph.eachNode(function(C){var B={};B.id=C.id;B.name=C.name;B.data=C.data;var D=[];C.eachAdjacency(function(E){var G=E.nodeTo;if(!!G.visited===z){var F={};F.nodeTo=G.id;F.data=E.data;D.push(F);}});B.adjacencies=D;y.push(B);C.visited=!z;});return y;}}};var g=$jit.Layouts={};var f={label:null,compute:function(z,A,x){this.initializeLabel(x);
var w=this.label,y=w.style;z.eachNode(function(D){var H=D.getData("autoWidth"),I=D.getData("autoHeight");if(H||I){delete D.data.$width;delete D.data.$height;delete D.data.$dim;var B=D.getData("width"),J=D.getData("height");y.width=H?"auto":B+"px";y.height=I?"auto":J+"px";w.innerHTML=D.name;var F=w.offsetWidth,C=w.offsetHeight;
var G=D.getData("type");if(c.indexOf(["circle","square","triangle","star"],G)===-1){D.setData("width",F);D.setData("height",C);}else{var E=F>C?F:C;D.setData("width",E);D.setData("height",E);D.setData("dim",E);}}});},initializeLabel:function(w){if(!this.label){this.label=document.createElement("div");
document.body.appendChild(this.label);}this.setLabelStyles(w);},setLabelStyles:function(w){c.extend(this.label.style,{"visibility":"hidden","position":"absolute","width":"auto","height":"auto"});this.label.className="jit-autoadjust-label";}};g.Tree=(function(){var F=Array.prototype.slice;function D(P,K,H,N,I){var M=K.Node;
var J=K.multitree;if(M.overridable){var O=-1,L=-1;P.eachNode(function(S){if(S._depth==H&&(!J||("$orn" in S.data)&&S.data.$orn==N)){var Q=S.getData("width",I);var R=S.getData("height",I);O=(O<Q)?Q:O;L=(L<R)?R:L;}});return{"width":O<0?M.width:O,"height":L<0?M.height:L};}else{return M;}}function G(I,L,K,H){var J=(H=="left"||H=="right")?"y":"x";
I.getPos(L)[J]+=K;}function B(I,J){var H=[];c.each(I,function(K){K=F.call(K);K[0]+=J;K[1]+=J;H.push(K);});return H;}function E(K,H){if(K.length==0){return H;}if(H.length==0){return K;}var J=K.shift(),I=H.shift();return[[J[0],I[1]]].concat(E(K,H));}function z(H,I){I=I||[];if(H.length==0){return I;}var J=H.pop();
return z(H,E(J,I));}function C(K,I,L,H,J){if(K.length<=J||I.length<=J){return 0;}var N=K[J][1],M=I[J][0];return Math.max(C(K,I,L,H,++J)+L,N-M+H);}function A(K,I,H){function J(N,P,M){if(P.length<=M){return[];}var O=P[M],L=C(N,O,I,H,0);return[L].concat(J(E(N,B(O,L)),P,++M));}return J([],K,0);}function x(L,K,J){function H(O,Q,N){if(Q.length<=N){return[];
}var P=Q[N],M=-C(P,O,K,J,0);return[M].concat(H(E(B(P,M),O),Q,++N));}L=F.call(L);var I=H([],L.reverse(),0);return I.reverse();}function w(N,L,I,O){var J=A(N,L,I),M=x(N,L,I);if(O=="left"){M=J;}else{if(O=="right"){J=M;}}for(var K=0,H=[];K<J.length;K++){H[K]=(J[K]+M[K])/2;}return H;}function y(H,R,I,Y,W){var K=Y.multitree;
var Q=["x","y"],N=["width","height"];var J=+(W=="left"||W=="right");var O=Q[J],X=Q[1-J];var T=Y.Node;var M=N[J],V=N[1-J];var L=Y.siblingOffset;var U=Y.subtreeOffset;var S=Y.align;function P(ab,af,aj){var aa=ab.getData(M,I);var ai=af||(ab.getData(V,I));var am=[],ak=[],ag=false;var Z=ai+Y.levelDistance;
ab.eachSubnode(function(ao){if(ao.exist&&(!K||("$orn" in ao.data)&&ao.data.$orn==W)){if(!ag){ag=D(H,Y,ao._depth,W,I);}var an=P(ao,ag[V],aj+Z);am.push(an.tree);ak.push(an.extent);}});var ae=w(ak,U,L,S);for(var ad=0,ac=[],ah=[];ad<am.length;ad++){G(am[ad],I,ae[ad],W);ah.push(B(ak[ad],ae[ad]));}var al=[[-aa/2,aa/2]].concat(z(ah));
ab.getPos(I)[O]=0;if(W=="top"||W=="left"){ab.getPos(I)[X]=aj;}else{ab.getPos(I)[X]=-aj;}return{tree:ab,extent:al};}P(R,false,0);}return new q({compute:function(J,I){var K=J||"start";var H=this.graph.getNode(this.root);c.extend(H,{"drawn":true,"exist":true,"selected":true});f.compute(this.graph,K,this.config);
if(!!I||!("_depth" in H)){this.graph.computeLevels(this.root,0,"ignore");}this.computePositions(H,K);},computePositions:function(L,H){var J=this.config;var I=J.multitree;var O=J.align;var K=O!=="center"&&J.indent;var P=J.orientation;var N=I?["top","right","bottom","left"]:[P];var M=this;c.each(N,function(Q){y(M.graph,L,H,M.config,Q,H);
var R=["x","y"][+(Q=="left"||Q=="right")];(function S(T){T.eachSubnode(function(U){if(U.exist&&(!I||("$orn" in U.data)&&U.data.$orn==Q)){U.getPos(H)[R]+=T.getPos(H)[R];if(K){U.getPos(H)[R]+=O=="left"?K:-K;}S(U);}});})(L);});}});})();$jit.ST=(function(){var x=[];function y(D){D=D||this.clickedNode;if(!this.config.constrained){return[];
}var A=this.geom;var H=this.graph;var B=this.canvas;var z=D._depth,E=[];H.eachNode(function(I){if(I.exist&&!I.selected){if(I.isDescendantOf(D.id)){if(I._depth<=z){E.push(I);}}else{E.push(I);}}});var F=A.getRightLevelToShow(D,B);D.eachLevel(F,F,function(I){if(I.exist&&!I.selected){E.push(I);}});for(var G=0;
G<x.length;G++){var C=this.graph.getNode(x[G]);if(!C.isDescendantOf(D.id)){E.push(C);}}return E;}function w(B){var A=[],z=this.config;B=B||this.clickedNode;this.clickedNode.eachLevel(0,z.levelsToShow,function(C){if(z.multitree&&!("$orn" in C.data)&&C.anySubnode(function(D){return D.exist&&!D.drawn;})){A.push(C);
}else{if(C.drawn&&!C.anySubnode("drawn")){A.push(C);}}});return A;}return new q({Implements:[d,o,g.Tree],initialize:function(z){var B=$jit.ST;var A={levelsToShow:2,levelDistance:30,constrained:true,Node:{type:"rectangle"},duration:700,offsetX:0,offsetY:0};this.controller=this.config=c.merge(n("Canvas","Fx","Tree","Node","Edge","Controller","Tips","NodeStyles","Events","Navigation","Label"),A,z);
var C=this.config;if(C.useCanvas){this.canvas=C.useCanvas;this.config.labelContainer=this.canvas.id+"-label";}else{if(C.background){C.background=c.merge({type:"Circles"},C.background);}this.canvas=new l(this,C);this.config.labelContainer=(typeof C.injectInto=="string"?C.injectInto:C.injectInto.id)+"-label";
}this.graphOptions={"klass":p};this.graph=new e(this.graphOptions,this.config.Node,this.config.Edge);this.labels=new B.Label[C.Label.type](this);this.fx=new B.Plot(this,B);this.op=new B.Op(this);this.group=new B.Group(this);this.geom=new B.Geom(this);this.clickedNode=null;this.initializeExtras();},plot:function(){this.fx.plot(this.controller);
},switchPosition:function(E,D,C){var z=this.geom,A=this.fx,B=this;if(!A.busy){A.busy=true;this.contract({onComplete:function(){z.switchOrientation(E);B.compute("end",false);A.busy=false;if(D=="animate"){B.onClick(B.clickedNode.id,C);}else{if(D=="replot"){B.select(B.clickedNode.id,C);}}}},E);}},switchAlignment:function(B,A,z){this.config.align=B;
if(A=="animate"){this.select(this.clickedNode.id,z);}else{if(A=="replot"){this.onClick(this.clickedNode.id,z);}}},addNodeInPath:function(z){x.push(z);this.select((this.clickedNode&&this.clickedNode.id)||this.root);},clearNodesInPath:function(z){x.length=0;this.select((this.clickedNode&&this.clickedNode.id)||this.root);
},refresh:function(){this.reposition();this.select((this.clickedNode&&this.clickedNode.id)||this.root);},reposition:function(){this.graph.computeLevels(this.root,0,"ignore");this.geom.setRightLevelToShow(this.clickedNode,this.canvas);this.graph.eachNode(function(z){if(z.exist){z.drawn=true;}});this.compute("end");
},requestNodes:function(B,C){var A=c.merge(this.controller,C),z=this.config.levelsToShow;if(A.request){var E=[],D=B._depth;B.eachLevel(0,z,function(F){if(F.drawn&&!F.anySubnode()){E.push(F);F._level=z-(F._depth-D);}});this.group.requestNodes(E,A);}else{A.onComplete();}},contract:function(D,E){var C=this.config.orientation;
var z=this.geom,B=this.group;if(E){z.switchOrientation(E);}var A=y.call(this);if(E){z.switchOrientation(C);}B.contract(A,c.merge(this.controller,D));},move:function(A,B){this.compute("end",false);var z=B.Move,C={"x":z.offsetX,"y":z.offsetY};if(z.enable){this.geom.translate(A.endPos.add(C).$scale(-1),"end");
}this.fx.animate(c.merge(this.controller,{modes:["linear"]},B));},expand:function(A,B){var z=w.call(this,A);this.group.expand(z,c.merge(this.controller,B));},selectPath:function(C){var B=this;this.graph.eachNode(function(E){E.selected=false;});function D(F){if(F==null||F.selected){return;}F.selected=true;
c.each(B.group.getSiblings([F])[F.id],function(G){G.exist=true;G.drawn=true;});var E=F.getParents();E=(E.length>0)?E[0]:null;D(E);}for(var z=0,A=[C.id].concat(x);z<A.length;z++){D(this.graph.getNode(A[z]));}},setRoot:function(G,F,E){if(this.busy){return;}this.busy=true;var D=this,B=this.canvas;var z=this.graph.getNode(this.root);
var A=this.graph.getNode(G);function C(){if(this.config.multitree&&A.data.$orn){var I=A.data.$orn;var J={"left":"right","right":"left","top":"bottom","bottom":"top"}[I];z.data.$orn=J;(function H(K){K.eachSubnode(function(L){if(L.id!=G){L.data.$orn=J;H(L);}});})(z);delete A.data.$orn;}this.root=G;this.clickedNode=A;
this.graph.computeLevels(this.root,0,"ignore");this.geom.setRightLevelToShow(A,B,{execHide:false,onShow:function(K){if(!K.drawn){K.drawn=true;K.setData("alpha",1,"end");K.setData("alpha",0);K.pos.setc(A.pos.x,A.pos.y);}}});this.compute("end");this.busy=true;this.fx.animate({modes:["linear","node-property:alpha"],onComplete:function(){D.busy=false;
D.onClick(G,{onComplete:function(){E&&E.onComplete();}});}});}delete z.data.$orns;if(F=="animate"){C.call(this);D.selectPath(A);}else{if(F=="replot"){C.call(this);this.select(this.root);}}},addSubtree:function(z,B,A){if(B=="replot"){this.op.sum(z,c.extend({type:"replot"},A||{}));}else{if(B=="animate"){this.op.sum(z,c.extend({type:"fade:seq"},A||{}));
}}},removeSubtree:function(E,A,D,C){var B=this.graph.getNode(E),z=[];B.eachLevel(+!A,false,function(F){z.push(F.id);});if(D=="replot"){this.op.removeNode(z,c.extend({type:"replot"},C||{}));}else{if(D=="animate"){this.op.removeNode(z,c.extend({type:"fade:seq"},C||{}));}}},select:function(z,C){var H=this.group,F=this.geom;
var D=this.graph.getNode(z),B=this.canvas;var G=this.graph.getNode(this.root);var A=c.merge(this.controller,C);var E=this;A.onBeforeCompute(D);this.selectPath(D);this.clickedNode=D;this.requestNodes(D,{onComplete:function(){H.hide(H.prepare(y.call(E)),A);F.setRightLevelToShow(D,B);E.compute("current");
E.graph.eachNode(function(K){var J=K.pos.getc(true);K.startPos.setc(J.x,J.y);K.endPos.setc(J.x,J.y);K.visited=false;});var I={x:A.offsetX,y:A.offsetY};E.geom.translate(D.endPos.add(I).$scale(-1),["start","current","end"]);H.show(w.call(E));E.plot();A.onAfterCompute(E.clickedNode);A.onComplete();}});},onClick:function(A,H){var C=this.canvas,G=this,z=this.geom,D=this.config;
var F={Move:{enable:true,offsetX:D.offsetX||0,offsetY:D.offsetY||0},setRightLevelToShowConfig:false,onBeforeRequest:c.empty,onBeforeContract:c.empty,onBeforeMove:c.empty,onBeforeExpand:c.empty};var B=c.merge(this.controller,F,H);if(!this.busy){this.busy=true;var E=this.graph.getNode(A);this.selectPath(E,this.clickedNode);
this.clickedNode=E;B.onBeforeCompute(E);B.onBeforeRequest(E);this.requestNodes(E,{onComplete:function(){B.onBeforeContract(E);G.contract({onComplete:function(){z.setRightLevelToShow(E,C,B.setRightLevelToShowConfig);B.onBeforeMove(E);G.move(E,{Move:B.Move,onComplete:function(){B.onBeforeExpand(E);G.expand(E,{onComplete:function(){G.busy=false;
B.onAfterCompute(A);B.onComplete();}});}});}});}});}}});})();$jit.ST.$extend=true;$jit.ST.Op=new q({Implements:e.Op});$jit.ST.Group=new q({initialize:function(w){this.viz=w;this.canvas=w.canvas;this.config=w.config;this.animation=new u;this.nodes=null;},requestNodes:function(B,A){var z=0,x=B.length,D={};
var y=function(){A.onComplete();};var w=this.viz;if(x==0){y();}for(var C=0;C<x;C++){D[B[C].id]=B[C];A.request(B[C].id,B[C]._level,{onComplete:function(F,E){if(E&&E.children){E.id=F;w.op.sum(E,{type:"nothing"});}if(++z==x){w.graph.computeLevels(w.root,0);y();}}});}},contract:function(y,x){var w=this.viz;
var z=this;y=this.prepare(y);this.animation.setOptions(c.merge(x,{$animating:false,compute:function(A){if(A==1){A=0.99;}z.plotStep(1-A,x,this.$animating);this.$animating="contract";},complete:function(){z.hide(y,x);}})).start();},hide:function(y,x){var w=this.viz;for(var z=0;z<y.length;z++){if(true||!x||!x.request){y[z].eachLevel(1,false,function(B){if(B.exist){c.extend(B,{"drawn":false,"exist":false});
}});}else{var A=[];y[z].eachLevel(1,false,function(B){A.push(B.id);});w.op.removeNode(A,{"type":"nothing"});w.labels.clearLabels();}}x.onComplete();},expand:function(x,w){var y=this;this.show(x);this.animation.setOptions(c.merge(w,{$animating:false,compute:function(z){y.plotStep(z,w,this.$animating);
this.$animating="expand";},complete:function(){y.plotStep(undefined,w,false);w.onComplete();}})).start();},show:function(w){var x=this.config;this.prepare(w);c.each(w,function(z){if(x.multitree&&!("$orn" in z.data)){delete z.data.$orns;var y=" ";z.eachSubnode(function(A){if(("$orn" in A.data)&&y.indexOf(A.data.$orn)<0&&A.exist&&!A.drawn){y+=A.data.$orn+" ";
}});z.data.$orns=y;}z.eachLevel(0,x.levelsToShow,function(A){if(A.exist){A.drawn=true;}});});},prepare:function(w){this.nodes=this.getNodesWithChildren(w);return this.nodes;},getNodesWithChildren:function(y){var x=[],A=this.config,w=this.viz.root;y.sort(function(E,D){return(E._depth<=D._depth)-(E._depth>=D._depth);
});for(var B=0;B<y.length;B++){if(y[B].anySubnode("exist")){for(var z=B+1,C=false;!C&&z<y.length;z++){if(!A.multitree||"$orn" in y[z].data){C=C||y[B].isDescendantOf(y[z].id);}}if(!C){x.push(y[B]);}}}return x;},plotStep:function(G,C,I){var F=this.viz,z=this.config,y=F.canvas,H=y.getCtx(),w=this.nodes;
var B,A;var x={};for(B=0;B<w.length;B++){A=w[B];x[A.id]=[];var E=z.multitree&&!("$orn" in A.data);var D=E&&A.data.$orns;A.eachSubgraph(function(J){if(E&&D&&D.indexOf(J.data.$orn)>0&&J.drawn){J.drawn=false;x[A.id].push(J);}else{if((!E||!D)&&J.drawn){J.drawn=false;x[A.id].push(J);}}});A.drawn=true;}if(w.length>0){F.fx.plot();
}for(B in x){c.each(x[B],function(J){J.drawn=true;});}for(B=0;B<w.length;B++){A=w[B];H.save();F.fx.plotSubtree(A,C,G,I);H.restore();}},getSiblings:function(w){var x={};c.each(w,function(A){var z=A.getParents();if(z.length==0){x[A.id]=[A];}else{var y=[];z[0].eachSubnode(function(B){y.push(B);});x[A.id]=y;
}});return x;}});$jit.ST.Geom=new q({Implements:e.Geom,switchOrientation:function(w){this.config.orientation=w;},dispatch:function(){var x=Array.prototype.slice.call(arguments);var y=x.shift(),w=x.length;var z=function(A){return typeof A=="function"?A():A;};if(w==2){return(y=="top"||y=="bottom")?z(x[0]):z(x[1]);
}else{if(w==4){switch(y){case"top":return z(x[0]);case"right":return z(x[1]);case"bottom":return z(x[2]);case"left":return z(x[3]);}}}return undefined;},getSize:function(E,D){var C=E.data,z=this.config;var y=z.siblingOffset;var B=(z.multitree&&("$orn" in C)&&C.$orn)||z.orientation;var x=E.getData("width")+y;
var A=E.getData("height")+y;if(!D){return this.dispatch(B,A,x);}else{return this.dispatch(B,x,A);}},getTreeBaseSize:function(A,B,x){var y=this.getSize(A,true),w=0,z=this;if(x(B,A)){return y;}if(B===0){return 0;}A.eachSubnode(function(C){w+=z.getTreeBaseSize(C,B-1,x);});return(y>w?y:w)+this.config.subtreeOffset;
},getEdge:function(C,B,A){var y=function(E,w){return function(){return C.pos.add(new p(E,w));};};var D=this.node;var x=C.getData("width");var z=C.getData("height");if(B=="begin"){if(D.align=="center"){return this.dispatch(A,y(0,z/2),y(-x/2,0),y(0,-z/2),y(x/2,0));}else{if(D.align=="left"){return this.dispatch(A,y(0,z),y(0,0),y(0,0),y(x,0));
}else{if(D.align=="right"){return this.dispatch(A,y(0,0),y(-x,0),y(0,-z),y(0,0));}else{throw"align: not implemented";}}}}else{if(B=="end"){if(D.align=="center"){return this.dispatch(A,y(0,-z/2),y(x/2,0),y(0,z/2),y(-x/2,0));}else{if(D.align=="left"){return this.dispatch(A,y(0,0),y(x,0),y(0,z),y(0,0));
}else{if(D.align=="right"){return this.dispatch(A,y(0,-z),y(0,0),y(0,0),y(-x,0));}else{throw"align: not implemented";}}}}}},getScaledTreePosition:function(B,D){var C=this.node;var x=B.getData("width");var A=B.getData("height");var z=(this.config.multitree&&("$orn" in B.data)&&B.data.$orn)||this.config.orientation;
var y=function(E,w){return function(){return B.pos.add(new p(E,w)).$scale(1-D);};};if(C.align=="left"){return this.dispatch(z,y(0,A),y(0,0),y(0,0),y(x,0));}else{if(C.align=="center"){return this.dispatch(z,y(0,A/2),y(-x/2,0),y(0,-A/2),y(x/2,0));}else{if(C.align=="right"){return this.dispatch(z,y(0,0),y(-x,0),y(0,-A),y(0,0));
}else{throw"align: not implemented";}}}},treeFitsInCanvas:function(B,w,C){var y=w.getSize();var z=(this.config.multitree&&("$orn" in B.data)&&B.data.$orn)||this.config.orientation;var x=this.dispatch(z,y.width,y.height);var A=this.getTreeBaseSize(B,C,function(E,D){return E===0||!D.anySubnode();});return(A<x);
}});$jit.ST.Plot=new q({Implements:e.Plot,plotSubtree:function(z,w,A,E){var C=this.viz,x=C.canvas,y=C.config;A=Math.min(Math.max(0.001,A),1);if(A>=0){z.drawn=false;var D=x.getCtx();var B=C.geom.getScaledTreePosition(z,A);D.translate(B.x,B.y);D.scale(A,A);}this.plotTree(z,c.merge(w,{"withLabels":true,"hideLabels":!!A,"plotSubtree":function(I,G){var F=y.multitree&&!("$orn" in z.data);
var H=F&&z.getData("orns");return !F||H.indexOf(z.getData("orn"))>-1;}}),E);if(A>=0){z.drawn=true;}},getAlignedPos:function(B,z,w){var y=this.node;var A,x;if(y.align=="center"){A={x:B.x-z/2,y:B.y-w/2};}else{if(y.align=="left"){x=this.config.orientation;if(x=="bottom"||x=="top"){A={x:B.x-z/2,y:B.y};}else{A={x:B.x,y:B.y-w/2};
}}else{if(y.align=="right"){x=this.config.orientation;if(x=="bottom"||x=="top"){A={x:B.x-z/2,y:B.y-w};}else{A={x:B.x-z,y:B.y-w/2};}}else{throw"align: not implemented";}}}return A;},getOrientation:function(w){var y=this.config;var x=y.orientation;if(y.multitree){var z=w.nodeFrom;var A=w.nodeTo;x=(("$orn" in z.data)&&z.data.$orn)||(("$orn" in A.data)&&A.data.$orn);
}return x;}});$jit.ST.Label={};$jit.ST.Label.Native=new q({Implements:e.Label.Native,renderLabel:function(z,B,y){var x=z.getCtx(),D=B.pos.getc(true),A=B.getData("width"),w=B.getData("height"),C=this.viz.fx.getAlignedPos(D,A,w);x.fillText(B.name,C.x+A/2,C.y+w/2);}});$jit.ST.Label.DOM=new q({Implements:e.Label.DOM,placeLabel:function(P,J,F){var B=J.pos.getc(true),O=this.viz.config,K=O.Node,x=this.viz.canvas,C=J.getData("width"),M=J.getData("height"),y=x.getSize(),G,N;
var A=x.translateOffsetX,z=x.translateOffsetY,E=x.scaleOffsetX,D=x.scaleOffsetY,I=B.x*E+A,H=B.y*D+z;if(K.align=="center"){G={x:Math.round(I-C/2+y.width/2),y:Math.round(H-M/2+y.height/2)};}else{if(K.align=="left"){N=O.orientation;if(N=="bottom"||N=="top"){G={x:Math.round(I-C/2+y.width/2),y:Math.round(H+y.height/2)};
}else{G={x:Math.round(I+y.width/2),y:Math.round(H-M/2+y.height/2)};}}else{if(K.align=="right"){N=O.orientation;if(N=="bottom"||N=="top"){G={x:Math.round(I-C/2+y.width/2),y:Math.round(H-M+y.height/2)};}else{G={x:Math.round(I-C+y.width/2),y:Math.round(H-M/2+y.height/2)};}}else{throw"align: not implemented";
}}}var L=P.style;L.left=G.x+"px";L.top=G.y+"px";L.display=this.fitsInCanvas(G,x)?"":"none";F.onPlaceLabel(P,J);}});$jit.ST.Label.SVG=new q({Implements:[$jit.ST.Label.DOM,e.Label.SVG],initialize:function(w){this.viz=w;}});$jit.ST.Label.HTML=new q({Implements:[$jit.ST.Label.DOM,e.Label.HTML],initialize:function(w){this.viz=w;
}});$jit.ST.Plot.NodeTypes=new q({"none":{"render":c.empty,"contains":c.lambda(false)},"circle":{"render":function(x,w){var z=x.getData("dim"),A=this.getAlignedPos(x.pos.getc(true),z,z),y=z/2;this.nodeHelper.circle.render("fill",{x:A.x+y,y:A.y+y},y,w);},"contains":function(w,A){var y=w.getData("dim"),z=this.getAlignedPos(w.pos.getc(true),y,y),x=y/2;
this.nodeHelper.circle.contains({x:z.x+x,y:z.y+x},A,x);}},"square":{"render":function(x,w){var z=x.getData("dim"),y=z/2,A=this.getAlignedPos(x.pos.getc(true),z,z);this.nodeHelper.square.render("fill",{x:A.x+y,y:A.y+y},y,w);},"contains":function(w,A){var y=w.getData("dim"),z=this.getAlignedPos(w.pos.getc(true),y,y),x=y/2;
this.nodeHelper.square.contains({x:z.x+x,y:z.y+x},A,x);}},"ellipse":{"render":function(z,x){var y=z.getData("width"),w=z.getData("height"),A=this.getAlignedPos(z.pos.getc(true),y,w);this.nodeHelper.ellipse.render("fill",{x:A.x+y/2,y:A.y+w/2},y,w,x);},"contains":function(y,A){var x=y.getData("width"),w=y.getData("height"),z=this.getAlignedPos(y.pos.getc(true),x,w);
this.nodeHelper.ellipse.contains({x:z.x+x/2,y:z.y+w/2},A,x,w);}},"rectangle":{"render":function(z,x){var y=z.getData("width"),w=z.getData("height"),A=this.getAlignedPos(z.pos.getc(true),y,w);this.nodeHelper.rectangle.render("fill",{x:A.x+y/2,y:A.y+w/2},y,w,x);},"contains":function(y,A){var x=y.getData("width"),w=y.getData("height"),z=this.getAlignedPos(y.pos.getc(true),x,w);
this.nodeHelper.rectangle.contains({x:z.x+x/2,y:z.y+w/2},A,x,w);}}});$jit.ST.Plot.EdgeTypes=new q({"none":c.empty,"line":{"render":function(x,z){var y=this.getOrientation(x),A=x.nodeFrom,B=x.nodeTo,w=A._depth<B._depth,D=this.viz.geom.getEdge(w?A:B,"begin",y),C=this.viz.geom.getEdge(w?B:A,"end",y);this.edgeHelper.line.render(D,C,z);
},"contains":function(x,D){var y=this.getOrientation(x),z=x.nodeFrom,A=x.nodeTo,w=z._depth<A._depth,C=this.viz.geom.getEdge(w?z:A,"begin",y),B=this.viz.geom.getEdge(w?A:z,"end",y);return this.edgeHelper.line.contains(C,B,D,this.edge.epsilon);}},"arrow":{"render":function(C,x){var B=this.getOrientation(C),y=C.nodeFrom,w=C.nodeTo,A=C.getData("dim"),E=this.viz.geom.getEdge(y,"begin",B),F=this.viz.geom.getEdge(w,"end",B),D=C.data.$direction,z=(D&&D.length>1&&D[0]!=y.id);
this.edgeHelper.arrow.render(E,F,A,z,x);},"contains":function(x,D){var y=this.getOrientation(x),z=x.nodeFrom,A=x.nodeTo,w=z._depth<A._depth,C=this.viz.geom.getEdge(w?z:A,"begin",y),B=this.viz.geom.getEdge(w?A:z,"end",y);return this.edgeHelper.arrow.contains(C,B,D,this.edge.epsilon);}},"quadratic:begin":{"render":function(C,w){var B=this.getOrientation(C);
var A=C.nodeFrom,D=C.nodeTo,F=A._depth<D._depth,x=this.viz.geom.getEdge(F?A:D,"begin",B),y=this.viz.geom.getEdge(F?D:A,"end",B),z=C.getData("dim"),E=w.getCtx();E.beginPath();E.moveTo(x.x,x.y);switch(B){case"left":E.quadraticCurveTo(x.x+z,x.y,y.x,y.y);break;case"right":E.quadraticCurveTo(x.x-z,x.y,y.x,y.y);
break;case"top":E.quadraticCurveTo(x.x,x.y+z,y.x,y.y);break;case"bottom":E.quadraticCurveTo(x.x,x.y-z,y.x,y.y);break;}E.stroke();}},"quadratic:end":{"render":function(C,w){var B=this.getOrientation(C);var A=C.nodeFrom,D=C.nodeTo,F=A._depth<D._depth,x=this.viz.geom.getEdge(F?A:D,"begin",B),y=this.viz.geom.getEdge(F?D:A,"end",B),z=C.getData("dim"),E=w.getCtx();
E.beginPath();E.moveTo(x.x,x.y);switch(B){case"left":E.quadraticCurveTo(y.x-z,y.y,y.x,y.y);break;case"right":E.quadraticCurveTo(y.x+z,y.y,y.x,y.y);break;case"top":E.quadraticCurveTo(y.x,y.y-z,y.x,y.y);break;case"bottom":E.quadraticCurveTo(y.x,y.y+z,y.x,y.y);break;}E.stroke();}},"bezier":{"render":function(C,w){var B=this.getOrientation(C),A=C.nodeFrom,D=C.nodeTo,F=A._depth<D._depth,x=this.viz.geom.getEdge(F?A:D,"begin",B),y=this.viz.geom.getEdge(F?D:A,"end",B),z=C.getData("dim"),E=w.getCtx();
E.beginPath();E.moveTo(x.x,x.y);switch(B){case"left":E.bezierCurveTo(x.x+z,x.y,y.x-z,y.y,y.x,y.y);break;case"right":E.bezierCurveTo(x.x-z,x.y,y.x+z,y.y,y.x,y.y);break;case"top":E.bezierCurveTo(x.x,x.y+z,y.x,y.y-z,y.x,y.y);break;case"bottom":E.bezierCurveTo(x.x,x.y-z,y.x,y.y+z,y.x,y.y);break;}E.stroke();
}}});$jit.ST.Plot.NodeTypes.implement({"areachart-stacked":{"render":function(W,D){var U=W.pos.getc(true),w=W.getData("width"),A=W.getData("height"),G=this.getAlignedPos(U,w,A),ab=G.x,aa=G.y,L=W.getData("stringArray"),F=W.getData("dimArray"),B=W.getData("valueArray"),ad=c.reduce(B,function(aj,ak){return aj+ak[0];
},0),ac=c.reduce(B,function(aj,ak){return aj+ak[1];},0),I=W.getData("colorArray"),C=I.length,Y=W.getData("config"),J=W.getData("gradient"),ai=Y.showLabels,N=Y.showAggregates,ae=Y.Label,T=W.getData("prev");var M=D.getCtx(),H=W.getData("border");if(I&&F&&L){for(var ah=0,af=F.length,K=0,E=0,X=0;ah<af;ah++){M.fillStyle=M.strokeStyle=I[ah%C];
M.save();if(J&&(F[ah][0]>0||F[ah][1]>0)){var R=K+F[ah][0],P=E+F[ah][1],ag=Math.atan((P-R)/w),Z=55;var V=M.createLinearGradient(ab+w/2,aa-(R+P)/2,ab+w/2+Z*Math.sin(ag),aa-(R+P)/2+Z*Math.cos(ag));var Q=c.rgbToHex(c.map(c.hexToRgb(I[ah%C].slice(1)),function(x){return(x*0.85)>>0;}));V.addColorStop(0,I[ah%C]);
V.addColorStop(1,Q);M.fillStyle=V;}M.beginPath();M.moveTo(ab,aa-K);M.lineTo(ab+w,aa-E);M.lineTo(ab+w,aa-E-F[ah][1]);M.lineTo(ab,aa-K-F[ah][0]);M.lineTo(ab,aa-K);M.fill();M.restore();if(H){var S=H.name==L[ah];var z=S?0.7:0.8;var Q=c.rgbToHex(c.map(c.hexToRgb(I[ah%C].slice(1)),function(x){return(x*z)>>0;
}));M.strokeStyle=Q;M.lineWidth=S?4:1;M.save();M.beginPath();if(H.index===0){M.moveTo(ab,aa-K);M.lineTo(ab,aa-K-F[ah][0]);}else{M.moveTo(ab+w,aa-E);M.lineTo(ab+w,aa-E-F[ah][1]);}M.stroke();M.restore();}K+=(F[ah][0]||0);E+=(F[ah][1]||0);if(F[ah][0]>0){X+=(B[ah][0]||0);}}if(T&&ae.type=="Native"){M.save();
M.beginPath();M.fillStyle=M.strokeStyle=ae.color;M.font=ae.style+" "+ae.size+"px "+ae.family;M.textAlign="center";M.textBaseline="middle";var O=N(W.name,ad,ac,W,X);if(O!==false){M.fillText(O!==true?O:X,ab,aa-K-Y.labelOffset-ae.size/2,w);}if(ai(W.name,ad,ac,W)){M.fillText(W.name,ab,aa+ae.size/2+Y.labelOffset);
}M.restore();}}},"contains":function(C,E){var J=C.pos.getc(true),z=C.getData("width"),N=C.getData("height"),M=this.getAlignedPos(J,z,N),L=M.x,K=M.y,O=C.getData("dimArray"),w=E.x-L;if(E.x<L||E.x>L+z||E.y>K||E.y<K-N){return false;}for(var F=0,D=O.length,I=K,A=K;F<D;F++){var B=O[F];I-=B[0];A-=B[1];var G=I+(A-I)*w/z;
if(E.y>=G){var H=+(w>z/2);return{"name":C.getData("stringArray")[F],"color":C.getData("colorArray")[F],"value":C.getData("valueArray")[F][H],"index":H};}}return false;}}});$jit.AreaChart=new q({st:null,colors:["#416D9C","#70A35E","#EBB056","#C74243","#83548B","#909291","#557EAA"],selected:{},busy:false,initialize:function(y){this.controller=this.config=c.merge(n("Canvas","Margin","Label","AreaChart"),{Label:{type:"Native"}},y);
var z=this.config.showLabels,x=c.type(z),A=this.config.showAggregates,w=c.type(A);this.config.showLabels=x=="function"?z:c.lambda(z);this.config.showAggregates=w=="function"?A:c.lambda(A);this.initializeViz();},initializeViz:function(){var x=this.config,B=this,w=x.type.split(":")[0],A={};var z=new $jit.ST({injectInto:x.injectInto,width:x.width,height:x.height,orientation:"bottom",levelDistance:0,siblingOffset:0,subtreeOffset:0,withLabels:x.Label.type!="Native",useCanvas:x.useCanvas,Label:{type:x.Label.type},Node:{overridable:true,type:"areachart-"+w,align:"left",width:1,height:1},Edge:{type:"none"},Tips:{enable:x.Tips.enable,type:"Native",force:true,onShow:function(G,F,D){var E=D;
x.Tips.onShow(G,E,F);}},Events:{enable:true,type:"Native",onClick:function(F,G,D){if(!x.filterOnClick&&!x.Events.enable){return;}var E=G.getContains();if(E){x.filterOnClick&&B.filter(E.name);}x.Events.enable&&x.Events.onClick(E,G,D);},onRightClick:function(E,F,D){if(!x.restoreOnRightClick){return;}B.restore();
},onMouseMove:function(F,G,D){if(!x.selectOnHover){return;}if(F){var E=G.getContains();B.select(F.id,E.name,E.index);}else{B.select(false,false,false);}}},onCreateLabel:function(J,G){var P=x.Label,O=G.getData("valueArray"),H=c.reduce(O,function(Q,R){return Q+R[0];},0),M=c.reduce(O,function(Q,R){return Q+R[1];
},0);if(G.getData("prev")){var L={wrapper:document.createElement("div"),aggregate:document.createElement("div"),label:document.createElement("div")};var D=L.wrapper,N=L.label,E=L.aggregate,F=D.style,K=N.style,I=E.style;A[G.id]=L;D.appendChild(N);D.appendChild(E);if(!x.showLabels(G.name,H,M,G)){N.style.display="none";
}if(!x.showAggregates(G.name,H,M,G)){E.style.display="none";}F.position="relative";F.overflow="visible";F.fontSize=P.size+"px";F.fontFamily=P.family;F.color=P.color;F.textAlign="center";I.position=K.position="absolute";J.style.width=G.getData("width")+"px";J.style.height=G.getData("height")+"px";N.innerHTML=G.name;
J.appendChild(D);}},onPlaceLabel:function(V,P){if(!P.getData("prev")){return;}var T=A[P.id],E=T.wrapper.style,D=T.label.style,O=T.aggregate.style,M=P.getData("width"),K=P.getData("height"),J=P.getData("dimArray"),G=P.getData("valueArray"),L=c.reduce(G,function(W,X){return W+X[0];},0),H=c.reduce(G,function(W,X){return W+X[1];
},0),I=parseInt(E.fontSize,10),N=V.style;if(J&&G){if(x.showLabels(P.name,L,H,P)){D.display="";}else{D.display="none";}var F=x.showAggregates(P.name,L,H,P);if(F!==false){O.display="";}else{O.display="none";}E.width=O.width=D.width=V.style.width=M+"px";O.left=D.left=-M/2+"px";for(var S=0,Q=G.length,R=0,U=0;
S<Q;S++){if(J[S][0]>0){R+=G[S][0];U+=J[S][0];}}O.top=(-I-x.labelOffset)+"px";D.top=(x.labelOffset+U)+"px";V.style.top=parseInt(V.style.top,10)-U+"px";V.style.height=E.height=U+"px";T.aggregate.innerHTML=F!==true?F:R;}}});var y=z.canvas.getSize(),C=x.Margin;z.config.offsetY=-y.height/2+C.bottom+(x.showLabels&&(x.labelOffset+x.Label.size));
z.config.offsetX=(C.right-C.left)/2;this.delegate=z;this.canvas=this.delegate.canvas;},loadJSON:function(N){var J=c.time(),B=[],M=this.delegate,Q=c.splat(N.label),I=c.splat(N.color||this.colors),O=this.config,x=!!O.type.split(":")[1],z=O.animate;for(var K=0,y=N.values,H=y.length;K<H-1;K++){var P=y[K],E=y[K-1],F=y[K+1];
var L=c.splat(y[K].values),w=c.splat(y[K+1].values);var A=c.zip(L,w);var D=0,C=0;B.push({"id":J+P.label,"name":P.label,"data":{"value":A,"$valueArray":A,"$colorArray":I,"$stringArray":Q,"$next":F.label,"$prev":E?E.label:false,"$config":O,"$gradient":x},"children":[]});}var G={"id":J+"$root","name":"","data":{"$type":"none","$width":1,"$height":1},"children":B};
M.loadJSON(G);this.normalizeDims();M.compute();M.select(M.root);if(z){M.fx.animate({modes:["node-property:height:dimArray"],duration:1500});}},updateJSON:function(G,x){if(this.busy){return;}this.busy=true;var D=this.delegate,F=D.graph,A=G.label&&c.splat(G.label),E=G.values,w=this.config.animate,C=this,B={};
for(var z=0,y=E.length;z<y;z++){B[E[z].label]=E[z];}F.eachNode(function(L){var H=B[L.name],I=L.getData("stringArray"),K=L.getData("valueArray"),J=L.getData("next");if(H){H.values=c.splat(H.values);c.each(K,function(M,N){M[0]=H.values[N];if(A){I[N]=A[N];}});L.setData("valueArray",K);}if(J){H=B[J];if(H){c.each(K,function(M,N){M[1]=H.values[N];
});}}});this.normalizeDims();D.compute();D.select(D.root);if(w){D.fx.animate({modes:["node-property:height:dimArray"],duration:1500,onComplete:function(){C.busy=false;x&&x.onComplete();}});}},filter:function(z,A){if(this.busy){return;}this.busy=true;if(this.config.Tips.enable){this.delegate.tips.hide();
}this.select(false,false,false);var x=c.splat(z);var w=this.delegate.graph.getNode(this.delegate.root);var y=this;this.normalizeDims();w.eachAdjacency(function(B){var E=B.nodeTo,D=E.getData("dimArray","end"),C=E.getData("stringArray");E.setData("dimArray",c.map(D,function(G,F){return(c.indexOf(x,C[F])>-1)?G:[0,0];
}),"end");});this.delegate.fx.animate({modes:["node-property:dimArray"],duration:1500,onComplete:function(){y.busy=false;A&&A.onComplete();}});},restore:function(x){if(this.busy){return;}this.busy=true;if(this.config.Tips.enable){this.delegate.tips.hide();}this.select(false,false,false);this.normalizeDims();
var w=this;this.delegate.fx.animate({modes:["node-property:height:dimArray"],duration:1500,onComplete:function(){w.busy=false;x&&x.onComplete();}});},select:function(B,x,w){if(!this.config.selectOnHover){return;}var y=this.selected;if(y.id!=B||y.name!=x||y.index!=w){y.id=B;y.name=x;y.index=w;this.delegate.graph.eachNode(function(C){C.setData("border",false);
});if(B){var A=this.delegate.graph.getNode(B);A.setData("border",y);var z=w===0?"prev":"next";z=A.getData(z);if(z){A=this.delegate.graph.getByName(z);if(A){A.setData("border",{name:x,index:1-w});}}}this.delegate.plot();}},getLegend:function(){var y={};var z;this.delegate.graph.getNode(this.delegate.root).eachAdjacency(function(A){z=A.nodeTo;
});var x=z.getData("colorArray"),w=x.length;c.each(z.getData("stringArray"),function(B,A){y[B]=x[A%w];});return y;},getMaxValue:function(){var w=0;this.delegate.graph.eachNode(function(B){var y=B.getData("valueArray"),x=0,A=0;c.each(y,function(C){x+=+C[0];A+=+C[1];});var z=A>x?A:x;w=w>z?w:z;});return w;
},normalizeDims:function(){var C=this.delegate.graph.getNode(this.delegate.root),z=0;C.eachAdjacency(function(){z++;});var B=this.getMaxValue()||1,F=this.delegate.canvas.getSize(),y=this.config,A=y.Margin,D=y.labelOffset+y.Label.size,w=(F.width-(A.left+A.right))/z,x=y.animate,E=F.height-(A.top+A.bottom)-(y.showAggregates&&D)-(y.showLabels&&D);
this.delegate.graph.eachNode(function(L){var I=0,K=0,G=[];c.each(L.getData("valueArray"),function(M){I+=+M[0];K+=+M[1];G.push([0,0]);});var J=K>I?K:I;L.setData("width",w);if(x){L.setData("height",J*E/B,"end");L.setData("dimArray",c.map(L.getData("valueArray"),function(M){return[M[0]*E/B,M[1]*E/B];}),"end");
var H=L.getData("dimArray");if(!H){L.setData("dimArray",G);}}else{L.setData("height",J*E/B);L.setData("dimArray",c.map(L.getData("valueArray"),function(M){return[M[0]*E/B,M[1]*E/B];}));}});}});n.BarChart={$extend:true,animate:true,type:"stacked",labelOffset:3,barsOffset:0,hoveredColor:"#9fd4ff",orientation:"horizontal",showAggregates:true,showLabels:true,Tips:{enable:false,onShow:c.empty,onHide:c.empty},Events:{enable:false,onClick:c.empty}};
$jit.ST.Plot.NodeTypes.implement({"barchart-stacked":{"render":function(R,C){var H=R.pos.getc(true),Q=R.getData("width"),O=R.getData("height"),M=this.getAlignedPos(H,Q,O),L=M.x,K=M.y,N=R.getData("dimArray"),F=R.getData("valueArray"),E=R.getData("colorArray"),B=E.length,Y=R.getData("stringArray");var T=C.getCtx(),w={},U=R.getData("border"),z=R.getData("gradient"),aa=R.getData("config"),A=aa.orientation=="horizontal",D=aa.showAggregates,P=aa.showLabels,J=aa.Label;
if(E&&N&&Y){for(var X=0,S=N.length,W=0,G=0;X<S;X++){T.fillStyle=T.strokeStyle=E[X%B];if(z){var Z;if(A){Z=T.createLinearGradient(L+W+N[X]/2,K,L+W+N[X]/2,K+O);}else{Z=T.createLinearGradient(L,K-W-N[X]/2,L+Q,K-W-N[X]/2);}var V=c.rgbToHex(c.map(c.hexToRgb(E[X%B].slice(1)),function(x){return(x*0.5)>>0;}));
Z.addColorStop(0,V);Z.addColorStop(0.5,E[X%B]);Z.addColorStop(1,V);T.fillStyle=Z;}if(A){T.fillRect(L+W,K,N[X],O);}else{T.fillRect(L,K-W-N[X],Q,N[X]);}if(U&&U.name==Y[X]){w.acum=W;w.dimValue=N[X];}W+=(N[X]||0);G+=(F[X]||0);}if(U){T.save();T.lineWidth=2;T.strokeStyle=U.color;if(A){T.strokeRect(L+w.acum+1,K+1,w.dimValue-2,O-2);
}else{T.strokeRect(L+1,K-w.acum-w.dimValue+1,Q-2,w.dimValue-2);}T.restore();}if(J.type=="Native"){T.save();T.fillStyle=T.strokeStyle=J.color;T.font=J.style+" "+J.size+"px "+J.family;T.textBaseline="middle";var I=D(R.name,G,R);if(I!==false){I=I!==true?I:G;if(A){T.textAlign="right";T.fillText(I,L+W-aa.labelOffset,K+O/2);
}else{T.textAlign="center";T.fillText(I,L+Q/2,K-O-J.size/2-aa.labelOffset);}}if(P(R.name,G,R)){if(A){T.textAlign="center";T.translate(L-aa.labelOffset-J.size/2,K+O/2);T.rotate(Math.PI/2);T.fillText(R.name,0,0);}else{T.textAlign="center";T.fillText(R.name,L+Q/2,K+J.size/2+aa.labelOffset);}}T.restore();
}}},"contains":function(D,F){var I=D.pos.getc(true),A=D.getData("width"),N=D.getData("height"),M=this.getAlignedPos(I,A,N),L=M.x,J=M.y,O=D.getData("dimArray"),B=D.getData("config"),z=F.x-L,w=B.orientation=="horizontal";if(w){if(F.x<L||F.x>L+A||F.y>J+N||F.y<J){return false;}}else{if(F.x<L||F.x>L+A||F.y>J||F.y<J-N){return false;
}}for(var G=0,E=O.length,K=(w?L:J);G<E;G++){var C=O[G];if(w){K+=C;var H=K;if(F.x<=H){return{"name":D.getData("stringArray")[G],"color":D.getData("colorArray")[G],"value":D.getData("valueArray")[G],"label":D.name};}}else{K-=C;var H=K;if(F.y>=H){return{"name":D.getData("stringArray")[G],"color":D.getData("colorArray")[G],"value":D.getData("valueArray")[G],"label":D.name};
}}}return false;}},"barchart-grouped":{"render":function(S,C){var I=S.pos.getc(true),R=S.getData("width"),P=S.getData("height"),N=this.getAlignedPos(I,R,P),M=N.x,L=N.y,O=S.getData("dimArray"),G=S.getData("valueArray"),Y=G.length,F=S.getData("colorArray"),B=F.length,aa=S.getData("stringArray");var U=C.getCtx(),w={},V=S.getData("border"),z=S.getData("gradient"),ac=S.getData("config"),A=ac.orientation=="horizontal",E=ac.showAggregates,Q=ac.showLabels,K=ac.Label,D=(A?P:R)/Y;
if(F&&O&&aa){for(var Z=0,T=Y,X=0,H=0;Z<T;Z++){U.fillStyle=U.strokeStyle=F[Z%B];if(z){var ab;if(A){ab=U.createLinearGradient(M+O[Z]/2,L+D*Z,M+O[Z]/2,L+D*(Z+1));}else{ab=U.createLinearGradient(M+D*Z,L-O[Z]/2,M+D*(Z+1),L-O[Z]/2);}var W=c.rgbToHex(c.map(c.hexToRgb(F[Z%B].slice(1)),function(x){return(x*0.5)>>0;
}));ab.addColorStop(0,W);ab.addColorStop(0.5,F[Z%B]);ab.addColorStop(1,W);U.fillStyle=ab;}if(A){U.fillRect(M,L+D*Z,O[Z],D);}else{U.fillRect(M+D*Z,L-O[Z],D,O[Z]);}if(V&&V.name==aa[Z]){w.acum=D*Z;w.dimValue=O[Z];}X+=(O[Z]||0);H+=(G[Z]||0);}if(V){U.save();U.lineWidth=2;U.strokeStyle=V.color;if(A){U.strokeRect(M+1,L+w.acum+1,w.dimValue-2,D-2);
}else{U.strokeRect(M+w.acum+1,L-w.dimValue+1,D-2,w.dimValue-2);}U.restore();}if(K.type=="Native"){U.save();U.fillStyle=U.strokeStyle=K.color;U.font=K.style+" "+K.size+"px "+K.family;U.textBaseline="middle";var J=E(S.name,H,S);if(J!==false){J=J!==true?J:H;if(A){U.textAlign="right";U.fillText(J,M+Math.max.apply(null,O)-ac.labelOffset,L+P/2);
}else{U.textAlign="center";U.fillText(J,M+R/2,L-Math.max.apply(null,O)-K.size/2-ac.labelOffset);}}if(Q(S.name,H,S)){if(A){U.textAlign="center";U.translate(M-ac.labelOffset-K.size/2,L+P/2);U.rotate(Math.PI/2);U.fillText(S.name,0,0);}else{U.textAlign="center";U.fillText(S.name,M+R/2,L+K.size/2+ac.labelOffset);
}}U.restore();}}},"contains":function(J,F){var B=J.pos.getc(true),I=J.getData("width"),H=J.getData("height"),E=this.getAlignedPos(B,I,H),D=E.x,C=E.y,G=J.getData("dimArray"),M=G.length,P=J.getData("config"),A=F.x-D,w=P.orientation=="horizontal",z=(w?H:I)/M;if(w){if(F.x<D||F.x>D+I||F.y>C+H||F.y<C){return false;
}}else{if(F.x<D||F.x>D+I||F.y>C||F.y<C-H){return false;}}for(var L=0,K=G.length;L<K;L++){var O=G[L];if(w){var N=C+z*L;if(F.x<=D+O&&F.y>=N&&F.y<=N+z){return{"name":J.getData("stringArray")[L],"color":J.getData("colorArray")[L],"value":J.getData("valueArray")[L],"label":J.name};}}else{var N=D+z*L;if(F.x>=N&&F.x<=N+z&&F.y>=C-O){return{"name":J.getData("stringArray")[L],"color":J.getData("colorArray")[L],"value":J.getData("valueArray")[L],"label":J.name};
}}}return false;}}});$jit.BarChart=new q({st:null,colors:["#416D9C","#70A35E","#EBB056","#C74243","#83548B","#909291","#557EAA"],selected:{},busy:false,initialize:function(y){this.controller=this.config=c.merge(n("Canvas","Margin","Label","BarChart"),{Label:{type:"Native"}},y);var z=this.config.showLabels,x=c.type(z),A=this.config.showAggregates,w=c.type(A);
this.config.showLabels=x=="function"?z:c.lambda(z);this.config.showAggregates=w=="function"?A:c.lambda(A);this.initializeViz();},initializeViz:function(){var x=this.config,B=this;var w=x.type.split(":")[0],D=x.orientation=="horizontal",A={};var z=new $jit.ST({injectInto:x.injectInto,width:x.width,height:x.height,orientation:D?"left":"bottom",levelDistance:0,siblingOffset:x.barsOffset,subtreeOffset:0,withLabels:x.Label.type!="Native",useCanvas:x.useCanvas,Label:{type:x.Label.type},Node:{overridable:true,type:"barchart-"+w,align:"left",width:1,height:1},Edge:{type:"none"},Tips:{enable:x.Tips.enable,type:"Native",force:true,onShow:function(H,G,E){var F=E;
x.Tips.onShow(H,F,G);}},Events:{enable:true,type:"Native",onClick:function(G,H,E){if(!x.Events.enable){return;}var F=H.getContains();x.Events.onClick(F,H,E);},onMouseMove:function(G,H,E){if(!x.hoveredColor){return;}if(G){var F=H.getContains();B.select(G.id,F.name,F.index);}else{B.select(false,false,false);
}}},onCreateLabel:function(J,H){var P=x.Label,N=H.getData("valueArray"),M=c.reduce(N,function(Q,R){return Q+R;},0);var L={wrapper:document.createElement("div"),aggregate:document.createElement("div"),label:document.createElement("div")};var E=L.wrapper,O=L.label,F=L.aggregate,G=E.style,K=O.style,I=F.style;
A[H.id]=L;E.appendChild(O);E.appendChild(F);if(!x.showLabels(H.name,M,H)){K.display="none";}if(!x.showAggregates(H.name,M,H)){I.display="none";}G.position="relative";G.overflow="visible";G.fontSize=P.size+"px";G.fontFamily=P.family;G.color=P.color;G.textAlign="center";I.position=K.position="absolute";
J.style.width=H.getData("width")+"px";J.style.height=H.getData("height")+"px";I.left=K.left="0px";O.innerHTML=H.name;J.appendChild(E);},onPlaceLabel:function(U,P){if(!A[P.id]){return;}var T=A[P.id],G=T.wrapper.style,E=T.label.style,O=T.aggregate.style,V=x.type.split(":")[0]=="grouped",F=x.orientation=="horizontal",K=P.getData("dimArray"),I=P.getData("valueArray"),M=(V&&F)?Math.max.apply(null,K):P.getData("width"),L=(V&&!F)?Math.max.apply(null,K):P.getData("height"),J=parseInt(G.fontSize,10),N=U.style;
if(K&&I){G.width=O.width=E.width=U.style.width=M+"px";for(var S=0,Q=I.length,R=0;S<Q;S++){if(K[S]>0){R+=I[S];}}if(x.showLabels(P.name,R,P)){E.display="";}else{E.display="none";}var H=x.showAggregates(P.name,R,P);if(H!==false){O.display="";}else{O.display="none";}if(x.orientation=="horizontal"){O.textAlign="right";
E.textAlign="left";E.textIndex=O.textIndent=x.labelOffset+"px";O.top=E.top=(L-J)/2+"px";U.style.height=G.height=L+"px";}else{O.top=(-J-x.labelOffset)+"px";E.top=(x.labelOffset+L)+"px";U.style.top=parseInt(U.style.top,10)-L+"px";U.style.height=G.height=L+"px";}T.aggregate.innerHTML=H!==true?H:R;}}});var y=z.canvas.getSize(),C=x.Margin;
if(D){z.config.offsetX=y.width/2-C.left-(x.showLabels&&(x.labelOffset+x.Label.size));z.config.offsetY=(C.bottom-C.top)/2;}else{z.config.offsetY=-y.height/2+C.bottom+(x.showLabels&&(x.labelOffset+x.Label.size));z.config.offsetX=(C.right-C.left)/2;}this.delegate=z;this.canvas=this.delegate.canvas;},loadJSON:function(K){if(this.busy){return;
}this.busy=true;var H=c.time(),C=[],J=this.delegate,N=c.splat(K.label),G=c.splat(K.color||this.colors),L=this.config,w=!!L.type.split(":")[1],z=L.animate,y=L.orientation=="horizontal",A=this;for(var I=0,x=K.values,E=x.length;I<E;I++){var M=x[I];var B=c.splat(x[I].values);var F=0;C.push({"id":H+M.label,"name":M.label,"data":{"value":B,"$valueArray":B,"$colorArray":G,"$stringArray":N,"$gradient":w,"$config":L},"children":[]});
}var D={"id":H+"$root","name":"","data":{"$type":"none","$width":1,"$height":1},"children":C};J.loadJSON(D);this.normalizeDims();J.compute();J.select(J.root);if(z){if(y){J.fx.animate({modes:["node-property:width:dimArray"],duration:1500,onComplete:function(){A.busy=false;}});}else{J.fx.animate({modes:["node-property:height:dimArray"],duration:1500,onComplete:function(){A.busy=false;
}});}}else{this.busy=false;}},updateJSON:function(y,C){if(this.busy){return;}this.busy=true;this.select(false,false,false);var z=this.delegate;var B=z.graph;var x=y.values;var w=this.config.animate;var A=this;var D=this.config.orientation=="horizontal";c.each(x,function(E){var F=B.getByName(E.label);
if(F){F.setData("valueArray",c.splat(E.values));if(y.label){F.setData("stringArray",c.splat(y.label));}}});this.normalizeDims();z.compute();z.select(z.root);if(w){if(D){z.fx.animate({modes:["node-property:width:dimArray"],duration:1500,onComplete:function(){A.busy=false;C&&C.onComplete();}});}else{z.fx.animate({modes:["node-property:height:dimArray"],duration:1500,onComplete:function(){A.busy=false;
C&&C.onComplete();}});}}},select:function(y,w){if(!this.config.hoveredColor){return;}var x=this.selected;if(x.id!=y||x.name!=w){x.id=y;x.name=w;x.color=this.config.hoveredColor;this.delegate.graph.eachNode(function(z){if(y==z.id){z.setData("border",x);}else{z.setData("border",false);}});this.delegate.plot();
}},getLegend:function(){var y={};var z;this.delegate.graph.getNode(this.delegate.root).eachAdjacency(function(A){z=A.nodeTo;});var x=z.getData("colorArray"),w=x.length;c.each(z.getData("stringArray"),function(B,A){y[B]=x[A%w];});return y;},getMaxValue:function(){var x=0,w=this.config.type.split(":")[0]=="stacked";
this.delegate.graph.eachNode(function(A){var y=A.getData("valueArray"),z=0;if(!y){return;}if(w){c.each(y,function(B){z+=+B;});}else{z=Math.max.apply(null,y);}x=x>z?x:z;});return x;},setBarType:function(w){this.config.type=w;this.delegate.config.Node.type="barchart-"+w.split(":")[0];},normalizeDims:function(){var G=this.delegate.graph.getNode(this.delegate.root),B=0;
G.eachAdjacency(function(){B++;});var D=this.getMaxValue()||1,J=this.delegate.canvas.getSize(),z=this.config,C=z.Margin,H=C.left+C.right,A=C.top+C.bottom,x=z.orientation=="horizontal",w=(J[x?"height":"width"]-(x?A:H)-(B-1)*z.barsOffset)/B,y=z.animate,I=J[x?"width":"height"]-(x?H:A)-(!x&&z.showAggregates&&(z.Label.size+z.labelOffset))-(z.showLabels&&(z.Label.size+z.labelOffset)),F=x?"height":"width",E=x?"width":"height";
this.delegate.graph.eachNode(function(N){var M=0,K=[];c.each(N.getData("valueArray"),function(O){M+=+O;K.push(0);});N.setData(F,w);if(y){N.setData(E,M*I/D,"end");N.setData("dimArray",c.map(N.getData("valueArray"),function(O){return O*I/D;}),"end");var L=N.getData("dimArray");if(!L){N.setData("dimArray",K);
}}else{N.setData(E,M*I/D);N.setData("dimArray",c.map(N.getData("valueArray"),function(O){return O*I/D;}));}});}});n.PieChart={$extend:true,animate:true,offset:25,sliceOffset:0,labelOffset:3,type:"stacked",hoveredColor:"#9fd4ff",Events:{enable:false,onClick:c.empty},Tips:{enable:false,onShow:c.empty,onHide:c.empty},showLabels:true,resizeLabels:false,updateHeights:false};
g.Radial=new q({compute:function(x){var y=c.splat(x||["current","start","end"]);f.compute(this.graph,y,this.config);this.graph.computeLevels(this.root,0,"ignore");var w=this.createLevelDistanceFunc();this.computeAngularWidths(y);this.computePositions(y,w);},computePositions:function(D,A){var F=D;var E=this.graph;
var B=E.getNode(this.root);var C=this.parent;var w=this.config;for(var y=0,x=F.length;y<x;y++){var z=F[y];B.setPos(k(0,0),z);B.setData("span",Math.PI*2,z);}B.angleSpan={begin:0,end:2*Math.PI};E.eachBFS(this.root,function(K){var Q=K.angleSpan.end-K.angleSpan.begin;var S=K.angleSpan.begin;var R=A(K);var T=0,G=[],J={};
K.eachSubnode(function(W){T+=W._treeAngularWidth;for(var X=0,V=F.length;X<V;X++){var Z=F[X],Y=W.getData("dim",Z);J[Z]=(Z in J)?(Y>J[Z]?Y:J[Z]):Y;}G.push(W);},"ignore");if(C&&C.id==K.id&&G.length>0&&G[0].dist){G.sort(function(W,V){return(W.dist>=V.dist)-(W.dist<=V.dist);});}for(var M=0,O=G.length;M<O;
M++){var I=G[M];if(!I._flag){var U=I._treeAngularWidth/T*Q;var H=S+U/2;for(var N=0,L=F.length;N<L;N++){var P=F[N];I.setPos(k(H,R),P);I.setData("span",U,P);I.setData("dim-quotient",I.getData("dim",P)/J[P],P);}I.angleSpan={begin:S,end:S+U};S+=U;}}},"ignore");},setAngularWidthForNodes:function(w){this.graph.eachBFS(this.root,function(z,x){var y=z.getData("angularWidth",w[0])||5;
z._angularWidth=y/x;},"ignore");},setSubtreesAngularWidth:function(){var w=this;this.graph.eachNode(function(x){w.setSubtreeAngularWidth(x);},"ignore");},setSubtreeAngularWidth:function(z){var y=this,x=z._angularWidth,w=0;z.eachSubnode(function(A){y.setSubtreeAngularWidth(A);w+=A._treeAngularWidth;},"ignore");
z._treeAngularWidth=Math.max(x,w);},computeAngularWidths:function(w){this.setAngularWidthForNodes(w);this.setSubtreesAngularWidth();}});$jit.Sunburst=new q({Implements:[d,o,g.Radial],initialize:function(w){var y=$jit.Sunburst;var x={interpolation:"linear",levelDistance:100,Node:{"type":"multipie","height":0},Edge:{"type":"none"},Label:{textAlign:"start",textBaseline:"middle"}};
this.controller=this.config=c.merge(n("Canvas","Node","Edge","Fx","Tips","NodeStyles","Events","Navigation","Controller","Label"),x,w);var z=this.config;if(z.useCanvas){this.canvas=z.useCanvas;this.config.labelContainer=this.canvas.id+"-label";}else{if(z.background){z.background=c.merge({type:"Circles"},z.background);
}this.canvas=new l(this,z);this.config.labelContainer=(typeof z.injectInto=="string"?z.injectInto:z.injectInto.id)+"-label";}this.graphOptions={"klass":b,"Node":{"selected":false,"exist":true,"drawn":true}};this.graph=new e(this.graphOptions,this.config.Node,this.config.Edge);this.labels=new y.Label[z.Label.type](this);
this.fx=new y.Plot(this,y);this.op=new y.Op(this);this.json=null;this.root=null;this.rotated=null;this.busy=false;this.initializeExtras();},createLevelDistanceFunc:function(){var w=this.config.levelDistance;return function(x){return(x._depth+1)*w;};},refresh:function(){this.compute();this.plot();},reposition:function(){this.compute("end");
},rotate:function(y,z,x){var w=y.getPos(x.property||"current").getp(true).theta;this.rotated=y;this.rotateAngle(-w,z,x);},rotateAngle:function(y,B,x){var z=this;var w=c.merge(this.config,x||{},{modes:["polar"]});var A=x.property||(B==="animate"?"end":"current");if(B==="animate"){this.fx.animation.pause();
}this.graph.eachNode(function(D){var C=D.getPos(A);C.theta+=y;if(C.theta<0){C.theta+=Math.PI*2;}});if(B=="animate"){this.fx.animate(w);}else{if(B=="replot"){this.fx.plot();this.busy=false;}}},plot:function(){this.fx.plot();}});$jit.Sunburst.$extend=true;(function(w){w.Op=new q({Implements:e.Op});w.Plot=new q({Implements:e.Plot});
w.Label={};w.Label.Native=new q({Implements:e.Label.Native,initialize:function(x){this.viz=x;this.label=x.config.Label;this.config=x.config;},renderLabel:function(C,E,G){var N=E.getData("span");if(N<Math.PI/2&&Math.tan(N)*this.config.levelDistance*E._depth<10){return;}var O=C.getCtx();var A=O.measureText(E.name);
if(E.id==this.viz.root){var M=-A.width/2,K=0,L=0;var z=0;}else{var D=5;var z=G.levelDistance-D;var J=E.pos.clone();J.rho+=D;var B=J.getp(true);var H=J.getc(true);var M=H.x,K=H.y;var F=Math.PI;var I=(B.theta>F/2&&B.theta<3*F/2);var L=I?B.theta+F:B.theta;if(I){M-=Math.abs(Math.cos(B.theta)*A.width);K+=Math.sin(B.theta)*A.width;
}else{if(E.id==this.viz.root){M-=A.width/2;}}}O.save();O.translate(M,K);O.rotate(L);O.fillText(E.name,0,0);O.restore();}});w.Label.SVG=new q({Implements:e.Label.SVG,initialize:function(x){this.viz=x;},placeLabel:function(N,C,E){var J=C.pos.getc(true),M=this.viz,A=this.viz.canvas;var F=A.getSize();var B={x:Math.round(J.x+F.width/2),y:Math.round(J.y+F.height/2)};
N.setAttribute("x",B.x);N.setAttribute("y",B.y);var G=N.getBBox();if(G){var L=N.getAttribute("x");var I=N.getAttribute("y");var z=C.pos.getp(true);var D=Math.PI;var H=(z.theta>D/2&&z.theta<3*D/2);if(H){N.setAttribute("x",L-G.width);N.setAttribute("y",I-G.height);}else{if(C.id==M.root){N.setAttribute("x",L-G.width/2);
}}var K=H?z.theta+D:z.theta;if(C._depth){N.setAttribute("transform","rotate("+K*360/(2*D)+" "+L+" "+I+")");}}E.onPlaceLabel(N,C);}});w.Label.HTML=new q({Implements:e.Label.HTML,initialize:function(x){this.viz=x;},placeLabel:function(G,A,C){var E=A.pos.clone(),y=this.viz.canvas,F=A.getData("height"),B=((F||A._depth==0)?F:this.viz.config.levelDistance)/2,D=y.getSize();
E.rho+=B;E=E.getc(true);var z={x:Math.round(E.x+D.width/2),y:Math.round(E.y+D.height/2)};var x=G.style;x.left=z.x+"px";x.top=z.y+"px";x.display=this.fitsInCanvas(z,y)?"":"none";C.onPlaceLabel(G,A);}});w.Plot.NodeTypes=new q({"none":{"render":c.empty,"contains":c.lambda(false),"anglecontains":function(B,D){var A=B.getData("span")/2,y=B.pos.theta;
var z=y-A,x=y+A;if(z<0){z+=Math.PI*2;}var C=Math.atan2(D.y,D.x);if(C<0){C+=Math.PI*2;}if(z>x){return(C>z&&C<=Math.PI*2)||C<x;}else{return C>z&&C<x;}}},"pie":{"render":function(C,A){var G=C.getData("span")/2,z=C.pos.theta;var B=z-G,D=z+G;var F=C.pos.getp(true);var x=new b(F.rho,B);var y=x.getc(true);x.theta=D;
var E=x.getc(true);var H=A.getCtx();H.beginPath();H.moveTo(0,0);H.lineTo(y.x,y.y);H.moveTo(0,0);H.lineTo(E.x,E.y);H.moveTo(0,0);H.arc(0,0,F.rho*C.getData("dim-quotient"),B,D,false);H.fill();},"contains":function(z,B){if(this.nodeTypes["none"].anglecontains.call(this,z,B)){var x=Math.sqrt(B.x*B.x+B.y*B.y);
var y=this.config.levelDistance,A=z._depth;return(x<=y*A);}return false;}},"multipie":{"render":function(D,B){var K=D.getData("height");var E=K?K:this.config.levelDistance;var J=D.getData("span")/2,A=D.pos.theta;var C=A-J,G=A+J;var I=D.pos.getp(true);var y=new b(I.rho,C);var z=y.getc(true);y.theta=G;
var H=y.getc(true);y.rho+=E;var x=y.getc(true);y.theta=C;var F=y.getc(true);var L=B.getCtx();L.moveTo(0,0);L.beginPath();L.arc(0,0,I.rho,C,G,false);L.arc(0,0,I.rho+E,G,C,true);L.moveTo(z.x,z.y);L.lineTo(F.x,F.y);L.moveTo(H.x,H.y);L.lineTo(x.x,x.y);L.fill();if(D.collapsed){L.save();L.lineWidth=2;L.moveTo(0,0);
L.beginPath();L.arc(0,0,I.rho+E+5,G-0.01,C+0.01,true);L.stroke();L.restore();}},"contains":function(A,D){if(this.nodeTypes["none"].anglecontains.call(this,A,D)){var y=Math.sqrt(D.x*D.x+D.y*D.y);var x=A.getData("height");var B=x?x:this.config.levelDistance;var z=this.config.levelDistance,C=A._depth;return(y>=z*C)&&(y<=(z*C+B));
}return false;}},"gradient-multipie":{"render":function(A,x){var F=x.getCtx();var E=A.getData("height");var B=E?E:this.config.levelDistance;var y=F.createRadialGradient(0,0,A.getPos().rho,0,0,A.getPos().rho+B);var D=c.hexToRgb(A.getData("color")),C=[];c.each(D,function(G){C.push(parseInt(G*0.5,10));});
var z=c.rgbToHex(C);y.addColorStop(0,z);y.addColorStop(1,A.getData("color"));F.fillStyle=y;this.nodeTypes["multipie"].render.call(this,A,x);},"contains":function(x,y){return this.nodeTypes["multipie"].contains.call(this,x,y);}},"gradient-pie":{"render":function(C,z){var x=z.getCtx();var D=x.createRadialGradient(0,0,0,0,0,C.getPos().rho);
var B=c.hexToRgb(C.getData("color")),y=[];c.each(B,function(E){y.push(parseInt(E*0.5,10));});var A=c.rgbToHex(y);D.addColorStop(1,A);D.addColorStop(0,C.getData("color"));x.fillStyle=D;this.nodeTypes["pie"].render.call(this,C,z);},"contains":function(x,y){return this.nodeTypes["pie"].contains.call(this,x,y);
}}});w.Plot.EdgeTypes=new q({"none":c.empty,"line":{"render":function(x,y){var A=x.nodeFrom.pos.getc(true),z=x.nodeTo.pos.getc(true);this.edgeHelper.line.render(A,z,y);},"contains":function(x,A){var z=x.nodeFrom.pos.getc(true),y=x.nodeTo.pos.getc(true);return this.edgeHelper.line.contains(z,y,A,this.edge.epsilon);
}},"arrow":{"render":function(y,z){var D=y.nodeFrom.pos.getc(true),C=y.nodeTo.pos.getc(true),B=y.getData("dim"),A=y.data.$direction,x=(A&&A.length>1&&A[0]!=y.nodeFrom.id);this.edgeHelper.arrow.render(D,C,B,x,z);},"contains":function(x,A){var z=x.nodeFrom.pos.getc(true),y=x.nodeTo.pos.getc(true);return this.edgeHelper.arrow.contains(z,y,A,this.edge.epsilon);
}},"hyperline":{"render":function(x,y){var B=x.nodeFrom.pos.getc(),A=x.nodeTo.pos.getc(),z=Math.max(B.norm(),A.norm());this.edgeHelper.hyperline.render(B.$scale(1/z),A.$scale(1/z),z,y);},"contains":c.lambda(false)}});})($jit.Sunburst);$jit.Sunburst.Plot.NodeTypes.implement({"piechart-stacked":{"render":function(U,A){var T=U.pos.getp(true),C=U.getData("dimArray"),S=U.getData("valueArray"),G=U.getData("colorArray"),z=G.length,M=U.getData("stringArray"),P=U.getData("span")/2,K=U.pos.theta,F=K-P,J=K+P,R=new b;
var N=A.getCtx(),L={},I=U.getData("gradient"),D=U.getData("border"),Z=U.getData("config"),ai=Z.showLabels,Y=Z.resizeLabels,ab=Z.Label;var ae=Z.sliceOffset*Math.cos((F+J)/2);var E=Z.sliceOffset*Math.sin((F+J)/2);if(G&&C&&M){for(var af=0,ac=C.length,w=0,X=0;af<ac;af++){var B=C[af],ag=G[af%z];if(B<=0){continue;
}N.fillStyle=N.strokeStyle=ag;if(I&&B){var ad=N.createRadialGradient(ae,E,w+Z.sliceOffset,ae,E,w+B+Z.sliceOffset);var x=c.hexToRgb(ag),W=c.map(x,function(al){return(al*0.8)>>0;}),y=c.rgbToHex(W);ad.addColorStop(0,ag);ad.addColorStop(0.5,ag);ad.addColorStop(1,y);N.fillStyle=ad;}R.rho=w+Z.sliceOffset;R.theta=F;
var ah=R.getc(true);R.theta=J;var O=R.getc(true);R.rho+=B;var aj=R.getc(true);R.theta=F;var Q=R.getc(true);N.beginPath();N.arc(ae,E,w+0.01,F,J,false);N.arc(ae,E,w+B+0.01,J,F,true);N.fill();if(D&&D.name==M[af]){L.acum=w;L.dimValue=C[af];L.begin=F;L.end=J;}w+=(B||0);X+=(S[af]||0);}if(D){N.save();N.globalCompositeOperation="source-over";
N.lineWidth=2;N.strokeStyle=D.color;var aa=F<J?1:-1;N.beginPath();N.arc(ae,E,L.acum+0.01+1,L.begin,L.end,false);N.arc(ae,E,L.acum+L.dimValue+0.01-1,L.end,L.begin,true);N.closePath();N.stroke();N.restore();}if(ai&&ab.type=="Native"){N.save();N.fillStyle=N.strokeStyle=ab.color;var V=Y?U.getData("normalizedDim"):1,H=(ab.size*V)>>0;
H=H<+Y?+Y:H;N.font=ab.style+" "+H+"px "+ab.family;N.textBaseline="middle";N.textAlign="center";R.rho=w+Z.labelOffset+Z.sliceOffset;R.theta=U.pos.theta;var ak=R.getc(true);N.fillText(U.name,ak.x,ak.y);N.restore();}}},"contains":function(z,D){if(this.nodeTypes["none"].anglecontains.call(this,z,D)){var F=Math.sqrt(D.x*D.x+D.y*D.y);
var w=this.config.levelDistance,C=z._depth;var x=z.getData("config");if(F<=w*C+x.sliceOffset){var G=z.getData("dimArray");for(var B=0,A=G.length,E=x.sliceOffset;B<A;B++){var y=G[B];if(F>=E&&F<=E+y){return{name:z.getData("stringArray")[B],color:z.getData("colorArray")[B],value:z.getData("valueArray")[B],label:z.name};
}E+=y;}}return false;}return false;}}});$jit.PieChart=new q({sb:null,colors:["#416D9C","#70A35E","#EBB056","#C74243","#83548B","#909291","#557EAA"],selected:{},busy:false,initialize:function(w){this.controller=this.config=c.merge(n("Canvas","PieChart","Label"),{Label:{type:"Native"}},w);this.initializeViz();
},initializeViz:function(){var x=this.config,B=this;var w=x.type.split(":")[0];var A=new $jit.Sunburst({injectInto:x.injectInto,width:x.width,height:x.height,useCanvas:x.useCanvas,withLabels:x.Label.type!="Native",Label:{type:x.Label.type},Node:{overridable:true,type:"piechart-"+w,width:1,height:1},Edge:{type:"none"},Tips:{enable:x.Tips.enable,type:"Native",force:true,onShow:function(F,E,C){var D=C;
x.Tips.onShow(F,D,E);}},Events:{enable:true,type:"Native",onClick:function(E,F,C){if(!x.Events.enable){return;}var D=F.getContains();x.Events.onClick(D,F,C);},onMouseMove:function(E,F,C){if(!x.hoveredColor){return;}if(E){var D=F.getContains();B.select(E.id,D.name,D.index);}else{B.select(false,false,false);
}}},onCreateLabel:function(F,E){var C=x.Label;if(x.showLabels){var D=F.style;D.fontSize=C.size+"px";D.fontFamily=C.family;D.color=C.color;D.textAlign="center";F.innerHTML=E.name;}},onPlaceLabel:function(S,M){if(!x.showLabels){return;}var G=M.pos.getp(true),J=M.getData("dimArray"),P=M.getData("span")/2,H=M.pos.theta,R=H-P,D=H+P,U=new b;
var L=x.showLabels,F=x.resizeLabels,I=x.Label;if(J){for(var Q=0,N=J.length,O=0;Q<N;Q++){O+=J[Q];}var T=F?M.getData("normalizedDim"):1,C=(I.size*T)>>0;C=C<+F?+F:C;S.style.fontSize=C+"px";U.rho=O+x.labelOffset+x.sliceOffset;U.theta=(R+D)/2;var G=U.getc(true);var E=B.canvas.getSize();var K={x:Math.round(G.x+E.width/2),y:Math.round(G.y+E.height/2)};
S.style.left=K.x+"px";S.style.top=K.y+"px";}}});var z=A.canvas.getSize(),y=Math.min;A.config.levelDistance=y(z.width,z.height)/2-x.offset-x.sliceOffset;this.delegate=A;this.canvas=this.delegate.canvas;this.canvas.getCtx().globalCompositeOperation="lighter";},loadJSON:function(K){var H=c.time(),B=[],J=this.delegate,N=c.splat(K.label),D=N.length,G=c.splat(K.color||this.colors),y=G.length,L=this.config,w=!!L.type.split(":")[1],z=L.animate,F=D==1;
for(var I=0,x=K.values,E=x.length;I<E;I++){var M=x[I];var A=c.splat(M.values);B.push({"id":H+M.label,"name":M.label,"data":{"value":A,"$valueArray":A,"$colorArray":F?c.splat(G[I%y]):G,"$stringArray":N,"$gradient":w,"$config":L,"$angularWidth":c.reduce(A,function(O,P){return O+P;})},"children":[]});}var C={"id":H+"$root","name":"","data":{"$type":"none","$width":1,"$height":1},"children":B};
J.loadJSON(C);this.normalizeDims();J.refresh();if(z){J.fx.animate({modes:["node-property:dimArray"],duration:1500});}},updateJSON:function(y,C){if(this.busy){return;}this.busy=true;var z=this.delegate;var B=z.graph;var x=y.values;var w=this.config.animate;var A=this;c.each(x,function(D){var F=B.getByName(D.label),E=c.splat(D.values);
if(F){F.setData("valueArray",E);F.setData("angularWidth",c.reduce(E,function(G,H){return G+H;}));if(y.label){F.setData("stringArray",c.splat(y.label));}}});this.normalizeDims();if(w){z.compute("end");z.fx.animate({modes:["node-property:dimArray:span","linear"],duration:1500,onComplete:function(){A.busy=false;
C&&C.onComplete();}});}else{z.refresh();}},select:function(y,w){if(!this.config.hoveredColor){return;}var x=this.selected;if(x.id!=y||x.name!=w){x.id=y;x.name=w;x.color=this.config.hoveredColor;this.delegate.graph.eachNode(function(z){if(y==z.id){z.setData("border",x);}else{z.setData("border",false);
}});this.delegate.plot();}},getLegend:function(){var y={};var z;this.delegate.graph.getNode(this.delegate.root).eachAdjacency(function(A){z=A.nodeTo;});var x=z.getData("colorArray"),w=x.length;c.each(z.getData("stringArray"),function(B,A){y[B]=x[A%w];});return y;},getMaxValue:function(){var w=0;this.delegate.graph.eachNode(function(z){var x=z.getData("valueArray"),y=0;
c.each(x,function(A){y+=+A;});w=w>y?w:y;});return w;},normalizeDims:function(){var x=this.delegate.graph.getNode(this.delegate.root),w=0;x.eachAdjacency(function(){w++;});var B=this.getMaxValue()||1,A=this.config,y=A.animate,z=this.delegate.config.levelDistance;this.delegate.graph.eachNode(function(G){var F=0,C=[];
c.each(G.getData("valueArray"),function(H){F+=+H;C.push(1);});var E=(C.length==1)&&!A.updateHeights;if(y){G.setData("dimArray",c.map(G.getData("valueArray"),function(H){return E?z:(H*z/B);}),"end");var D=G.getData("dimArray");if(!D){G.setData("dimArray",C);}}else{G.setData("dimArray",c.map(G.getData("valueArray"),function(H){return E?z:(H*z/B);
}));}G.setData("normalizedDim",F/B);});}});g.TM={};g.TM.SliceAndDice=new q({compute:function(B){var x=this.graph.getNode(this.clickedNode&&this.clickedNode.id||this.root);this.controller.onBeforeCompute(x);var z=this.canvas.getSize(),y=this.config,A=z.width,w=z.height;this.graph.computeLevels(this.root,0,"ignore");
x.getPos(B).setc(-A/2,-w/2);x.setData("width",A,B);x.setData("height",w+y.titleHeight,B);this.computePositions(x,x,this.layout.orientation,B);this.controller.onAfterCompute(x);},computePositions:function(F,D,P,y){var M=0;F.eachSubnode(function(R){M+=R.getData("area",y);});var Q=this.config,N=Q.offset,J=F.getData("width",y),H=Math.max(F.getData("height",y)-Q.titleHeight,0),x=F==D?1:(D.getData("area",y)/M);
var I,G,L,B,A,E,C;var O=(P=="h");if(O){P="v";I=H;G=J*x;L="height";B="y";A="x";E=Q.titleHeight;C=0;}else{P="h";I=H*x;G=J;L="width";B="x";A="y";E=0;C=Q.titleHeight;}var w=D.getPos(y);D.setData("width",G,y);D.setData("height",I,y);var K=0,z=this;D.eachSubnode(function(S){var R=S.getPos(y);R[B]=K+w[B]+E;
R[A]=w[A]+C;z.computePositions(D,S,P,y);K+=S.getData(L,y);});}});g.TM.Area={compute:function(w){w=w||"current";var C=this.graph.getNode(this.clickedNode&&this.clickedNode.id||this.root);this.controller.onBeforeCompute(C);var y=this.config,F=this.canvas.getSize(),x=F.width,E=F.height,D=y.offset,z=x-D,B=E-D;
this.graph.computeLevels(this.root,0,"ignore");C.getPos(w).setc(-x/2,-E/2);C.setData("width",x,w);C.setData("height",E,w);var A={"top":-E/2+y.titleHeight,"left":-x/2,"width":z,"height":B-y.titleHeight};this.computePositions(C,A,w);this.controller.onAfterCompute(C);},computeDim:function(B,C,E,A,z,x){if(B.length+C.length==1){var y=(B.length==1)?B:C;
this.layoutLast(y,E,A,x);return;}if(B.length>=2&&C.length==0){C=[B.shift()];}if(B.length==0){if(C.length>0){this.layoutRow(C,E,A,x);}return;}var D=B[0];if(z(C,E)>=z([D].concat(C),E)){this.computeDim(B.slice(1),C.concat([D]),E,A,z,x);}else{var F=this.layoutRow(C,E,A,x);this.computeDim(B,[],F.dim,F,z,x);
}},worstAspectRatio:function(x,F){if(!x||x.length==0){return Number.MAX_VALUE;}var y=0,G=0,B=Number.MAX_VALUE;for(var D=0,C=x.length;D<C;D++){var z=x[D]._area;y+=z;B=B<z?B:z;G=G>z?G:z;}var E=F*F,A=y*y;return Math.max(E*G/A,A/(E*B));},avgAspectRatio:function(B,y){if(!B||B.length==0){return Number.MAX_VALUE;
}var D=0;for(var z=0,x=B.length;z<x;z++){var C=B[z]._area;var A=C/y;D+=y>A?y/A:A/y;}return D/x;},layoutLast:function(y,x,B,A){var z=y[0];z.getPos(A).setc(B.left,B.top);z.setData("width",B.width,A);z.setData("height",B.height,A);}};g.TM.Squarified=new q({Implements:g.TM.Area,computePositions:function(A,D,x){var z=this.config,F=Math.max;
if(D.width>=D.height){this.layout.orientation="h";}else{this.layout.orientation="v";}var w=A.getSubnodes([1,1],"ignore");if(w.length>0){this.processChildrenLayout(A,w,D,x);for(var C=0,B=w.length;C<B;C++){var G=w[C],H=z.offset,I=F(G.getData("height",x)-H-z.titleHeight,0),y=F(G.getData("width",x)-H,0),E=G.getPos(x);
D={"width":y,"height":I,"top":E.y+z.titleHeight,"left":E.x};this.computePositions(G,D,x);}}},processChildrenLayout:function(G,w,C,x){var A=C.width*C.height;var B,y=w.length,D=0,H=[];for(B=0;B<y;B++){H[B]=parseFloat(w[B].getData("area",x));D+=H[B];}for(B=0;B<y;B++){w[B]._area=A*H[B]/D;}var z=this.layout.horizontal()?C.height:C.width;
w.sort(function(J,I){var K=I._area-J._area;return K?K:(I.id==J.id?0:(I.id<J.id?1:-1));});var F=[w[0]];var E=w.slice(1);this.squarify(E,F,z,C,x);},squarify:function(y,B,x,A,z){this.computeDim(y,B,x,A,this.worstAspectRatio,z);},layoutRow:function(y,x,A,z){if(this.layout.horizontal()){return this.layoutV(y,x,A,z);
}else{return this.layoutH(y,x,A,z);}},layoutV:function(x,I,E,y){var J=0,A=function(w){return w;};c.each(x,function(w){J+=w._area;});var z=A(J/I),F=0;for(var C=0,B=x.length;C<B;C++){var D=A(x[C]._area/z);var G=x[C];G.getPos(y).setc(E.left,E.top+F);G.setData("width",z,y);G.setData("height",D,y);F+=D;}var H={"height":E.height,"width":E.width-z,"top":E.top,"left":E.left+z};
H.dim=Math.min(H.width,H.height);if(H.dim!=H.height){this.layout.change();}return H;},layoutH:function(x,G,C,y){var I=0;c.each(x,function(w){I+=w._area;});var H=I/G,D=C.top,z=0;for(var B=0,A=x.length;B<A;B++){var E=x[B];var G=E._area/H;E.getPos(y).setc(C.left+z,D);E.setData("width",G,y);E.setData("height",H,y);
z+=G;}var F={"height":C.height-H,"width":C.width,"top":C.top+H,"left":C.left};F.dim=Math.min(F.width,F.height);if(F.dim!=F.width){this.layout.change();}return F;}});g.TM.Strip=new q({Implements:g.TM.Area,computePositions:function(A,D,x){var w=A.getSubnodes([1,1],"ignore"),z=this.config,F=Math.max;if(w.length>0){this.processChildrenLayout(A,w,D,x);
for(var C=0,B=w.length;C<B;C++){var G=w[C];var H=z.offset,I=F(G.getData("height",x)-H-z.titleHeight,0),y=F(G.getData("width",x)-H,0);var E=G.getPos(x);D={"width":y,"height":I,"top":E.y+z.titleHeight,"left":E.x};this.computePositions(G,D,x);}}},processChildrenLayout:function(G,w,B,x){var z=B.width*B.height;
var A,y=w.length,C=0,H=[];for(A=0;A<y;A++){H[A]=+w[A].getData("area",x);C+=H[A];}for(A=0;A<y;A++){w[A]._area=z*H[A]/C;}var F=this.layout.horizontal()?B.width:B.height;var E=[w[0]];var D=w.slice(1);this.stripify(D,E,F,B,x);},stripify:function(y,B,x,A,z){this.computeDim(y,B,x,A,this.avgAspectRatio,z);},layoutRow:function(y,x,A,z){if(this.layout.horizontal()){return this.layoutH(y,x,A,z);
}else{return this.layoutV(y,x,A,z);}},layoutV:function(x,G,D,y){var H=0;c.each(x,function(w){H+=w._area;});var z=H/G,E=0;for(var B=0,A=x.length;B<A;B++){var F=x[B];var C=F._area/z;F.getPos(y).setc(D.left,D.top+(G-C-E));F.setData("width",z,y);F.setData("height",C,y);E+=C;}return{"height":D.height,"width":D.width-z,"top":D.top,"left":D.left+z,"dim":G};
},layoutH:function(x,F,C,y){var H=0;c.each(x,function(w){H+=w._area;});var G=H/F,D=C.height-G,z=0;for(var B=0,A=x.length;B<A;B++){var E=x[B];var I=E._area/G;E.getPos(y).setc(C.left+z,C.top+D);E.setData("width",I,y);E.setData("height",G,y);z+=I;}return{"height":C.height-G,"width":C.width,"top":C.top,"left":C.left,"dim":F};
}});g.Icicle=new q({compute:function(E){E=E||"current";var D=this.graph.getNode(this.root),z=this.config,H=this.canvas.getSize(),w=H.width,G=H.height,A=z.offset,C=z.constrained?z.levelsToShow:Number.MAX_VALUE;this.controller.onBeforeCompute(D);e.Util.computeLevels(this.graph,D.id,0,"ignore");var F=0;
e.Util.eachLevel(D,0,false,function(J,I){if(I>F){F=I;}});var y=this.graph.getNode(this.clickedNode&&this.clickedNode.id||D.id);var x=Math.min(F,C-1);var B=y._depth;if(this.layout.horizontal()){this.computeSubtree(y,-w/2,-G/2,w/(x+1),G,B,x,E);}else{this.computeSubtree(y,-w/2,-G/2,w,G/(x+1),B,x,E);}},computeSubtree:function(G,I,F,w,L,E,A,H){G.getPos(H).setc(I,F);
G.setData("width",w,H);G.setData("height",L,H);var C,K=0,J=0;var z=e.Util.getSubnodes(G,[1,1],"ignore");if(!z.length){return;}c.each(z,function(x){J+=x.getData("dim");});for(var D=0,B=z.length;D<B;D++){if(this.layout.horizontal()){C=L*z[D].getData("dim")/J;this.computeSubtree(z[D],I+w,F,w,C,E,A,H);F+=C;
}else{C=w*z[D].getData("dim")/J;this.computeSubtree(z[D],I,F+L,C,L,E,A,H);I+=C;}}}});$jit.Icicle=new q({Implements:[d,o,g.Icicle],layout:{orientation:"h",vertical:function(){return this.orientation=="v";},horizontal:function(){return this.orientation=="h";},change:function(){this.orientation=this.vertical()?"h":"v";
}},initialize:function(w){var x={animate:false,orientation:"h",offset:2,levelsToShow:Number.MAX_VALUE,constrained:false,Node:{type:"rectangle",overridable:true},Edge:{type:"none"},Label:{type:"Native"},duration:700,fps:45};var z=n("Canvas","Node","Edge","Fx","Tips","NodeStyles","Events","Navigation","Controller","Label");
this.controller=this.config=c.merge(z,x,w);this.layout.orientation=this.config.orientation;var y=this.config;if(y.useCanvas){this.canvas=y.useCanvas;this.config.labelContainer=this.canvas.id+"-label";}else{this.canvas=new l(this,y);this.config.labelContainer=(typeof y.injectInto=="string"?y.injectInto:y.injectInto.id)+"-label";
}this.graphOptions={"klass":p,"Node":{"selected":false,"exist":true,"drawn":true}};this.graph=new e(this.graphOptions,this.config.Node,this.config.Edge,this.config.Label);this.labels=new $jit.Icicle.Label[this.config.Label.type](this);this.fx=new $jit.Icicle.Plot(this,$jit.Icicle);this.op=new $jit.Icicle.Op(this);
this.group=new $jit.Icicle.Group(this);this.clickedNode=null;this.initializeExtras();},refresh:function(){var w=this.config.Label.type;if(w!="Native"){var x=this;this.graph.eachNode(function(y){x.labels.hideLabel(y,false);});}this.compute();this.plot();},plot:function(){this.fx.plot(this.config);},enter:function(y){if(this.busy){return;
}this.busy=true;var x=this,w=this.config;var z={onComplete:function(){if(w.request){x.compute();}if(w.animate){x.graph.nodeList.setDataset(["current","end"],{"alpha":[1,0]});e.Util.eachSubgraph(y,function(A){A.setData("alpha",1,"end");},"ignore");x.fx.animate({duration:500,modes:["node-property:alpha"],onComplete:function(){x.clickedNode=y;
x.compute("end");x.fx.animate({modes:["linear","node-property:width:height"],duration:1000,onComplete:function(){x.busy=false;x.clickedNode=y;}});}});}else{x.clickedNode=y;x.busy=false;x.refresh();}}};if(w.request){this.requestNodes(clickedNode,z);}else{z.onComplete();}},out:function(){if(this.busy){return;
}var B=this,A=e.Util,y=this.config,D=this.graph,x=A.getParents(D.getNode(this.clickedNode&&this.clickedNode.id||this.root)),z=x[0],w=z,C=this.clickedNode;this.busy=true;this.events.hoveredNode=false;if(!z){this.busy=false;return;}callback={onComplete:function(){B.clickedNode=z;if(y.request){B.requestNodes(z,{onComplete:function(){B.compute();
B.plot();B.busy=false;}});}else{B.compute();B.plot();B.busy=false;}}};if(y.animate){this.clickedNode=w;this.compute("end");this.clickedNode=C;this.fx.animate({modes:["linear","node-property:width:height"],duration:1000,onComplete:function(){B.clickedNode=w;D.nodeList.setDataset(["current","end"],{"alpha":[0,1]});
A.eachSubgraph(C,function(E){E.setData("alpha",1);},"ignore");B.fx.animate({duration:500,modes:["node-property:alpha"],onComplete:function(){callback.onComplete();}});}});}else{callback.onComplete();}},requestNodes:function(y,z){var x=c.merge(this.controller,z),w=this.config.constrained?this.config.levelsToShow:Number.MAX_VALUE;
if(x.request){var B=[],A=y._depth;e.Util.eachLevel(y,0,w,function(C){if(C.drawn&&!e.Util.anySubnode(C)){B.push(C);C._level=C._depth-A;if(this.config.constrained){C._level=w-C._level;}}});this.group.requestNodes(B,x);}else{x.onComplete();}}});$jit.Icicle.Op=new q({Implements:e.Op});$jit.Icicle.Group=new q({initialize:function(w){this.viz=w;
this.canvas=w.canvas;this.config=w.config;},requestNodes:function(B,A){var z=0,x=B.length,D={};var y=function(){A.onComplete();};var w=this.viz;if(x==0){y();}for(var C=0;C<x;C++){D[B[C].id]=B[C];A.request(B[C].id,B[C]._level,{onComplete:function(F,E){if(E&&E.children){E.id=F;w.op.sum(E,{type:"nothing"});
}if(++z==x){e.Util.computeLevels(w.graph,w.root,0);y();}}});}}});$jit.Icicle.Plot=new q({Implements:e.Plot,plot:function(A,y){A=A||this.viz.controller;var w=this.viz,B=w.graph,x=B.getNode(w.clickedNode&&w.clickedNode.id||w.root),z=x._depth;w.canvas.clear();this.plotTree(x,c.merge(A,{"withLabels":true,"hideLabels":false,"plotSubtree":function(C,D){return !w.config.constrained||(D._depth-z<w.config.levelsToShow);
}}),y);}});$jit.Icicle.Label={};$jit.Icicle.Label.Native=new q({Implements:e.Label.Native,renderLabel:function(x,y,A){var D=x.getCtx(),w=y.getData("width"),C=y.getData("height"),E=y.getLabelData("size"),z=D.measureText(y.name);if(C<(E*1.5)||w<z.width){return;}var B=y.pos.getc(true);D.fillText(y.name,B.x+w/2,B.y+C/2);
}});$jit.Icicle.Label.SVG=new q({Implements:e.Label.SVG,initialize:function(w){this.viz=w;},placeLabel:function(x,A,y){var C=A.pos.getc(true),z=this.viz.canvas;var w=z.getSize();var B={x:Math.round(C.x+w.width/2),y:Math.round(C.y+w.height/2)};x.setAttribute("x",B.x);x.setAttribute("y",B.y);y.onPlaceLabel(x,A);
}});$jit.Icicle.Label.HTML=new q({Implements:e.Label.HTML,initialize:function(w){this.viz=w;},placeLabel:function(x,B,y){var D=B.pos.getc(true),z=this.viz.canvas;var w=z.getSize();var C={x:Math.round(D.x+w.width/2),y:Math.round(D.y+w.height/2)};var A=x.style;A.left=C.x+"px";A.top=C.y+"px";A.display="";
y.onPlaceLabel(x,B);}});$jit.Icicle.Plot.NodeTypes=new q({"none":{"render":c.empty},"rectangle":{"render":function(z,x,K){var y=this.viz.config;var C=y.offset;var w=z.getData("width");var H=z.getData("height");var B=z.getData("border");var G=z.pos.getc(true);var F=G.x+C/2,D=G.y+C/2;var J=x.getCtx();if(w-C<2||H-C<2){return;
}if(y.cushion){var A=z.getData("color");var I=J.createRadialGradient(F+(w-C)/2,D+(H-C)/2,1,F+(w-C)/2,D+(H-C)/2,w<H?H:w);var E=c.rgbToHex(c.map(c.hexToRgb(A),function(L){return L*0.3>>0;}));I.addColorStop(0,A);I.addColorStop(1,E);J.fillStyle=I;}if(B){J.strokeStyle=B;J.lineWidth=3;}J.fillRect(F,D,Math.max(0,w-C),Math.max(0,H-C));
B&&J.strokeRect(G.x,G.y,w,H);},"contains":function(y,A){if(this.viz.clickedNode&&!$jit.Graph.Util.isDescendantOf(y,this.viz.clickedNode.id)){return false;}var z=y.pos.getc(true),x=y.getData("width"),w=y.getData("height");return this.nodeHelper.rectangle.contains({x:z.x+x/2,y:z.y+w/2},A,x,w);}}});$jit.Icicle.Plot.EdgeTypes=new q({"none":c.empty});
g.ForceDirected=new q({getOptions:function(D){var B=this.canvas.getSize();var y=B.width,A=B.height;var C=0;this.graph.eachNode(function(w){C++;});var E=y*A/C,z=Math.sqrt(E);var x=this.config.levelDistance;return{width:y,height:A,tstart:y*0.1,nodef:function(w){return E/(w||1);},edgef:function(w){return z*(w-x);
}};},compute:function(x,y){var z=c.splat(x||["current","start","end"]);var w=this.getOptions();f.compute(this.graph,z,this.config);this.graph.computeLevels(this.root,0,"ignore");this.graph.eachNode(function(A){c.each(z,function(B){var C=A.getPos(B);if(C.equals(p.KER)){C.x=w.width/5*(Math.random()-0.5);
C.y=w.height/5*(Math.random()-0.5);}A.disp={};c.each(z,function(D){A.disp[D]=r(0,0);});});});this.computePositions(z,w,y);},computePositions:function(A,y,B){var C=this.config.iterations,x=0,z=this;if(B){(function w(){for(var E=B.iter,D=0;D<E;D++){y.t=y.tstart;if(C){y.t*=(1-x++/(C-1));}z.computePositionStep(A,y);
if(C&&x>=C){B.onComplete();return;}}B.onStep(Math.round(x/(C-1)*100));setTimeout(w,1);})();}else{for(;x<C;x++){y.t=y.tstart*(1-x/(C-1));this.computePositionStep(A,y);}}},computePositionStep:function(D,w){var E=this.graph;var y=Math.min,C=Math.max;var B=r(0,0);E.eachNode(function(G){c.each(D,function(H){G.disp[H].x=0;
G.disp[H].y=0;});E.eachNode(function(H){if(H.id!=G.id){c.each(D,function(L){var J=G.getPos(L),I=H.getPos(L);B.x=J.x-I.x;B.y=J.y-I.y;var K=B.norm()||1;G.disp[L].$add(B.$scale(w.nodef(K)/K));});}});});var x=!!E.getNode(this.root).visited;E.eachNode(function(G){G.eachAdjacency(function(H){var I=H.nodeTo;
if(!!I.visited===x){c.each(D,function(M){var K=G.getPos(M),J=I.getPos(M);B.x=K.x-J.x;B.y=K.y-J.y;var L=B.norm()||1;G.disp[M].$add(B.$scale(-w.edgef(L)/L));I.disp[M].$add(B.$scale(-1));});}});G.visited=!x;});var F=w.t,z=w.width/2,A=w.height/2;E.eachNode(function(G){c.each(D,function(J){var H=G.disp[J];
var I=H.norm()||1;var J=G.getPos(J);J.$add(r(H.x*y(Math.abs(H.x),F)/I,H.y*y(Math.abs(H.y),F)/I));J.x=y(z,C(-z,J.x));J.y=y(A,C(-A,J.y));});});}});$jit.ForceDirected=new q({Implements:[d,o,g.ForceDirected],initialize:function(x){var w=$jit.ForceDirected;var y={iterations:50,levelDistance:50};this.controller=this.config=c.merge(n("Canvas","Node","Edge","Fx","Tips","NodeStyles","Events","Navigation","Controller","Label"),y,x);
var z=this.config;if(z.useCanvas){this.canvas=z.useCanvas;this.config.labelContainer=this.canvas.id+"-label";}else{if(z.background){z.background=c.merge({type:"Circles"},z.background);}this.canvas=new l(this,z);this.config.labelContainer=(typeof z.injectInto=="string"?z.injectInto:z.injectInto.id)+"-label";
}this.graphOptions={"klass":p,"Node":{"selected":false,"exist":true,"drawn":true}};this.graph=new e(this.graphOptions,this.config.Node,this.config.Edge);this.labels=new w.Label[z.Label.type](this);this.fx=new w.Plot(this,w);this.op=new w.Op(this);this.json=null;this.busy=false;this.initializeExtras();
},refresh:function(){this.compute();this.plot();},reposition:function(){this.compute("end");},computeIncremental:function(w){w=c.merge({iter:20,property:"end",onStep:c.empty,onComplete:c.empty},w||{});this.config.onBeforeCompute(this.graph.getNode(this.root));this.compute(w.property,w);},plot:function(){this.fx.plot();
},animate:function(w){this.fx.animate(c.merge({modes:["linear"]},w||{}));}});$jit.ForceDirected.$extend=true;(function(w){w.Op=new q({Implements:e.Op});w.Plot=new q({Implements:e.Plot});w.Label={};w.Label.Native=new q({Implements:e.Label.Native});w.Label.SVG=new q({Implements:e.Label.SVG,initialize:function(x){this.viz=x;
},placeLabel:function(H,B,C){var F=B.pos.getc(true),y=this.viz.canvas,z=y.translateOffsetX,x=y.translateOffsetY,G=y.scaleOffsetX,E=y.scaleOffsetY,D=y.getSize();var A={x:Math.round(F.x*G+z+D.width/2),y:Math.round(F.y*E+x+D.height/2)};H.setAttribute("x",A.x);H.setAttribute("y",A.y);C.onPlaceLabel(H,B);
}});w.Label.HTML=new q({Implements:e.Label.HTML,initialize:function(x){this.viz=x;},placeLabel:function(I,C,D){var G=C.pos.getc(true),z=this.viz.canvas,A=z.translateOffsetX,y=z.translateOffsetY,H=z.scaleOffsetX,F=z.scaleOffsetY,E=z.getSize();var B={x:Math.round(G.x*H+A+E.width/2),y:Math.round(G.y*F+y+E.height/2)};
var x=I.style;x.left=B.x+"px";x.top=B.y+"px";x.display=this.fitsInCanvas(B,z)?"":"none";D.onPlaceLabel(I,C);}});w.Plot.NodeTypes=new q({"none":{"render":c.empty,"contains":c.lambda(false)},"circle":{"render":function(y,x){var A=y.pos.getc(true),z=y.getData("dim");this.nodeHelper.circle.render("fill",A,z,x);
},"contains":function(x,A){var z=x.pos.getc(true),y=x.getData("dim");return this.nodeHelper.circle.contains(z,A,y);}},"ellipse":{"render":function(A,y){var B=A.pos.getc(true),z=A.getData("width"),x=A.getData("height");this.nodeHelper.ellipse.render("fill",B,z,x,y);},"contains":function(z,B){var A=z.pos.getc(true),y=z.getData("width"),x=z.getData("height");
return this.nodeHelper.ellipse.contains(A,B,y,x);}},"square":{"render":function(y,x){var A=y.pos.getc(true),z=y.getData("dim");this.nodeHelper.square.render("fill",A,z,x);},"contains":function(x,A){var z=x.pos.getc(true),y=x.getData("dim");return this.nodeHelper.square.contains(z,A,y);}},"rectangle":{"render":function(A,y){var B=A.pos.getc(true),z=A.getData("width"),x=A.getData("height");
this.nodeHelper.rectangle.render("fill",B,z,x,y);},"contains":function(z,B){var A=z.pos.getc(true),y=z.getData("width"),x=z.getData("height");return this.nodeHelper.rectangle.contains(A,B,y,x);}},"triangle":{"render":function(y,x){var A=y.pos.getc(true),z=y.getData("dim");this.nodeHelper.triangle.render("fill",A,z,x);
},"contains":function(x,A){var z=x.pos.getc(true),y=x.getData("dim");return this.nodeHelper.triangle.contains(z,A,y);}},"star":{"render":function(y,x){var A=y.pos.getc(true),z=y.getData("dim");this.nodeHelper.star.render("fill",A,z,x);},"contains":function(x,A){var z=x.pos.getc(true),y=x.getData("dim");
return this.nodeHelper.star.contains(z,A,y);}}});w.Plot.EdgeTypes=new q({"none":c.empty,"line":{"render":function(x,y){var A=x.nodeFrom.pos.getc(true),z=x.nodeTo.pos.getc(true);this.edgeHelper.line.render(A,z,y);},"contains":function(x,A){var z=x.nodeFrom.pos.getc(true),y=x.nodeTo.pos.getc(true);return this.edgeHelper.line.contains(z,y,A,this.edge.epsilon);
}},"arrow":{"render":function(y,z){var D=y.nodeFrom.pos.getc(true),C=y.nodeTo.pos.getc(true),B=y.getData("dim"),A=y.data.$direction,x=(A&&A.length>1&&A[0]!=y.nodeFrom.id);this.edgeHelper.arrow.render(D,C,B,x,z);},"contains":function(x,A){var z=x.nodeFrom.pos.getc(true),y=x.nodeTo.pos.getc(true);return this.edgeHelper.arrow.contains(z,y,A,this.edge.epsilon);
}}});})($jit.ForceDirected);$jit.TM={};var v=$jit.TM;$jit.TM.$extend=true;v.Base={layout:{orientation:"h",vertical:function(){return this.orientation=="v";},horizontal:function(){return this.orientation=="h";},change:function(){this.orientation=this.vertical()?"h":"v";}},initialize:function(w){var x={orientation:"h",titleHeight:13,offset:2,levelsToShow:0,constrained:false,animate:false,Node:{type:"rectangle",overridable:true,width:3,height:3,color:"#444"},Label:{textAlign:"center",textBaseline:"top"},Edge:{type:"none"},duration:700,fps:45};
this.controller=this.config=c.merge(n("Canvas","Node","Edge","Fx","Controller","Tips","NodeStyles","Events","Navigation","Label"),x,w);this.layout.orientation=this.config.orientation;var y=this.config;if(y.useCanvas){this.canvas=y.useCanvas;this.config.labelContainer=this.canvas.id+"-label";}else{if(y.background){y.background=c.merge({type:"Circles"},y.background);
}this.canvas=new l(this,y);this.config.labelContainer=(typeof y.injectInto=="string"?y.injectInto:y.injectInto.id)+"-label";}this.graphOptions={"klass":p,"Node":{"selected":false,"exist":true,"drawn":true}};this.graph=new e(this.graphOptions,this.config.Node,this.config.Edge);this.labels=new v.Label[y.Label.type](this);
this.fx=new v.Plot(this);this.op=new v.Op(this);this.group=new v.Group(this);this.geom=new v.Geom(this);this.clickedNode=null;this.busy=false;this.initializeExtras();},refresh:function(){if(this.busy){return;}this.busy=true;var x=this;if(this.config.animate){this.compute("end");this.config.levelsToShow>0&&this.geom.setRightLevelToShow(this.graph.getNode(this.clickedNode&&this.clickedNode.id||this.root));
this.fx.animate(c.merge(this.config,{modes:["linear","node-property:width:height"],onComplete:function(){x.busy=false;}}));}else{var w=this.config.Label.type;if(w!="Native"){var x=this;this.graph.eachNode(function(y){x.labels.hideLabel(y,false);});}this.busy=false;this.compute();this.config.levelsToShow>0&&this.geom.setRightLevelToShow(this.graph.getNode(this.clickedNode&&this.clickedNode.id||this.root));
this.plot();}},plot:function(){this.fx.plot();},leaf:function(w){return w.getSubnodes([1,1],"ignore").length==0;},enter:function(C){if(this.busy){return;}this.busy=true;var y=this,x=this.config,A=this.graph,w=C,z=this.clickedNode;var B={onComplete:function(){if(x.levelsToShow>0){y.geom.setRightLevelToShow(C);
}if(x.levelsToShow>0||x.request){y.compute();}if(x.animate){A.nodeList.setData("alpha",0,"end");C.eachSubgraph(function(D){D.setData("alpha",1,"end");},"ignore");y.fx.animate({duration:500,modes:["node-property:alpha"],onComplete:function(){y.clickedNode=w;y.compute("end");y.clickedNode=z;y.fx.animate({modes:["linear","node-property:width:height"],duration:1000,onComplete:function(){y.busy=false;
y.clickedNode=w;}});}});}else{y.busy=false;y.clickedNode=C;y.refresh();}}};if(x.request){this.requestNodes(w,B);}else{B.onComplete();}},out:function(){if(this.busy){return;}this.busy=true;this.events.hoveredNode=false;var A=this,y=this.config,C=this.graph,x=C.getNode(this.clickedNode&&this.clickedNode.id||this.root).getParents(),z=x[0],w=z,B=this.clickedNode;
if(!z){this.busy=false;return;}callback={onComplete:function(){A.clickedNode=z;if(y.request){A.requestNodes(z,{onComplete:function(){A.compute();A.plot();A.busy=false;}});}else{A.compute();A.plot();A.busy=false;}}};if(y.levelsToShow>0){this.geom.setRightLevelToShow(z);}if(y.animate){this.clickedNode=w;
this.compute("end");this.clickedNode=B;this.fx.animate({modes:["linear","node-property:width:height"],duration:1000,onComplete:function(){A.clickedNode=w;C.eachNode(function(D){D.setDataset(["current","end"],{"alpha":[0,1]});},"ignore");B.eachSubgraph(function(D){D.setData("alpha",1);},"ignore");A.fx.animate({duration:500,modes:["node-property:alpha"],onComplete:function(){callback.onComplete();
}});}});}else{callback.onComplete();}},requestNodes:function(y,z){var x=c.merge(this.controller,z),w=this.config.levelsToShow;if(x.request){var B=[],A=y._depth;y.eachLevel(0,w,function(D){var C=w-(D._depth-A);if(D.drawn&&!D.anySubnode()&&C>0){B.push(D);D._level=C;}});this.group.requestNodes(B,x);}else{x.onComplete();
}},reposition:function(){this.compute("end");}};v.Op=new q({Implements:e.Op,initialize:function(w){this.viz=w;}});v.Geom=new q({Implements:e.Geom,getRightLevelToShow:function(){return this.viz.config.levelsToShow;},setRightLevelToShow:function(x){var y=this.getRightLevelToShow(),w=this.viz.labels;x.eachLevel(0,y+1,function(A){var z=A._depth-x._depth;
if(z>y){A.drawn=false;A.exist=false;A.ignore=true;w.hideLabel(A,false);}else{A.drawn=true;A.exist=true;delete A.ignore;}});x.drawn=true;delete x.ignore;}});v.Group=new q({initialize:function(w){this.viz=w;this.canvas=w.canvas;this.config=w.config;},requestNodes:function(B,A){var z=0,x=B.length,D={};var y=function(){A.onComplete();
};var w=this.viz;if(x==0){y();}for(var C=0;C<x;C++){D[B[C].id]=B[C];A.request(B[C].id,B[C]._level,{onComplete:function(F,E){if(E&&E.children){E.id=F;w.op.sum(E,{type:"nothing"});}if(++z==x){w.graph.computeLevels(w.root,0);y();}}});}}});v.Plot=new q({Implements:e.Plot,initialize:function(w){this.viz=w;
this.config=w.config;this.node=this.config.Node;this.edge=this.config.Edge;this.animation=new u;this.nodeTypes=new v.Plot.NodeTypes;this.edgeTypes=new v.Plot.EdgeTypes;this.labels=w.labels;},plot:function(y,x){var w=this.viz,z=w.graph;w.canvas.clear();this.plotTree(z.getNode(w.clickedNode&&w.clickedNode.id||w.root),c.merge(w.config,y||{},{"withLabels":true,"hideLabels":false,"plotSubtree":function(B,A){return B.anySubnode("exist");
}}),x);}});v.Label={};v.Label.Native=new q({Implements:e.Label.Native,initialize:function(w){this.config=w.config;this.leaf=w.leaf;},renderLabel:function(z,A,B){if(!this.leaf(A)&&!this.config.titleHeight){return;}var D=A.pos.getc(true),G=z.getCtx(),w=A.getData("width"),F=A.getData("height"),E=D.x+w/2,C=D.y;
G.fillText(A.name,E,C,w);}});v.Label.SVG=new q({Implements:e.Label.SVG,initialize:function(w){this.viz=w;this.leaf=w.leaf;this.config=w.config;},placeLabel:function(G,A,B){var E=A.pos.getc(true),x=this.viz.canvas,y=x.translateOffsetX,w=x.translateOffsetY,F=x.scaleOffsetX,D=x.scaleOffsetY,C=x.getSize();
var z={x:Math.round(E.x*F+y+C.width/2),y:Math.round(E.y*D+w+C.height/2)};G.setAttribute("x",z.x);G.setAttribute("y",z.y);if(!this.leaf(A)&&!this.config.titleHeight){G.style.display="none";}B.onPlaceLabel(G,A);}});v.Label.HTML=new q({Implements:e.Label.HTML,initialize:function(w){this.viz=w;this.leaf=w.leaf;
this.config=w.config;},placeLabel:function(H,B,C){var F=B.pos.getc(true),y=this.viz.canvas,z=y.translateOffsetX,x=y.translateOffsetY,G=y.scaleOffsetX,E=y.scaleOffsetY,D=y.getSize();var A={x:Math.round(F.x*G+z+D.width/2),y:Math.round(F.y*E+x+D.height/2)};var w=H.style;w.left=A.x+"px";w.top=A.y+"px";w.width=B.getData("width")*G+"px";
w.height=B.getData("height")*E+"px";w.zIndex=B._depth*100;w.display="";if(!this.leaf(B)&&!this.config.titleHeight){H.style.display="none";}C.onPlaceLabel(H,B);}});v.Plot.NodeTypes=new q({"none":{"render":c.empty},"rectangle":{"render":function(z,x,M){var D=this.viz.leaf(z),y=this.config,I=y.offset,C=y.titleHeight,H=z.pos.getc(true),w=z.getData("width"),J=z.getData("height"),B=z.getData("border"),L=x.getCtx(),G=H.x+I/2,E=H.y+I/2;
if(w<=I||J<=I){return;}if(D){if(y.cushion){var K=L.createRadialGradient(G+(w-I)/2,E+(J-I)/2,1,G+(w-I)/2,E+(J-I)/2,w<J?J:w);var A=z.getData("color");var F=c.rgbToHex(c.map(c.hexToRgb(A),function(N){return N*0.2>>0;}));K.addColorStop(0,A);K.addColorStop(1,F);L.fillStyle=K;}L.fillRect(G,E,w-I,J-I);if(B){L.save();
L.strokeStyle=B;L.strokeRect(G,E,w-I,J-I);L.restore();}}else{if(C>0){L.fillRect(H.x+I/2,H.y+I/2,w-I,C-I);if(B){L.save();L.strokeStyle=B;L.strokeRect(H.x+I/2,H.y+I/2,w-I,J-I);L.restore();}}}},"contains":function(z,B){if(this.viz.clickedNode&&!z.isDescendantOf(this.viz.clickedNode.id)||z.ignore){return false;
}var A=z.pos.getc(true),y=z.getData("width"),x=this.viz.leaf(z),w=x?z.getData("height"):this.config.titleHeight;return this.nodeHelper.rectangle.contains({x:A.x+y/2,y:A.y+w/2},B,y,w);}}});v.Plot.EdgeTypes=new q({"none":c.empty});v.SliceAndDice=new q({Implements:[d,o,v.Base,g.TM.SliceAndDice]});v.Squarified=new q({Implements:[d,o,v.Base,g.TM.Squarified]});
v.Strip=new q({Implements:[d,o,v.Base,g.TM.Strip]});$jit.RGraph=new q({Implements:[d,o,g.Radial],initialize:function(w){var x=$jit.RGraph;var y={interpolation:"linear",levelDistance:100};this.controller=this.config=c.merge(n("Canvas","Node","Edge","Fx","Controller","Tips","NodeStyles","Events","Navigation","Label"),y,w);
var z=this.config;if(z.useCanvas){this.canvas=z.useCanvas;this.config.labelContainer=this.canvas.id+"-label";}else{if(z.background){z.background=c.merge({type:"Circles"},z.background);}this.canvas=new l(this,z);this.config.labelContainer=(typeof z.injectInto=="string"?z.injectInto:z.injectInto.id)+"-label";
}this.graphOptions={"klass":b,"Node":{"selected":false,"exist":true,"drawn":true}};this.graph=new e(this.graphOptions,this.config.Node,this.config.Edge);this.labels=new x.Label[z.Label.type](this);this.fx=new x.Plot(this,x);this.op=new x.Op(this);this.json=null;this.root=null;this.busy=false;this.parent=false;
this.initializeExtras();},createLevelDistanceFunc:function(){var w=this.config.levelDistance;return function(x){return(x._depth+1)*w;};},refresh:function(){this.compute();this.plot();},reposition:function(){this.compute("end");},plot:function(){this.fx.plot();},getNodeAndParentAngle:function(D){var y=false;
var C=this.graph.getNode(D);var A=C.getParents();var z=(A.length>0)?A[0]:false;if(z){var w=z.pos.getc(),B=C.pos.getc();var x=w.add(B.scale(-1));y=Math.atan2(x.y,x.x);if(y<0){y+=2*Math.PI;}}return{parent:z,theta:y};},tagChildren:function(A,C){if(A.angleSpan){var B=[];A.eachAdjacency(function(D){B.push(D.nodeTo);
},"ignore");var w=B.length;for(var z=0;z<w&&C!=B[z].id;z++){}for(var y=(z+1)%w,x=0;C!=B[y].id;y=(y+1)%w){B[y].dist=x++;}}},onClick:function(B,x){if(this.root!=B&&!this.busy){this.busy=true;this.root=B;var y=this;this.controller.onBeforeCompute(this.graph.getNode(B));var z=this.getNodeAndParentAngle(B);
this.tagChildren(z.parent,B);this.parent=z.parent;this.compute("end");var w=z.theta-z.parent.endPos.theta;this.graph.eachNode(function(C){C.endPos.set(C.endPos.getp().add(k(w,0)));});var A=this.config.interpolation;x=c.merge({onComplete:c.empty},x||{});this.fx.animate(c.merge({hideLabels:true,modes:[A]},x,{onComplete:function(){y.busy=false;
x.onComplete();}}));}}});$jit.RGraph.$extend=true;(function(w){w.Op=new q({Implements:e.Op});w.Plot=new q({Implements:e.Plot});w.Label={};w.Label.Native=new q({Implements:e.Label.Native});w.Label.SVG=new q({Implements:e.Label.SVG,initialize:function(x){this.viz=x;},placeLabel:function(H,B,C){var F=B.pos.getc(true),y=this.viz.canvas,z=y.translateOffsetX,x=y.translateOffsetY,G=y.scaleOffsetX,E=y.scaleOffsetY,D=y.getSize();
var A={x:Math.round(F.x*G+z+D.width/2),y:Math.round(F.y*E+x+D.height/2)};H.setAttribute("x",A.x);H.setAttribute("y",A.y);C.onPlaceLabel(H,B);}});w.Label.HTML=new q({Implements:e.Label.HTML,initialize:function(x){this.viz=x;},placeLabel:function(I,C,D){var G=C.pos.getc(true),z=this.viz.canvas,A=z.translateOffsetX,y=z.translateOffsetY,H=z.scaleOffsetX,F=z.scaleOffsetY,E=z.getSize();
var B={x:Math.round(G.x*H+A+E.width/2),y:Math.round(G.y*F+y+E.height/2)};var x=I.style;x.left=B.x+"px";x.top=B.y+"px";x.display=this.fitsInCanvas(B,z)?"":"none";D.onPlaceLabel(I,C);}});w.Plot.NodeTypes=new q({"none":{"render":c.empty,"contains":c.lambda(false)},"circle":{"render":function(y,x){var A=y.pos.getc(true),z=y.getData("dim");
this.nodeHelper.circle.render("fill",A,z,x);},"contains":function(x,A){var z=x.pos.getc(true),y=x.getData("dim");return this.nodeHelper.circle.contains(z,A,y);}},"ellipse":{"render":function(A,y){var B=A.pos.getc(true),z=A.getData("width"),x=A.getData("height");this.nodeHelper.ellipse.render("fill",B,z,x,y);
},"contains":function(z,B){var A=z.pos.getc(true),y=z.getData("width"),x=z.getData("height");return this.nodeHelper.ellipse.contains(A,B,y,x);}},"square":{"render":function(y,x){var A=y.pos.getc(true),z=y.getData("dim");this.nodeHelper.square.render("fill",A,z,x);},"contains":function(x,A){var z=x.pos.getc(true),y=x.getData("dim");
return this.nodeHelper.square.contains(z,A,y);}},"rectangle":{"render":function(A,y){var B=A.pos.getc(true),z=A.getData("width"),x=A.getData("height");this.nodeHelper.rectangle.render("fill",B,z,x,y);},"contains":function(z,B){var A=z.pos.getc(true),y=z.getData("width"),x=z.getData("height");return this.nodeHelper.rectangle.contains(A,B,y,x);
}},"triangle":{"render":function(y,x){var A=y.pos.getc(true),z=y.getData("dim");this.nodeHelper.triangle.render("fill",A,z,x);},"contains":function(x,A){var z=x.pos.getc(true),y=x.getData("dim");return this.nodeHelper.triangle.contains(z,A,y);}},"star":{"render":function(y,x){var A=y.pos.getc(true),z=y.getData("dim");
this.nodeHelper.star.render("fill",A,z,x);},"contains":function(x,A){var z=x.pos.getc(true),y=x.getData("dim");return this.nodeHelper.star.contains(z,A,y);}}});w.Plot.EdgeTypes=new q({"none":c.empty,"line":{"render":function(x,y){var A=x.nodeFrom.pos.getc(true),z=x.nodeTo.pos.getc(true);this.edgeHelper.line.render(A,z,y);
},"contains":function(x,A){var z=x.nodeFrom.pos.getc(true),y=x.nodeTo.pos.getc(true);return this.edgeHelper.line.contains(z,y,A,this.edge.epsilon);}},"arrow":{"render":function(y,z){var D=y.nodeFrom.pos.getc(true),C=y.nodeTo.pos.getc(true),B=y.getData("dim"),A=y.data.$direction,x=(A&&A.length>1&&A[0]!=y.nodeFrom.id);
this.edgeHelper.arrow.render(D,C,B,x,z);},"contains":function(x,A){var z=x.nodeFrom.pos.getc(true),y=x.nodeTo.pos.getc(true);return this.edgeHelper.arrow.contains(z,y,A,this.edge.epsilon);}}});})($jit.RGraph);p.prototype.moebiusTransformation=function(y){var w=this.add(y);var x=y.$conjugate().$prod(this);
x.x++;return w.$div(x);};e.Util.moebiusTransformation=function(y,A,z,x,w){this.eachNode(y,function(C){for(var B=0;B<z.length;B++){var E=A[B].scale(-1),D=x?x:z[B];C.getPos(z[B]).set(C.getPos(D).getc().moebiusTransformation(E));}},w);};$jit.Hypertree=new q({Implements:[d,o,g.Radial],initialize:function(w){var z=$jit.Hypertree;
var x={radius:"auto",offset:0,Edge:{type:"hyperline"},duration:1500,fps:35};this.controller=this.config=c.merge(n("Canvas","Node","Edge","Fx","Tips","NodeStyles","Events","Navigation","Controller","Label"),x,w);var y=this.config;if(y.useCanvas){this.canvas=y.useCanvas;this.config.labelContainer=this.canvas.id+"-label";
}else{if(y.background){y.background=c.merge({type:"Circles"},y.background);}this.canvas=new l(this,y);this.config.labelContainer=(typeof y.injectInto=="string"?y.injectInto:y.injectInto.id)+"-label";}this.graphOptions={"klass":b,"Node":{"selected":false,"exist":true,"drawn":true}};this.graph=new e(this.graphOptions,this.config.Node,this.config.Edge);
this.labels=new z.Label[y.Label.type](this);this.fx=new z.Plot(this,z);this.op=new z.Op(this);this.json=null;this.root=null;this.busy=false;this.initializeExtras();},createLevelDistanceFunc:function(){var A=this.getRadius();var C=0,w=Math.max,x=this.config;this.graph.eachNode(function(D){C=w(D._depth,C);
},"ignore");C++;var B=function(D){return function(F){F.scale=A;var H=F._depth+1;var G=0,E=Math.pow;while(H){G+=E(D,H--);}return G-x.offset;};};for(var z=0.51;z<=1;z+=0.01){var y=(1-Math.pow(z,C))/(1-z);if(y>=2){return B(z-0.01);}}return B(0.75);},getRadius:function(){var w=this.config.radius;if(w!=="auto"){return w;
}var x=this.canvas.getSize();return Math.min(x.width,x.height)/2;},refresh:function(w){if(w){this.reposition();this.graph.eachNode(function(x){x.startPos.rho=x.pos.rho=x.endPos.rho;x.startPos.theta=x.pos.theta=x.endPos.theta;});}else{this.compute();}this.plot();},reposition:function(){this.compute("end");
var w=this.graph.getNode(this.root).pos.getc().scale(-1);e.Util.moebiusTransformation(this.graph,[w],["end"],"end","ignore");this.graph.eachNode(function(x){if(x.ignore){x.endPos.rho=x.pos.rho;x.endPos.theta=x.pos.theta;}});},plot:function(){this.fx.plot();},onClick:function(y,w){var x=this.graph.getNode(y).pos.getc(true);
this.move(x,w);},move:function(A,y){var x=r(A.x,A.y);if(this.busy===false&&x.norm()<1){this.busy=true;var w=this.graph.getClosestNodeToPos(x),z=this;this.graph.computeLevels(w.id,0);this.controller.onBeforeCompute(w);y=c.merge({onComplete:c.empty},y||{});this.fx.animate(c.merge({modes:["moebius"],hideLabels:true},y,{onComplete:function(){z.busy=false;
y.onComplete();}}),x);}}});$jit.Hypertree.$extend=true;(function(w){w.Op=new q({Implements:e.Op});w.Plot=new q({Implements:e.Plot});w.Label={};w.Label.Native=new q({Implements:e.Label.Native,initialize:function(x){this.viz=x;},renderLabel:function(z,B,y){var x=z.getCtx();var C=B.pos.getc(true);var A=this.viz.getRadius();
x.fillText(B.name,C.x*A,C.y*A);}});w.Label.SVG=new q({Implements:e.Label.SVG,initialize:function(x){this.viz=x;},placeLabel:function(I,C,D){var G=C.pos.getc(true),z=this.viz.canvas,A=z.translateOffsetX,y=z.translateOffsetY,H=z.scaleOffsetX,F=z.scaleOffsetY,E=z.getSize(),x=this.viz.getRadius();var B={x:Math.round((G.x*H)*x+A+E.width/2),y:Math.round((G.y*F)*x+y+E.height/2)};
I.setAttribute("x",B.x);I.setAttribute("y",B.y);D.onPlaceLabel(I,C);}});w.Label.HTML=new q({Implements:e.Label.HTML,initialize:function(x){this.viz=x;},placeLabel:function(J,D,E){var H=D.pos.getc(true),A=this.viz.canvas,B=A.translateOffsetX,z=A.translateOffsetY,I=A.scaleOffsetX,G=A.scaleOffsetY,F=A.getSize(),x=this.viz.getRadius();
var C={x:Math.round((H.x*I)*x+B+F.width/2),y:Math.round((H.y*G)*x+z+F.height/2)};var y=J.style;y.left=C.x+"px";y.top=C.y+"px";y.display=this.fitsInCanvas(C,A)?"":"none";E.onPlaceLabel(J,D);}});w.Plot.NodeTypes=new q({"none":{"render":c.empty,"contains":c.lambda(false)},"circle":{"render":function(z,x){var y=this.node,B=z.getData("dim"),A=z.pos.getc();
B=y.transform?B*(1-A.squaredNorm()):B;A.$scale(z.scale);if(B>0.2){this.nodeHelper.circle.render("fill",A,B,x);}},"contains":function(x,A){var y=x.getData("dim"),z=x.pos.getc().$scale(x.scale);return this.nodeHelper.circle.contains(z,A,y);}},"ellipse":{"render":function(A,y){var B=A.pos.getc().$scale(A.scale),z=A.getData("width"),x=A.getData("height");
this.nodeHelper.ellipse.render("fill",B,z,x,y);},"contains":function(z,B){var y=z.getData("width"),x=z.getData("height"),A=z.pos.getc().$scale(z.scale);return this.nodeHelper.circle.contains(A,B,y,x);}},"square":{"render":function(z,x){var y=this.node,B=z.getData("dim"),A=z.pos.getc();B=y.transform?B*(1-A.squaredNorm()):B;
A.$scale(z.scale);if(B>0.2){this.nodeHelper.square.render("fill",A,B,x);}},"contains":function(x,A){var y=x.getData("dim"),z=x.pos.getc().$scale(x.scale);return this.nodeHelper.square.contains(z,A,y);}},"rectangle":{"render":function(B,y){var A=this.node,z=B.getData("width"),x=B.getData("height"),C=B.pos.getc();
z=A.transform?z*(1-C.squaredNorm()):z;x=A.transform?x*(1-C.squaredNorm()):x;C.$scale(B.scale);if(z>0.2&&x>0.2){this.nodeHelper.rectangle.render("fill",C,z,x,y);}},"contains":function(z,B){var y=z.getData("width"),x=z.getData("height"),A=z.pos.getc().$scale(z.scale);return this.nodeHelper.rectangle.contains(A,B,y,x);
}},"triangle":{"render":function(z,x){var y=this.node,B=z.getData("dim"),A=z.pos.getc();B=y.transform?B*(1-A.squaredNorm()):B;A.$scale(z.scale);if(B>0.2){this.nodeHelper.triangle.render("fill",A,B,x);}},"contains":function(x,A){var y=x.getData("dim"),z=x.pos.getc().$scale(x.scale);return this.nodeHelper.triangle.contains(z,A,y);
}},"star":{"render":function(z,x){var y=this.node,B=z.getData("dim"),A=z.pos.getc();B=y.transform?B*(1-A.squaredNorm()):B;A.$scale(z.scale);if(B>0.2){this.nodeHelper.star.render("fill",A,B,x);}},"contains":function(x,A){var y=x.getData("dim"),z=x.pos.getc().$scale(x.scale);return this.nodeHelper.star.contains(z,A,y);
}}});w.Plot.EdgeTypes=new q({"none":c.empty,"line":{"render":function(x,y){var B=x.nodeFrom.pos.getc(true),A=x.nodeTo.pos.getc(true),z=x.nodeFrom.scale;this.edgeHelper.line.render({x:B.x*z,y:B.y*z},{x:A.x*z,y:A.y*z},y);},"contains":function(x,B){var A=x.nodeFrom.pos.getc(true),z=x.nodeTo.pos.getc(true),y=x.nodeFrom.scale;
this.edgeHelper.line.contains({x:A.x*y,y:A.y*y},{x:z.x*y,y:z.y*y},B,this.edge.epsilon);}},"arrow":{"render":function(y,z){var E=y.nodeFrom.pos.getc(true),D=y.nodeTo.pos.getc(true),A=y.nodeFrom.scale,C=y.getData("dim"),B=y.data.$direction,x=(B&&B.length>1&&B[0]!=y.nodeFrom.id);this.edgeHelper.arrow.render({x:E.x*A,y:E.y*A},{x:D.x*A,y:D.y*A},C,x,z);
},"contains":function(x,B){var A=x.nodeFrom.pos.getc(true),z=x.nodeTo.pos.getc(true),y=x.nodeFrom.scale;this.edgeHelper.arrow.contains({x:A.x*y,y:A.y*y},{x:z.x*y,y:z.y*y},B,this.edge.epsilon);}},"hyperline":{"render":function(x,y){var B=x.nodeFrom.pos.getc(),A=x.nodeTo.pos.getc(),z=this.viz.getRadius();
this.edgeHelper.hyperline.render(B,A,z,y);},"contains":c.lambda(false)}});})($jit.Hypertree);})();
/*! jQuery UI - v1.10.4 - 2014-01-29
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.menu.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js, jquery.ui.effect.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */
(function(g,d){function c(k,j){var l,e,n,m=k.nodeName.toLowerCase();
return"area"===m?(l=k.parentNode,e=l.name,k.href&&e&&"map"===l.nodeName.toLowerCase()?(n=g("img[usemap=#"+e+"]")[0],!!n&&h(n)):!1):(/input|select|textarea|button|object/.test(m)?!k.disabled:"a"===m?k.href||j:j)&&h(k);}function h(a){return g.expr.filters.visible(a)&&!g(a).parents().addBack().filter(function(){return"hidden"===g.css(this,"visibility");
}).length;}var f=0,b=/^ui-id-\d+$/;g.ui=g.ui||{},g.extend(g.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),g.fn.extend({focus:function(a){return function(e,j){return"number"==typeof e?this.each(function(){var i=this;
setTimeout(function(){g(i).focus(),j&&j.call(i);},e);}):a.apply(this,arguments);};}(g.fn.focus),scrollParent:function(){var a;return a=g.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(g.css(this,"position"))&&/(auto|scroll)/.test(g.css(this,"overflow")+g.css(this,"overflow-y")+g.css(this,"overflow-x"));
}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(g.css(this,"overflow")+g.css(this,"overflow-y")+g.css(this,"overflow-x"));}).eq(0),/fixed/.test(this.css("position"))||!a.length?g(document):a;},zIndex:function(j){if(j!==d){return this.css("zIndex",j);}if(this.length){for(var l,k,e=g(this[0]);
e.length&&e[0]!==document;){if(l=e.css("position"),("absolute"===l||"relative"===l||"fixed"===l)&&(k=parseInt(e.css("zIndex"),10),!isNaN(k)&&0!==k)){return k;}e=e.parent();}}return 0;},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++f);});},removeUniqueId:function(){return this.each(function(){b.test(this.id)&&g(this).removeAttr("id");
});}}),g.extend(g.expr[":"],{data:g.expr.createPseudo?g.expr.createPseudo(function(a){return function(e){return !!g.data(e,a);};}):function(e,a,j){return !!g.data(e,j[3]);},focusable:function(a){return c(a,!isNaN(g.attr(a,"tabindex")));},tabbable:function(a){var i=g.attr(a,"tabindex"),e=isNaN(i);return(e||i>=0)&&c(a,!e);
}}),g("<a>").outerWidth(1).jquery||g.each(["Width","Height"],function(j,p){function k(o,a,r,q){return g.each(e,function(){a-=parseFloat(g.css(o,"padding"+this))||0,r&&(a-=parseFloat(g.css(o,"border"+this+"Width"))||0),q&&(a-=parseFloat(g.css(o,"margin"+this))||0);}),a;}var e="Width"===p?["Left","Right"]:["Top","Bottom"],m=p.toLowerCase(),l={innerWidth:g.fn.innerWidth,innerHeight:g.fn.innerHeight,outerWidth:g.fn.outerWidth,outerHeight:g.fn.outerHeight};
g.fn["inner"+p]=function(a){return a===d?l["inner"+p].call(this):this.each(function(){g(this).css(m,k(this,a)+"px");});},g.fn["outer"+p]=function(n,a){return"number"!=typeof n?l["outer"+p].call(this,n):this.each(function(){g(this).css(m,k(this,n,!0,a)+"px");});};}),g.fn.addBack||(g.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a));
}),g("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(g.fn.removeData=function(a){return function(e){return arguments.length?a.call(this,g.camelCase(e)):a.call(this);};}(g.fn.removeData)),g.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),g.support.selectstart="onselectstart" in document.createElement("div"),g.fn.extend({disableSelection:function(){return this.bind((g.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault();
});},enableSelection:function(){return this.unbind(".ui-disableSelection");}}),g.extend(g.ui,{plugin:{add:function(k,j,m){var l,e=g.ui[k].prototype;for(l in m){e.plugins[l]=e.plugins[l]||[],e.plugins[l].push([j,m[l]]);}},call:function(l,j,a){var m,k=l.plugins[j];if(k&&l.element[0].parentNode&&11!==l.element[0].parentNode.nodeType){for(m=0;
k.length>m;m++){l.options[k[m][0]]&&k[m][1].apply(l.element,a);}}}},hasScroll:function(e,a){if("hidden"===g(e).css("overflow")){return !1;}var k=a&&"left"===a?"scrollLeft":"scrollTop",j=!1;return e[k]>0?!0:(e[k]=1,j=e[k]>0,e[k]=0,j);}});})(jQuery);(function(b,d){var a=0,c=Array.prototype.slice,f=b.cleanData;
b.cleanData=function(j){for(var g,h=0;null!=(g=j[h]);h++){try{b(g).triggerHandler("remove");}catch(k){}}f(j);},b.widget=function(m,u,j){var g,t,e,p,k={},q=m.split(".")[0];m=m.split(".")[1],g=q+"-"+m,j||(j=u,u=b.Widget),b.expr[":"][g.toLowerCase()]=function(h){return !!b.data(h,g);},b[q]=b[q]||{},t=b[q][m],e=b[q][m]=function(l,h){return this._createWidget?(arguments.length&&this._createWidget(l,h),d):new e(l,h);
},b.extend(e,t,{version:j.version,_proto:b.extend({},j),_childConstructors:[]}),p=new u,p.options=b.widget.extend({},p.options),b.each(j,function(h,l){return b.isFunction(l)?(k[h]=function(){var i=function(){return u.prototype[h].apply(this,arguments);},n=function(o){return u.prototype[h].apply(this,o);
};return function(){var r,v=this._super,w=this._superApply;return this._super=i,this._superApply=n,r=l.apply(this,arguments),this._super=v,this._superApply=w,r;};}(),d):(k[h]=l,d);}),e.prototype=b.widget.extend(p,{widgetEventPrefix:t?p.widgetEventPrefix||m:m},k,{constructor:e,namespace:q,widgetName:m,widgetFullName:g}),t?(b.each(t._childConstructors,function(n,h){var l=h.prototype;
b.widget(l.namespace+"."+l.widgetName,e,h._proto);}),delete t._childConstructors):u._childConstructors.push(e),b.widget.bridge(m,e);},b.widget.extend=function(g){for(var m,l,e=c.call(arguments,1),k=0,j=e.length;j>k;k++){for(m in e[k]){l=e[k][m],e[k].hasOwnProperty(m)&&l!==d&&(g[m]=b.isPlainObject(l)?b.isPlainObject(g[m])?b.widget.extend({},g[m],l):b.widget.extend({},l):l);
}}return g;},b.widget.bridge=function(e,h){var g=h.prototype.widgetFullName||e;b.fn[e]=function(j){var m="string"==typeof j,k=c.call(arguments,1),i=this;return j=!m&&k.length?b.widget.extend.apply(null,[j].concat(k)):j,m?this.each(function(){var l,o=b.data(this,g);return o?b.isFunction(o[j])&&"_"!==j.charAt(0)?(l=o[j].apply(o,k),l!==o&&l!==d?(i=l&&l.jquery?i.pushStack(l.get()):l,!1):d):b.error("no such method '"+j+"' for "+e+" widget instance"):b.error("cannot call methods on "+e+" prior to initialization; "+"attempted to call method '"+j+"'");
}):this.each(function(){var l=b.data(this,g);l?l.option(j||{})._init():b.data(this,g,new h(j,this));}),i;};},b.Widget=function(){},b.Widget._childConstructors=[],b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(h,g){g=b(g||this.defaultElement||this)[0],this.element=b(g),this.uuid=a++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=b.widget.extend({},this.options,this._getCreateOptions(),h),this.bindings=b(),this.hoverable=b(),this.focusable=b(),g!==this&&(b.data(g,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===g&&this.destroy();
}}),this.document=b(g.style?g.ownerDocument:g.document||g),this.window=b(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init();},_getCreateOptions:b.noop,_getCreateEventData:b.noop,_create:b.noop,_init:b.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(b.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus");
},_destroy:b.noop,widget:function(){return this.element;},option:function(g,h){var l,k,e,j=g;if(0===arguments.length){return b.widget.extend({},this.options);}if("string"==typeof g){if(j={},l=g.split("."),g=l.shift(),l.length){for(k=j[g]=b.widget.extend({},this.options[g]),e=0;l.length-1>e;e++){k[l[e]]=k[l[e]]||{},k=k[l[e]];
}if(g=l.pop(),1===arguments.length){return k[g]===d?null:k[g];}k[g]=h;}else{if(1===arguments.length){return this.options[g]===d?null:this.options[g];}j[g]=h;}}return this._setOptions(j),this;},_setOptions:function(g){var h;for(h in g){this._setOption(h,g[h]);}return this;},_setOption:function(g,h){return this.options[g]=h,"disabled"===g&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!h).attr("aria-disabled",h),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this;
},enable:function(){return this._setOption("disabled",!1);},disable:function(){return this._setOption("disabled",!0);},_on:function(g,h,k){var j,e=this;"boolean"!=typeof g&&(k=h,h=g,g=!1),k?(h=j=b(h),this.bindings=this.bindings.add(h)):(k=h,h=this.element,j=this.widget()),b.each(k,function(s,p){function o(){return g||e.options.disabled!==!0&&!b(this).hasClass("ui-state-disabled")?("string"==typeof p?e[p]:p).apply(e,arguments):d;
}"string"!=typeof p&&(o.guid=p.guid=p.guid||o.guid||b.guid++);var i=s.match(/^(\w+)\s*(.*)$/),q=i[1]+e.eventNamespace,m=i[2];m?j.delegate(m,q,o):h.bind(q,o);});},_off:function(g,h){h=(h||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,g.unbind(h).undelegate(h);},_delay:function(h,k){function g(){return("string"==typeof h?j[h]:h).apply(j,arguments);
}var j=this;return setTimeout(g,k||0);},_hoverable:function(g){this.hoverable=this.hoverable.add(g),this._on(g,{mouseenter:function(h){b(h.currentTarget).addClass("ui-state-hover");},mouseleave:function(h){b(h.currentTarget).removeClass("ui-state-hover");}});},_focusable:function(g){this.focusable=this.focusable.add(g),this._on(g,{focusin:function(h){b(h.currentTarget).addClass("ui-state-focus");
},focusout:function(h){b(h.currentTarget).removeClass("ui-state-focus");}});},_trigger:function(k,h,j){var m,l,g=this.options[k];if(j=j||{},h=b.Event(h),h.type=(k===this.widgetEventPrefix?k:this.widgetEventPrefix+k).toLowerCase(),h.target=this.element[0],l=h.originalEvent){for(m in l){m in h||(h[m]=l[m]);
}}return this.element.trigger(h,j),!(b.isFunction(g)&&g.apply(this.element[0],[h].concat(j))===!1||h.isDefaultPrevented());}},b.each({show:"fadeIn",hide:"fadeOut"},function(h,g){b.Widget.prototype["_"+h]=function(i,l,k){"string"==typeof l&&(l={effect:l});var e,j=l?l===!0||"number"==typeof l?g:l.effect||g:h;
l=l||{},"number"==typeof l&&(l={duration:l}),e=!b.isEmptyObject(l),l.complete=k,l.delay&&i.delay(l.delay),e&&b.effects&&b.effects.effect[j]?i[h](l):j!==h&&i[j]?i[j](l.duration,l.easing,k):i.queue(function(m){b(this)[h](),k&&k.call(i[0]),m();});};});})(jQuery);(function(a){var b=!1;a(document).mouseup(function(){b=!1;
}),a.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.bind("mousedown."+this.widgetName,function(d){return c._mouseDown(d);}).bind("click."+this.widgetName,function(d){return !0===a.data(d.target,c.widgetName+".preventClickEvent")?(a.removeData(d.target,c.widgetName+".preventClickEvent"),d.stopImmediatePropagation(),!1):undefined;
}),this.started=!1;},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);},_mouseDown:function(d){if(!b){this._mouseStarted&&this._mouseUp(d),this._mouseDownEvent=d;
var e=this,f=1===d.which,c="string"==typeof this.options.cancel&&d.target.nodeName?a(d.target).closest(this.options.cancel).length:!1;return f&&!c&&this._mouseCapture(d)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0;},this.options.delay)),this._mouseDistanceMet(d)&&this._mouseDelayMet(d)&&(this._mouseStarted=this._mouseStart(d)!==!1,!this._mouseStarted)?(d.preventDefault(),!0):(!0===a.data(d.target,this.widgetName+".preventClickEvent")&&a.removeData(d.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(g){return e._mouseMove(g);
},this._mouseUpDelegate=function(g){return e._mouseUp(g);},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),d.preventDefault(),b=!0,!0)):!0;}},_mouseMove:function(c){return a.ui.ie&&(!document.documentMode||9>document.documentMode)&&!c.button?this._mouseUp(c):this._mouseStarted?(this._mouseDrag(c),c.preventDefault()):(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,c)!==!1,this._mouseStarted?this._mouseDrag(c):this._mouseUp(c)),!this._mouseStarted);
},_mouseUp:function(c){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,c.target===this._mouseDownEvent.target&&a.data(c.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(c)),!1;
},_mouseDistanceMet:function(c){return Math.max(Math.abs(this._mouseDownEvent.pageX-c.pageX),Math.abs(this._mouseDownEvent.pageY-c.pageY))>=this.options.distance;},_mouseDelayMet:function(){return this.mouseDelayMet;},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return !0;
}});})(jQuery);(function(C,x){function q(c,d,a){return[parseFloat(c[0])*(g.test(c[0])?d/100:1),parseFloat(c[1])*(g.test(c[1])?a/100:1)];}function D(c,a){return parseInt(C.css(c,a),10)||0;}function k(c){var a=c[0];return 9===a.nodeType?{width:c.width(),height:c.height(),offset:{top:0,left:0}}:C.isWindow(a)?{width:c.width(),height:c.height(),offset:{top:c.scrollTop(),left:c.scrollLeft()}}:a.preventDefault?{width:0,height:0,offset:{top:a.pageY,left:a.pageX}}:{width:c.outerWidth(),height:c.outerHeight(),offset:c.offset()};
}C.ui=C.ui||{};var A,j=Math.max,b=Math.abs,m=Math.round,v=/left|center|right/,z=/top|center|bottom/,B=/[\+\-]\d+(\.[\d]+)?%?/,y=/^\w+/,g=/%$/,w=C.fn.position;C.position={scrollbarWidth:function(){if(A!==x){return A;}var a,c,e=C("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),d=e.children()[0];
return C("body").append(e),a=d.offsetWidth,e.css("overflow","scroll"),c=d.offsetWidth,a===c&&(c=e[0].clientWidth),e.remove(),A=a-c;},getScrollInfo:function(h){var d=h.isWindow||h.isDocument?"":h.element.css("overflow-x"),f=h.isWindow||h.isDocument?"":h.element.css("overflow-y"),l="scroll"===d||"auto"===d&&h.width<h.element[0].scrollWidth,c="scroll"===f||"auto"===f&&h.height<h.element[0].scrollHeight;
return{width:c?C.position.scrollbarWidth():0,height:l?C.position.scrollbarWidth():0};},getWithinInfo:function(d){var a=C(d||window),c=C.isWindow(a[0]),f=!!a[0]&&9===a[0].nodeType;return{element:a,isWindow:c,isDocument:f,offset:a.offset()||{left:0,top:0},scrollLeft:a.scrollLeft(),scrollTop:a.scrollTop(),width:c?a.width():a.outerWidth(),height:c?a.height():a.outerHeight()};
}},C.fn.position=function(l){if(!l||!l.of){return w.apply(this,arguments);}l=C.extend({},l);var r,d,i,f,u,t,o=C(l.of),n=C.position.getWithinInfo(l.within),h=C.position.getScrollInfo(n),s=(l.collision||"flip").split(" "),c={};return t=k(o),o[0].preventDefault&&(l.at="left top"),d=t.width,i=t.height,f=t.offset,u=C.extend({},f),C.each(["my","at"],function(){var e,a,p=(l[this]||"").split(" ");
1===p.length&&(p=v.test(p[0])?p.concat(["center"]):z.test(p[0])?["center"].concat(p):["center","center"]),p[0]=v.test(p[0])?p[0]:"center",p[1]=z.test(p[1])?p[1]:"center",e=B.exec(p[0]),a=B.exec(p[1]),c[this]=[e?e[0]:0,a?a[0]:0],l[this]=[y.exec(p[0])[0],y.exec(p[1])[0]];}),1===s.length&&(s[1]=s[0]),"right"===l.at[0]?u.left+=d:"center"===l.at[0]&&(u.left+=d/2),"bottom"===l.at[1]?u.top+=i:"center"===l.at[1]&&(u.top+=i/2),r=q(c.at,d,i),u.left+=r[0],u.top+=r[1],this.each(function(){var e,E,I=C(this),L=I.outerWidth(),H=I.outerHeight(),F=D(this,"marginLeft"),K=D(this,"marginTop"),J=L+F+D(this,"marginRight")+h.width,a=H+K+D(this,"marginBottom")+h.height,G=C.extend({},u),p=q(c.my,I.outerWidth(),I.outerHeight());
"right"===l.my[0]?G.left-=L:"center"===l.my[0]&&(G.left-=L/2),"bottom"===l.my[1]?G.top-=H:"center"===l.my[1]&&(G.top-=H/2),G.left+=p[0],G.top+=p[1],C.support.offsetFractions||(G.left=m(G.left),G.top=m(G.top)),e={marginLeft:F,marginTop:K},C.each(["left","top"],function(M,N){C.ui.position[s[M]]&&C.ui.position[s[M]][N](G,{targetWidth:d,targetHeight:i,elemWidth:L,elemHeight:H,collisionPosition:e,collisionWidth:J,collisionHeight:a,offset:[r[0]+p[0],r[1]+p[1]],my:l.my,at:l.at,within:n,elem:I});
}),l.using&&(E=function(P){var O=f.left-G.left,Q=O+d-L,R=f.top-G.top,N=R+i-H,M={target:{element:o,left:f.left,top:f.top,width:d,height:i},element:{element:I,left:G.left,top:G.top,width:L,height:H},horizontal:0>Q?"left":O>0?"right":"center",vertical:0>N?"top":R>0?"bottom":"middle"};L>d&&d>b(O+Q)&&(M.horizontal="center"),H>i&&i>b(R+N)&&(M.vertical="middle"),M.important=j(b(O),b(Q))>j(b(R),b(N))?"horizontal":"vertical",l.using.call(this,P,M);
}),I.offset(C.extend(G,{using:E}));});},C.ui.position={fit:{left:function(F,u){var o,G=u.within,d=G.isWindow?G.scrollLeft:G.offset.left,E=G.width,c=F.left-u.collisionPosition.marginLeft,f=d-c,p=c+u.collisionWidth-E-d;u.collisionWidth>E?f>0&&0>=p?(o=F.left+f+u.collisionWidth-E-d,F.left+=f-o):F.left=p>0&&0>=f?d:f>p?d+E-u.collisionWidth:d:f>0?F.left+=f:p>0?F.left-=p:F.left=j(F.left-c,F.left);
},top:function(F,u){var o,G=u.within,d=G.isWindow?G.scrollTop:G.offset.top,E=u.within.height,c=F.top-u.collisionPosition.marginTop,f=d-c,p=c+u.collisionHeight-E-d;u.collisionHeight>E?f>0&&0>=p?(o=F.top+f+u.collisionHeight-E-d,F.top+=f-o):F.top=p>0&&0>=f?d:f>p?d+E-u.collisionHeight:d:f>0?F.top+=f:p>0?F.top-=p:F.top=j(F.top-c,F.top);
}},flip:{left:function(P,K){var H,Q,F=K.within,N=F.offset.left+F.scrollLeft,E=F.width,G=F.isWindow?F.scrollLeft:F.offset.left,I=P.left-K.collisionPosition.marginLeft,M=I-G,O=I+K.collisionWidth-E-G,L="left"===K.my[0]?-K.elemWidth:"right"===K.my[0]?K.elemWidth:0,r="left"===K.at[0]?K.targetWidth:"right"===K.at[0]?-K.targetWidth:0,J=-2*K.offset[0];
0>M?(H=P.left+L+r+J+K.collisionWidth-E-N,(0>H||b(M)>H)&&(P.left+=L+r+J)):O>0&&(Q=P.left-K.collisionPosition.marginLeft+L+r+J-G,(Q>0||O>b(Q))&&(P.left+=L+r+J));},top:function(Q,L){var H,R,F=L.within,O=F.offset.top+F.scrollTop,E=F.height,G=F.isWindow?F.scrollTop:F.offset.top,I=Q.top-L.collisionPosition.marginTop,N=I-G,P=I+L.collisionHeight-E-G,M="top"===L.my[1],r=M?-L.elemHeight:"bottom"===L.my[1]?L.elemHeight:0,K="top"===L.at[1]?L.targetHeight:"bottom"===L.at[1]?-L.targetHeight:0,J=-2*L.offset[1];
0>N?(R=Q.top+r+K+J+L.collisionHeight-E-O,Q.top+r+K+J>N&&(0>R||b(N)>R)&&(Q.top+=r+K+J)):P>0&&(H=Q.top-L.collisionPosition.marginTop+r+K+J-G,Q.top+r+K+J>P&&(H>0||P>b(H))&&(Q.top+=r+K+J));}},flipfit:{left:function(){C.ui.position.flip.left.apply(this,arguments),C.ui.position.fit.left.apply(this,arguments);
},top:function(){C.ui.position.flip.top.apply(this,arguments),C.ui.position.fit.top.apply(this,arguments);}}},function(){var l,d,f,t,c,p=document.getElementsByTagName("body")[0],h=document.createElement("div");l=document.createElement(p?"div":"body"),f={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},p&&C.extend(f,{position:"absolute",left:"-1000px",top:"-1000px"});
for(c in f){l.style[c]=f[c];}l.appendChild(h),d=p||document.documentElement,d.insertBefore(l,d.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",t=C(h).offset().left,C.support.offsetFractions=t>10&&11>t,l.innerHTML="",d.removeChild(l);}();})(jQuery);(function(a){a.widget("ui.draggable",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit();
},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy();},_mouseCapture:function(c){var b=this.options;return this.helper||b.disabled||a(c.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(c),this.handle?(a(b.iframeFix===!0?"iframe":b.iframeFix).each(function(){a("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body");
}),!0):!1);},_mouseStart:function(c){var b=this.options;return this.helper=this._createHelper(c),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,a.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(c),this.originalPageX=c.pageX,this.originalPageY=c.pageY,b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt),this._setContainment(),this._trigger("start",c)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!b.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,c),this._mouseDrag(c,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,c),!0);
},_mouseDrag:function(d,b){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(d),this.positionAbs=this._convertPositionTo("absolute"),!b){var c=this._uiHash();if(this._trigger("drag",d,c)===!1){return this._mouseUp({}),!1;}this.position=c.position;
}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),a.ui.ddmanager&&a.ui.ddmanager.drag(this,d),!1;},_mouseStop:function(d){var b=this,c=!1;return a.ui.ddmanager&&!this.options.dropBehaviour&&(c=a.ui.ddmanager.drop(this,d)),this.dropped&&(c=this.dropped,this.dropped=!1),"original"!==this.options.helper||a.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!c||"valid"===this.options.revert&&c||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)?a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){b._trigger("stop",d)!==!1&&b._clear();
}):this._trigger("stop",d)!==!1&&this._clear(),!1):!1;},_mouseUp:function(b){return a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this);}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b);},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this;
},_getHandle:function(b){return this.options.handle?!!a(b.target).closest(this.element.find(this.options.handle)).length:!0;},_createHelper:function(d){var b=this.options,c=a.isFunction(b.helper)?a(b.helper.apply(this.element[0],[d])):"clone"===b.helper?this.element.clone().removeAttr("id"):this.element;
return c.parents("body").length||c.appendTo("parent"===b.appendTo?this.element[0].parentNode:b.appendTo),c[0]===this.element[0]||/(fixed|absolute)/.test(c.css("position"))||c.css("position","absolute"),c;},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left" in b&&(this.offset.click.left=b.left+this.margins.left),"right" in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top" in b&&(this.offset.click.top=b.top+this.margins.top),"bottom" in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top);
},_getParentOffset:function(){var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};
},_getRelativeOffset:function(){if("relative"===this.cssPosition){var b=this.element.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()};}return{top:0,left:0};},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0};
},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function(){var d,b,c,f=this.options;return f.containment?"window"===f.containment?(this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):"document"===f.containment?(this.containment=[0,0,a(document).width()-this.helperProportions.width-this.margins.left,(a(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):f.containment.constructor===Array?(this.containment=f.containment,undefined):("parent"===f.containment&&(f.containment=this.helper[0].parentNode),b=a(f.containment),c=b[0],c&&(d="hidden"!==b.css("overflow"),this.containment=[(parseInt(b.css("borderLeftWidth"),10)||0)+(parseInt(b.css("paddingLeft"),10)||0),(parseInt(b.css("borderTopWidth"),10)||0)+(parseInt(b.css("paddingTop"),10)||0),(d?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(b.css("borderRightWidth"),10)||0)-(parseInt(b.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(d?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(b.css("borderBottomWidth"),10)||0)-(parseInt(b.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=b),undefined):(this.containment=null,undefined);
},_convertPositionTo:function(d,b){b||(b=this.position);var c="absolute"===d?1:-1,f="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:f.scrollTop(),left:f.scrollLeft()}),{top:b.top+this.offset.relative.top*c+this.offset.parent.top*c-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*c,left:b.left+this.offset.relative.left*c+this.offset.parent.left*c-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*c};
},_generatePosition:function(k){var g,p,d,m,c=this.options,b="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=k.pageX,j=k.pageY;return this.offset.scroll||(this.offset.scroll={top:b.scrollTop(),left:b.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(p=this.relative_container.offset(),g=[this.containment[0]+p.left,this.containment[1]+p.top,this.containment[2]+p.left,this.containment[3]+p.top]):g=this.containment,k.pageX-this.offset.click.left<g[0]&&(f=g[0]+this.offset.click.left),k.pageY-this.offset.click.top<g[1]&&(j=g[1]+this.offset.click.top),k.pageX-this.offset.click.left>g[2]&&(f=g[2]+this.offset.click.left),k.pageY-this.offset.click.top>g[3]&&(j=g[3]+this.offset.click.top)),c.grid&&(d=c.grid[1]?this.originalPageY+Math.round((j-this.originalPageY)/c.grid[1])*c.grid[1]:this.originalPageY,j=g?d-this.offset.click.top>=g[1]||d-this.offset.click.top>g[3]?d:d-this.offset.click.top>=g[1]?d-c.grid[1]:d+c.grid[1]:d,m=c.grid[0]?this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0]:this.originalPageX,f=g?m-this.offset.click.left>=g[0]||m-this.offset.click.left>g[2]?m:m-this.offset.click.left>=g[0]?m-c.grid[0]:m+c.grid[0]:m)),{top:j-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)};
},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1;},_trigger:function(d,b,c){return c=c||this._uiHash(),a.ui.plugin.call(this,d,[b,c]),"drag"===d&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,d,b,c);
},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs};}}),a.ui.plugin.add("draggable","connectToSortable",{start:function(f,c){var d=a(this).data("ui-draggable"),g=d.options,b=a.extend({},c,{item:d.element});d.sortables=[],a(g.connectToSortable).each(function(){var e=a.data(this,"ui-sortable");
e&&!e.options.disabled&&(d.sortables.push({instance:e,shouldRevert:e.options.revert}),e.refreshPositions(),e._trigger("activate",f,b));});},stop:function(d,b){var c=a(this).data("ui-draggable"),f=a.extend({},b,{item:c.element});a.each(c.sortables,function(){this.instance.isOver?(this.instance.isOver=0,c.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(d),this.instance.options.helper=this.instance.options._helper,"original"===c.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",d,f));
});},drag:function(d,b){var c=a(this).data("ui-draggable"),f=this;a.each(c.sortables,function(){var e=!1,g=this;this.instance.positionAbs=c.positionAbs,this.instance.helperProportions=c.helperProportions,this.instance.offset.click=c.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(e=!0,a.each(c.sortables,function(){return this.instance.positionAbs=c.positionAbs,this.instance.helperProportions=c.helperProportions,this.instance.offset.click=c.offset.click,this!==g&&this.instance._intersectsWith(this.instance.containerCache)&&a.contains(g.instance.element[0],this.instance.element[0])&&(e=!1),e;
})),e?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(f).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return b.helper[0];},d.target=this.instance.currentItem[0],this.instance._mouseCapture(d,!0),this.instance._mouseStart(d,!0,!0),this.instance.offset.click.top=c.offset.click.top,this.instance.offset.click.left=c.offset.click.left,this.instance.offset.parent.left-=c.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=c.offset.parent.top-this.instance.offset.parent.top,c._trigger("toSortable",d),c.dropped=this.instance.element,c.currentItem=c.element,this.instance.fromOutside=c),this.instance.currentItem&&this.instance._mouseDrag(d)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",d,this.instance._uiHash(this.instance)),this.instance._mouseStop(d,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),c._trigger("fromSortable",d),c.dropped=!1);
});}}),a.ui.plugin.add("draggable","cursor",{start:function(){var c=a("body"),b=a(this).data("ui-draggable").options;c.css("cursor")&&(b._cursor=c.css("cursor")),c.css("cursor",b.cursor);},stop:function(){var b=a(this).data("ui-draggable").options;b._cursor&&a("body").css("cursor",b._cursor);}}),a.ui.plugin.add("draggable","opacity",{start:function(d,b){var c=a(b.helper),f=a(this).data("ui-draggable").options;
c.css("opacity")&&(f._opacity=c.css("opacity")),c.css("opacity",f.opacity);},stop:function(d,b){var c=a(this).data("ui-draggable").options;c._opacity&&a(b.helper).css("opacity",c._opacity);}}),a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("ui-draggable");b.scrollParent[0]!==document&&"HTML"!==b.scrollParent[0].tagName&&(b.overflowOffset=b.scrollParent.offset());
},drag:function(d){var b=a(this).data("ui-draggable"),c=b.options,f=!1;b.scrollParent[0]!==document&&"HTML"!==b.scrollParent[0].tagName?(c.axis&&"x"===c.axis||(b.overflowOffset.top+b.scrollParent[0].offsetHeight-d.pageY<c.scrollSensitivity?b.scrollParent[0].scrollTop=f=b.scrollParent[0].scrollTop+c.scrollSpeed:d.pageY-b.overflowOffset.top<c.scrollSensitivity&&(b.scrollParent[0].scrollTop=f=b.scrollParent[0].scrollTop-c.scrollSpeed)),c.axis&&"y"===c.axis||(b.overflowOffset.left+b.scrollParent[0].offsetWidth-d.pageX<c.scrollSensitivity?b.scrollParent[0].scrollLeft=f=b.scrollParent[0].scrollLeft+c.scrollSpeed:d.pageX-b.overflowOffset.left<c.scrollSensitivity&&(b.scrollParent[0].scrollLeft=f=b.scrollParent[0].scrollLeft-c.scrollSpeed))):(c.axis&&"x"===c.axis||(d.pageY-a(document).scrollTop()<c.scrollSensitivity?f=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed):a(window).height()-(d.pageY-a(document).scrollTop())<c.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed))),c.axis&&"y"===c.axis||(d.pageX-a(document).scrollLeft()<c.scrollSensitivity?f=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed):a(window).width()-(d.pageX-a(document).scrollLeft())<c.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed)))),f!==!1&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(b,d);
}}),a.ui.plugin.add("draggable","snap",{start:function(){var c=a(this).data("ui-draggable"),b=c.options;c.snapElements=[],a(b.snap.constructor!==String?b.snap.items||":data(ui-draggable)":b.snap).each(function(){var d=a(this),e=d.offset();this!==c.element[0]&&c.snapElements.push({item:this,width:d.outerWidth(),height:d.outerHeight(),top:e.top,left:e.left});
});},drag:function(F,B){var q,y,J,x,t,A,C,H,k,G,w=a(this).data("ui-draggable"),D=w.options,E=D.snapTolerance,z=B.offset.left,K=z+w.helperProportions.width,j=B.offset.top,I=j+w.helperProportions.height;for(k=w.snapElements.length-1;k>=0;k--){t=w.snapElements[k].left,A=t+w.snapElements[k].width,C=w.snapElements[k].top,H=C+w.snapElements[k].height,t-E>K||z>A+E||C-E>I||j>H+E||!a.contains(w.snapElements[k].item.ownerDocument,w.snapElements[k].item)?(w.snapElements[k].snapping&&w.options.snap.release&&w.options.snap.release.call(w.element,F,a.extend(w._uiHash(),{snapItem:w.snapElements[k].item})),w.snapElements[k].snapping=!1):("inner"!==D.snapMode&&(q=E>=Math.abs(C-I),y=E>=Math.abs(H-j),J=E>=Math.abs(t-K),x=E>=Math.abs(A-z),q&&(B.position.top=w._convertPositionTo("relative",{top:C-w.helperProportions.height,left:0}).top-w.margins.top),y&&(B.position.top=w._convertPositionTo("relative",{top:H,left:0}).top-w.margins.top),J&&(B.position.left=w._convertPositionTo("relative",{top:0,left:t-w.helperProportions.width}).left-w.margins.left),x&&(B.position.left=w._convertPositionTo("relative",{top:0,left:A}).left-w.margins.left)),G=q||y||J||x,"outer"!==D.snapMode&&(q=E>=Math.abs(C-j),y=E>=Math.abs(H-I),J=E>=Math.abs(t-z),x=E>=Math.abs(A-K),q&&(B.position.top=w._convertPositionTo("relative",{top:C,left:0}).top-w.margins.top),y&&(B.position.top=w._convertPositionTo("relative",{top:H-w.helperProportions.height,left:0}).top-w.margins.top),J&&(B.position.left=w._convertPositionTo("relative",{top:0,left:t}).left-w.margins.left),x&&(B.position.left=w._convertPositionTo("relative",{top:0,left:A-w.helperProportions.width}).left-w.margins.left)),!w.snapElements[k].snapping&&(q||y||J||x||G)&&w.options.snap.snap&&w.options.snap.snap.call(w.element,F,a.extend(w._uiHash(),{snapItem:w.snapElements[k].item})),w.snapElements[k].snapping=q||y||J||x||G);
}}}),a.ui.plugin.add("draggable","stack",{start:function(){var d,b=this.data("ui-draggable").options,c=a.makeArray(a(b.stack)).sort(function(g,f){return(parseInt(a(g).css("zIndex"),10)||0)-(parseInt(a(f).css("zIndex"),10)||0);});c.length&&(d=parseInt(a(c[0]).css("zIndex"),10)||0,a(c).each(function(e){a(this).css("zIndex",d+e);
}),this.css("zIndex",d+c.length));}}),a.ui.plugin.add("draggable","zIndex",{start:function(d,b){var c=a(b.helper),f=a(this).data("ui-draggable").options;c.css("zIndex")&&(f._zIndex=c.css("zIndex")),c.css("zIndex",f.zIndex);},stop:function(d,b){var c=a(this).data("ui-draggable").options;c._zIndex&&a(b.helper).css("zIndex",c._zIndex);
}});})(jQuery);(function(a){function b(d,f,c){return d>f&&f+c>d;}a.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var f,c=this.options,d=c.accept;
this.isover=!1,this.isout=!0,this.accept=a.isFunction(d)?d:function(e){return e.is(d);},this.proportions=function(){return arguments.length?(f=arguments[0],undefined):f?f:f={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};},a.ui.ddmanager.droppables[c.scope]=a.ui.ddmanager.droppables[c.scope]||[],a.ui.ddmanager.droppables[c.scope].push(this),c.addClasses&&this.element.addClass("ui-droppable");
},_destroy:function(){for(var d=0,c=a.ui.ddmanager.droppables[this.options.scope];c.length>d;d++){c[d]===this&&c.splice(d,1);}this.element.removeClass("ui-droppable ui-droppable-disabled");},_setOption:function(d,c){"accept"===d&&(this.accept=a.isFunction(c)?c:function(e){return e.is(c);}),a.Widget.prototype._setOption.apply(this,arguments);
},_activate:function(d){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),c&&this._trigger("activate",d,this.ui(c));},_deactivate:function(d){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),c&&this._trigger("deactivate",d,this.ui(c));
},_over:function(d){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",d,this.ui(c)));},_out:function(d){var c=a.ui.ddmanager.current;
c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",d,this.ui(c)));},_drop:function(f,c){var d=c||a.ui.ddmanager.current,g=!1;return d&&(d.currentItem||d.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var h=a.data(this,"ui-droppable");
return h.options.greedy&&!h.options.disabled&&h.options.scope===d.options.scope&&h.accept.call(h.element[0],d.currentItem||d.element)&&a.ui.intersect(d,a.extend(h,{offset:h.element.offset()}),h.options.tolerance)?(g=!0,!1):undefined;}),g?!1:this.accept.call(this.element[0],d.currentItem||d.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",f,this.ui(d)),this.element):!1):!1;
},ui:function(c){return{draggable:c.currentItem||c.element,helper:c.helper,position:c.position,offset:c.positionAbs};}}),a.ui.intersect=function(z,m,A){if(!m.offset){return !1;}var j,x,g=(z.positionAbs||z.position.absolute).left,e=(z.positionAbs||z.position.absolute).top,k=g+z.helperProportions.width,q=e+z.helperProportions.height,w=m.offset.left,y=m.offset.top,v=w+m.proportions().width,f=y+m.proportions().height;
switch(A){case"fit":return g>=w&&v>=k&&e>=y&&f>=q;case"intersect":return g+z.helperProportions.width/2>w&&v>k-z.helperProportions.width/2&&e+z.helperProportions.height/2>y&&f>q-z.helperProportions.height/2;case"pointer":return j=(z.positionAbs||z.position.absolute).left+(z.clickOffset||z.offset.click).left,x=(z.positionAbs||z.position.absolute).top+(z.clickOffset||z.offset.click).top,b(x,y,m.proportions().height)&&b(j,w,m.proportions().width);
case"touch":return(e>=y&&f>=e||q>=y&&f>=q||y>e&&q>f)&&(g>=w&&v>=g||k>=w&&v>=k||w>g&&k>v);default:return !1;}},a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(h,d){var f,k,c=a.ui.ddmanager.droppables[h.options.scope]||[],j=d?d.type:null,g=(h.currentItem||h.element).find(":data(ui-droppable)").addBack();
a:for(f=0;c.length>f;f++){if(!(c[f].options.disabled||h&&!c[f].accept.call(c[f].element[0],h.currentItem||h.element))){for(k=0;g.length>k;k++){if(g[k]===c[f].element[0]){c[f].proportions().height=0;continue a;}}c[f].visible="none"!==c[f].element.css("display"),c[f].visible&&("mousedown"===j&&c[f]._activate.call(c[f],d),c[f].offset=c[f].element.offset(),c[f].proportions({width:c[f].element[0].offsetWidth,height:c[f].element[0].offsetHeight}));
}}},drop:function(f,c){var d=!1;return a.each((a.ui.ddmanager.droppables[f.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(f,this,this.options.tolerance)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],f.currentItem||f.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,c)));
}),d;},dragStart:function(d,c){d.element.parentsUntil("body").bind("scroll.droppable",function(){d.options.refreshPositions||a.ui.ddmanager.prepareOffsets(d,c);});},drag:function(d,c){d.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(d,c),a.each(a.ui.ddmanager.droppables[d.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var f,i,e,h=a.ui.intersect(d,this,this.options.tolerance),g=!h&&this.isover?"isout":h&&!this.isover?"isover":null;
g&&(this.options.greedy&&(i=this.options.scope,e=this.element.parents(":data(ui-droppable)").filter(function(){return a.data(this,"ui-droppable").options.scope===i;}),e.length&&(f=a.data(e[0],"ui-droppable"),f.greedyChild="isover"===g)),f&&"isover"===g&&(f.isover=!1,f.isout=!0,f._out.call(f,c)),this[g]=!0,this["isout"===g?"isover":"isout"]=!1,this["isover"===g?"_over":"_out"].call(this,c),f&&"isout"===g&&(f.isout=!1,f.isover=!0,f._over.call(f,c)));
}});},dragStop:function(d,c){d.element.parentsUntil("body").unbind("scroll.droppable"),d.options.refreshPositions||a.ui.ddmanager.prepareOffsets(d,c);}};})(jQuery);(function(b){function c(d){return parseInt(d,10)||0;}function a(d){return !isNaN(parseInt(d,10));}b.widget("ui.resizable",b.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var j,f,g,l,d,k=this,h=this.options;
if(this.element.addClass("ui-resizable"),b.extend(this,{_aspectRatio:!!h.aspectRatio,aspectRatio:h.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:h.helper||h.ghost||h.animate?h.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(b("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=h.handles||(b(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String){for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),j=this.handles.split(","),this.handles={},f=0;
j.length>f;f++){g=b.trim(j[f]),d="ui-resizable-"+g,l=b("<div class='ui-resizable-handle "+d+"'></div>"),l.css({zIndex:h.zIndex}),"se"===g&&l.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[g]=".ui-resizable-"+g,this.element.append(l);}}this._renderAxis=function(q){var o,p,r,m;q=q||this.element;
for(o in this.handles){this.handles[o].constructor===String&&(this.handles[o]=b(this.handles[o],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(p=b(this.handles[o],this.element),m=/sw|ne|nw|se|n|s/.test(o)?p.outerHeight():p.outerWidth(),r=["padding",/ne|nw|n/.test(o)?"Top":/se|sw|s/.test(o)?"Bottom":/^e$/.test(o)?"Right":"Left"].join(""),q.css(r,m),this._proportionallyResize()),b(this.handles[o]).length;
}},this._renderAxis(this.element),this._handles=b(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){k.resizing||(this.className&&(l=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),k.axis=l&&l[1]?l[1]:"se");}),h.autoHide&&(this._handles.hide(),b(this.element).addClass("ui-resizable-autohide").mouseenter(function(){h.disabled||(b(this).removeClass("ui-resizable-autohide"),k._handles.show());
}).mouseleave(function(){h.disabled||k.resizing||(b(this).addClass("ui-resizable-autohide"),k._handles.hide());})),this._mouseInit();},_destroy:function(){this._mouseDestroy();var f,d=function(g){b(g).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove();
};return this.elementIsWrapper&&(d(this.element),f=this.element,this.originalElement.css({position:f.css("position"),width:f.outerWidth(),height:f.outerHeight(),top:f.css("top"),left:f.css("left")}).insertAfter(f),f.remove()),this.originalElement.css("resize",this.originalResizeStyle),d(this.originalElement),this;
},_mouseCapture:function(g){var d,f,h=!1;for(d in this.handles){f=b(this.handles[d])[0],(f===g.target||b.contains(f,g.target))&&(h=!0);}return !this.options.disabled&&h;},_mouseStart:function(e){var g,l,d,k=this.options,j=this.element.position(),f=this.element;return this.resizing=!0,/absolute/.test(f.css("position"))?f.css({position:"absolute",top:f.css("top"),left:f.css("left")}):f.is(".ui-draggable")&&f.css({position:"absolute",top:j.top,left:j.left}),this._renderProxy(),g=c(this.helper.css("left")),l=c(this.helper.css("top")),k.containment&&(g+=b(k.containment).scrollLeft()||0,l+=b(k.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:g,top:l},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:f.width(),height:f.height()},this.originalSize=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalPosition={left:g,top:l},this.sizeDiff={width:f.outerWidth()-f.width(),height:f.outerHeight()-f.height()},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof k.aspectRatio?k.aspectRatio:this.originalSize.width/this.originalSize.height||1,d=b(".ui-resizable-"+this.axis).css("cursor"),b("body").css("cursor","auto"===d?this.axis+"-resize":d),f.addClass("ui-resizable-resizing"),this._propagate("start",e),!0;
},_mouseDrag:function(v){var q,A=this.helper,k={},y=this.originalMousePosition,j=this.axis,f=this.position.top,t=this.position.left,m=this.size.width,x=this.size.height,z=v.pageX-y.left||0,w=v.pageY-y.top||0,g=this._change[j];return g?(q=g.apply(this,[v,z,w]),this._updateVirtualBoundaries(v.shiftKey),(this._aspectRatio||v.shiftKey)&&(q=this._updateRatio(q,v)),q=this._respectSize(q,v),this._updateCache(q),this._propagate("resize",v),this.position.top!==f&&(k.top=this.position.top+"px"),this.position.left!==t&&(k.left=this.position.left+"px"),this.size.width!==m&&(k.width=this.size.width+"px"),this.size.height!==x&&(k.height=this.size.height+"px"),A.css(k),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),b.isEmptyObject(k)||this._trigger("resize",v,this.ui()),!1):!1;
},_mouseStop:function(p){this.resizing=!1;var k,u,g,t,f,d,m,j=this.options,q=this;return this._helper&&(k=this._proportionallyResizeElements,u=k.length&&/textarea/i.test(k[0].nodeName),g=u&&b.ui.hasScroll(k[0],"left")?0:q.sizeDiff.height,t=u?0:q.sizeDiff.width,f={width:q.helper.width()-t,height:q.helper.height()-g},d=parseInt(q.element.css("left"),10)+(q.position.left-q.originalPosition.left)||null,m=parseInt(q.element.css("top"),10)+(q.position.top-q.originalPosition.top)||null,j.animate||this.element.css(b.extend(f,{top:m,left:d})),q.helper.height(q.size.height),q.helper.width(q.size.width),this._helper&&!j.animate&&this._proportionallyResize()),b("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",p),this._helper&&this.helper.remove(),!1;
},_updateVirtualBoundaries:function(f){var i,g,k,d,j,h=this.options;j={minWidth:a(h.minWidth)?h.minWidth:0,maxWidth:a(h.maxWidth)?h.maxWidth:1/0,minHeight:a(h.minHeight)?h.minHeight:0,maxHeight:a(h.maxHeight)?h.maxHeight:1/0},(this._aspectRatio||f)&&(i=j.minHeight*this.aspectRatio,k=j.minWidth/this.aspectRatio,g=j.maxHeight*this.aspectRatio,d=j.maxWidth/this.aspectRatio,i>j.minWidth&&(j.minWidth=i),k>j.minHeight&&(j.minHeight=k),j.maxWidth>g&&(j.maxWidth=g),j.maxHeight>d&&(j.maxHeight=d)),this._vBoundaries=j;
},_updateCache:function(d){this.offset=this.helper.offset(),a(d.left)&&(this.position.left=d.left),a(d.top)&&(this.position.top=d.top),a(d.height)&&(this.size.height=d.height),a(d.width)&&(this.size.width=d.width);},_updateRatio:function(d){var g=this.position,f=this.size,h=this.axis;return a(d.height)?d.width=d.height*this.aspectRatio:a(d.width)&&(d.height=d.width/this.aspectRatio),"sw"===h&&(d.left=g.left+(f.width-d.width),d.top=null),"nw"===h&&(d.top=g.top+(f.height-d.height),d.left=g.left+(f.width-d.width)),d;
},_respectSize:function(v){var k=this._vBoundaries,w=this.axis,g=a(v.width)&&k.maxWidth&&k.maxWidth<v.width,p=a(v.height)&&k.maxHeight&&k.maxHeight<v.height,f=a(v.width)&&k.minWidth&&k.minWidth>v.width,d=a(v.height)&&k.minHeight&&k.minHeight>v.height,j=this.originalPosition.left+this.originalSize.width,i=this.position.top+this.size.height,m=/sw|nw|w/.test(w),q=/nw|ne|n/.test(w);
return f&&(v.width=k.minWidth),d&&(v.height=k.minHeight),g&&(v.width=k.maxWidth),p&&(v.height=k.maxHeight),f&&m&&(v.left=j-k.minWidth),g&&m&&(v.left=j-k.maxWidth),d&&q&&(v.top=i-k.minHeight),p&&q&&(v.top=i-k.maxHeight),v.width||v.height||v.left||!v.top?v.width||v.height||v.top||!v.left||(v.left=null):v.top=null,v;
},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var g,j,f,h,k,d=this.helper||this.element;for(g=0;this._proportionallyResizeElements.length>g;g++){if(k=this._proportionallyResizeElements[g],!this.borderDif){for(this.borderDif=[],f=[k.css("borderTopWidth"),k.css("borderRightWidth"),k.css("borderBottomWidth"),k.css("borderLeftWidth")],h=[k.css("paddingTop"),k.css("paddingRight"),k.css("paddingBottom"),k.css("paddingLeft")],j=0;
f.length>j;j++){this.borderDif[j]=(parseInt(f[j],10)||0)+(parseInt(h[j],10)||0);}}k.css({height:d.height()-this.borderDif[0]-this.borderDif[2]||0,width:d.width()-this.borderDif[1]-this.borderDif[3]||0});}}},_renderProxy:function(){var f=this.element,d=this.options;this.elementOffset=f.offset(),this._helper?(this.helper=this.helper||b("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++d.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element;
},_change:{e:function(d,f){return{width:this.originalSize.width+f};},w:function(f,h){var d=this.originalSize,g=this.originalPosition;return{left:g.left+h,width:d.width-h};},n:function(f,h,d){var g=this.originalSize,j=this.originalPosition;return{top:j.top+d,height:g.height-d};},s:function(f,g,d){return{height:this.originalSize.height+d};
},se:function(g,d,f){return b.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[g,d,f]));},sw:function(g,d,f){return b.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[g,d,f]));},ne:function(g,d,f){return b.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[g,d,f]));
},nw:function(g,d,f){return b.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[g,d,f]));}},_propagate:function(f,d){b.ui.plugin.call(this,f,[d,this.ui()]),"resize"!==f&&this._trigger(f,d,this.ui());},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition};
}}),b.ui.plugin.add("resizable","animate",{stop:function(p){var k=b(this).data("ui-resizable"),u=k.options,g=k._proportionallyResizeElements,t=g.length&&/textarea/i.test(g[0].nodeName),f=t&&b.ui.hasScroll(g[0],"left")?0:k.sizeDiff.height,d=t?0:k.sizeDiff.width,m={width:k.size.width-d,height:k.size.height-f},j=parseInt(k.element.css("left"),10)+(k.position.left-k.originalPosition.left)||null,q=parseInt(k.element.css("top"),10)+(k.position.top-k.originalPosition.top)||null;
k.element.animate(b.extend(m,q&&j?{top:q,left:j}:{}),{duration:u.animateDuration,easing:u.animateEasing,step:function(){var e={width:parseInt(k.element.css("width"),10),height:parseInt(k.element.css("height"),10),top:parseInt(k.element.css("top"),10),left:parseInt(k.element.css("left"),10)};g&&g.length&&b(g[0]).css({width:e.width,height:e.height}),k._updateCache(e),k._propagate("resize",p);
}});}}),b.ui.plugin.add("resizable","containment",{start:function(){var m,y,j,w,g,e,q,k=b(this).data("ui-resizable"),v=k.options,x=k.element,t=v.containment,f=t instanceof b?t.get(0):/parent/.test(t)?x.parent().get(0):t;f&&(k.containerElement=b(f),/document/.test(t)||t===document?(k.containerOffset={left:0,top:0},k.containerPosition={left:0,top:0},k.parentData={element:b(document),left:0,top:0,width:b(document).width(),height:b(document).height()||document.body.parentNode.scrollHeight}):(m=b(f),y=[],b(["Top","Right","Left","Bottom"]).each(function(d,h){y[d]=c(m.css("padding"+h));
}),k.containerOffset=m.offset(),k.containerPosition=m.position(),k.containerSize={height:m.innerHeight()-y[3],width:m.innerWidth()-y[1]},j=k.containerOffset,w=k.containerSize.height,g=k.containerSize.width,e=b.ui.hasScroll(f,"left")?f.scrollWidth:g,q=b.ui.hasScroll(f)?f.scrollHeight:w,k.parentData={element:f,left:j.left,top:j.top,width:e,height:q}));
},resize:function(q){var m,y,j,w,g=b(this).data("ui-resizable"),f=g.options,p=g.containerOffset,k=g.position,v=g._aspectRatio||q.shiftKey,x={top:0,left:0},t=g.containerElement;t[0]!==document&&/static/.test(t.css("position"))&&(x=p),k.left<(g._helper?p.left:0)&&(g.size.width=g.size.width+(g._helper?g.position.left-p.left:g.position.left-x.left),v&&(g.size.height=g.size.width/g.aspectRatio),g.position.left=f.helper?p.left:0),k.top<(g._helper?p.top:0)&&(g.size.height=g.size.height+(g._helper?g.position.top-p.top:g.position.top),v&&(g.size.width=g.size.height*g.aspectRatio),g.position.top=g._helper?p.top:0),g.offset.left=g.parentData.left+g.position.left,g.offset.top=g.parentData.top+g.position.top,m=Math.abs((g._helper?g.offset.left-x.left:g.offset.left-x.left)+g.sizeDiff.width),y=Math.abs((g._helper?g.offset.top-x.top:g.offset.top-p.top)+g.sizeDiff.height),j=g.containerElement.get(0)===g.element.parent().get(0),w=/relative|absolute/.test(g.containerElement.css("position")),j&&w&&(m-=Math.abs(g.parentData.left)),m+g.size.width>=g.parentData.width&&(g.size.width=g.parentData.width-m,v&&(g.size.height=g.size.width/g.aspectRatio)),y+g.size.height>=g.parentData.height&&(g.size.height=g.parentData.height-y,v&&(g.size.width=g.size.height*g.aspectRatio));
},stop:function(){var p=b(this).data("ui-resizable"),k=p.options,t=p.containerOffset,g=p.containerPosition,q=p.containerElement,f=b(p.helper),d=f.offset(),m=f.outerWidth()-p.sizeDiff.width,j=f.outerHeight()-p.sizeDiff.height;p._helper&&!k.animate&&/relative/.test(q.css("position"))&&b(this).css({left:d.left-g.left-t.left,width:m,height:j}),p._helper&&!k.animate&&/static/.test(q.css("position"))&&b(this).css({left:d.left-g.left-t.left,width:m,height:j});
}}),b.ui.plugin.add("resizable","alsoResize",{start:function(){var g=b(this).data("ui-resizable"),d=g.options,f=function(h){b(h).each(function(){var i=b(this);i.data("ui-resizable-alsoresize",{width:parseInt(i.width(),10),height:parseInt(i.height(),10),left:parseInt(i.css("left"),10),top:parseInt(i.css("top"),10)});
});};"object"!=typeof d.alsoResize||d.alsoResize.parentNode?f(d.alsoResize):d.alsoResize.length?(d.alsoResize=d.alsoResize[0],f(d.alsoResize)):b.each(d.alsoResize,function(e){f(e);});},resize:function(l,f){var j=b(this).data("ui-resizable"),p=j.options,d=j.originalSize,m=j.originalPosition,k={height:j.size.height-d.height||0,width:j.size.width-d.width||0,top:j.position.top-m.top||0,left:j.position.left-m.left||0},g=function(i,h){b(i).each(function(){var r=b(this),t=b(this).data("ui-resizable-alsoresize"),q={},s=h&&h.length?h:r.parents(f.originalElement[0]).length?["width","height"]:["width","height","top","left"];
b.each(s,function(o,u){var n=(t[u]||0)+(k[u]||0);n&&n>=0&&(q[u]=n||null);}),r.css(q);});};"object"!=typeof p.alsoResize||p.alsoResize.nodeType?g(p.alsoResize):b.each(p.alsoResize,function(h,i){g(h,i);});},stop:function(){b(this).removeData("resizable-alsoresize");}}),b.ui.plugin.add("resizable","ghost",{start:function(){var g=b(this).data("ui-resizable"),d=g.options,f=g.size;
g.ghost=g.originalElement.clone(),g.ghost.css({opacity:0.25,display:"block",position:"relative",height:f.height,width:f.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof d.ghost?d.ghost:""),g.ghost.appendTo(g.helper);},resize:function(){var d=b(this).data("ui-resizable");
d.ghost&&d.ghost.css({position:"relative",height:d.size.height,width:d.size.width});},stop:function(){var d=b(this).data("ui-resizable");d.ghost&&d.helper&&d.helper.get(0).removeChild(d.ghost.get(0));}}),b.ui.plugin.add("resizable","grid",{resize:function(){var C=b(this).data("ui-resizable"),y=C.options,I=C.size,t=C.originalSize,F=C.originalPosition,q=C.axis,j="number"==typeof y.grid?[y.grid,y.grid]:y.grid,z=j[0]||1,x=j[1]||1,E=Math.round((I.width-t.width)/z)*z,H=Math.round((I.height-t.height)/x)*x,D=t.width+E,k=t.height+H,B=y.maxWidth&&D>y.maxWidth,A=y.maxHeight&&k>y.maxHeight,w=y.minWidth&&y.minWidth>D,G=y.minHeight&&y.minHeight>k;
y.grid=j,w&&(D+=z),G&&(k+=x),B&&(D-=z),A&&(k-=x),/^(se|s|e)$/.test(q)?(C.size.width=D,C.size.height=k):/^(ne)$/.test(q)?(C.size.width=D,C.size.height=k,C.position.top=F.top-H):/^(sw)$/.test(q)?(C.size.width=D,C.size.height=k,C.position.left=F.left-E):(k-x>0?(C.size.height=k,C.position.top=F.top-H):(C.size.height=x,C.position.top=F.top+t.height-x),D-z>0?(C.size.width=D,C.position.left=F.left-E):(C.size.width=z,C.position.left=F.left+t.width-z));
}});})(jQuery);(function(a){a.widget("ui.selectable",a.ui.mouse,{version:"1.10.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var c,b=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){c=a(b.options.filter,b.element[0]),c.addClass("ui-selectee"),c.each(function(){var f=a(this),d=f.offset();
a.data(this,"selectable-item",{element:this,$element:f,left:d.left,top:d.top,right:d.left+f.outerWidth(),bottom:d.top+f.outerHeight(),startselected:!1,selected:f.hasClass("ui-selected"),selecting:f.hasClass("ui-selecting"),unselecting:f.hasClass("ui-unselecting")});});},this.refresh(),this.selectees=c.addClass("ui-selectee"),this._mouseInit(),this.helper=a("<div class='ui-selectable-helper'></div>");
},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy();},_mouseStart:function(d){var b=this,c=this.options;this.opos=[d.pageX,d.pageY],this.options.disabled||(this.selectees=a(c.filter,this.element[0]),this._trigger("start",d),a(c.appendTo).append(this.helper),this.helper.css({left:d.pageX,top:d.pageY,width:0,height:0}),c.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var e=a.data(this,"selectable-item");
e.startselected=!0,d.metaKey||d.ctrlKey||(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,b._trigger("unselecting",d,{unselecting:e.element}));}),a(d.target).parents().addBack().each(function(){var e,f=a.data(this,"selectable-item");return f?(e=!d.metaKey&&!d.ctrlKey||!f.$element.hasClass("ui-selected"),f.$element.removeClass(e?"ui-unselecting":"ui-selected").addClass(e?"ui-selecting":"ui-unselecting"),f.unselecting=!e,f.selecting=e,f.selected=e,e?b._trigger("selecting",d,{selecting:f.element}):b._trigger("unselecting",d,{unselecting:f.element}),!1):undefined;
}));},_mouseDrag:function(h){if(this.dragged=!0,!this.options.disabled){var d,f=this,k=this.options,c=this.opos[0],j=this.opos[1],g=h.pageX,b=h.pageY;return c>g&&(d=g,g=c,c=d),j>b&&(d=b,b=j,j=d),this.helper.css({left:c,top:j,width:g-c,height:b-j}),this.selectees.each(function(){var e=a.data(this,"selectable-item"),l=!1;
e&&e.element!==f.element[0]&&("touch"===k.tolerance?l=!(e.left>g||c>e.right||e.top>b||j>e.bottom):"fit"===k.tolerance&&(l=e.left>c&&g>e.right&&e.top>j&&b>e.bottom),l?(e.selected&&(e.$element.removeClass("ui-selected"),e.selected=!1),e.unselecting&&(e.$element.removeClass("ui-unselecting"),e.unselecting=!1),e.selecting||(e.$element.addClass("ui-selecting"),e.selecting=!0,f._trigger("selecting",h,{selecting:e.element}))):(e.selecting&&((h.metaKey||h.ctrlKey)&&e.startselected?(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.$element.addClass("ui-selected"),e.selected=!0):(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.startselected&&(e.$element.addClass("ui-unselecting"),e.unselecting=!0),f._trigger("unselecting",h,{unselecting:e.element}))),e.selected&&(h.metaKey||h.ctrlKey||e.startselected||(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,f._trigger("unselecting",h,{unselecting:e.element})))));
}),!1;}},_mouseStop:function(c){var b=this;return this.dragged=!1,a(".ui-unselecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-unselecting"),d.unselecting=!1,d.startselected=!1,b._trigger("unselected",c,{unselected:d.element});}),a(".ui-selecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");
d.$element.removeClass("ui-selecting").addClass("ui-selected"),d.selecting=!1,d.selected=!0,d.startselected=!0,b._trigger("selected",c,{selected:d.element});}),this._trigger("stop",c),this.helper.remove(),!1;}});})(jQuery);(function(b){function c(f,g,d){return f>g&&g+d>f;}function a(d){return/left|right/.test(d.css("float"))||/inline|table-cell/.test(d.css("display"));
}b.widget("ui.sortable",b.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var d=this.options;
this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===d.axis||a(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0;},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();
for(var d=this.items.length-1;d>=0;d--){this.items[d].item.removeData(this.widgetName+"-item");}return this;},_setOption:function(f,d){"disabled"===f?(this.options[f]=d,this.widget().toggleClass("ui-sortable-disabled",!!d)):b.Widget.prototype._setOption.apply(this,arguments);},_mouseCapture:function(g,d){var f=null,j=!1,h=this;
return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(g),b(g.target).parents().each(function(){return b.data(this,h.widgetName+"-item")===h?(f=b(this),!1):undefined;}),b.data(g.target,h.widgetName+"-item")===h&&(f=b(g.target)),f?!this.options.handle||d||(b(this.options.handle,f).find("*").addBack().each(function(){this===g.target&&(j=!0);
}),j)?(this.currentItem=f,this._removeCurrentsFromItems(),!0):!1:!1);},_mouseStart:function(h,f,g){var k,j,d=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(h),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},b.extend(this.offset,{click:{left:h.pageX-this.offset.left,top:h.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(h),this.originalPageX=h.pageX,this.originalPageY=h.pageY,d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),d.containment&&this._setContainment(),d.cursor&&"auto"!==d.cursor&&(j=this.document.find("body"),this.storedCursor=j.css("cursor"),j.css("cursor",d.cursor),this.storedStylesheet=b("<style>*{ cursor: "+d.cursor+" !important; }</style>").appendTo(j)),d.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",d.opacity)),d.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",d.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",h,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!g){for(k=this.containers.length-1;
k>=0;k--){this.containers[k]._trigger("activate",h,this._uiHash(this));}}return b.ui.ddmanager&&(b.ui.ddmanager.current=this),b.ui.ddmanager&&!d.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,h),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(h),!0;},_mouseDrag:function(j){var f,g,l,k,d=this.options,h=!1;
for(this.position=this._generatePosition(j),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-j.pageY<d.scrollSensitivity?this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+d.scrollSpeed:j.pageY-this.overflowOffset.top<d.scrollSensitivity&&(this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-d.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-j.pageX<d.scrollSensitivity?this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+d.scrollSpeed:j.pageX-this.overflowOffset.left<d.scrollSensitivity&&(this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft-d.scrollSpeed)):(j.pageY-b(document).scrollTop()<d.scrollSensitivity?h=b(document).scrollTop(b(document).scrollTop()-d.scrollSpeed):b(window).height()-(j.pageY-b(document).scrollTop())<d.scrollSensitivity&&(h=b(document).scrollTop(b(document).scrollTop()+d.scrollSpeed)),j.pageX-b(document).scrollLeft()<d.scrollSensitivity?h=b(document).scrollLeft(b(document).scrollLeft()-d.scrollSpeed):b(window).width()-(j.pageX-b(document).scrollLeft())<d.scrollSensitivity&&(h=b(document).scrollLeft(b(document).scrollLeft()+d.scrollSpeed))),h!==!1&&b.ui.ddmanager&&!d.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,j)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),f=this.items.length-1;
f>=0;f--){if(g=this.items[f],l=g.item[0],k=this._intersectsWithPointer(g),k&&g.instance===this.currentContainer&&l!==this.currentItem[0]&&this.placeholder[1===k?"next":"prev"]()[0]!==l&&!b.contains(this.placeholder[0],l)&&("semi-dynamic"===this.options.type?!b.contains(this.element[0],l):!0)){if(this.direction=1===k?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(g)){break;
}this._rearrange(j,g),this._trigger("change",j,this._uiHash());break;}}return this._contactContainers(j),b.ui.ddmanager&&b.ui.ddmanager.drag(this,j),this._trigger("sort",j,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1;},_mouseStop:function(h,f){if(h){if(b.ui.ddmanager&&!this.options.dropBehaviour&&b.ui.ddmanager.drop(this,h),this.options.revert){var g=this,k=this.placeholder.offset(),j=this.options.axis,d={};
j&&"x"!==j||(d.left=k.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),j&&"y"!==j||(d.top=k.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,b(this.helper).animate(d,parseInt(this.options.revert,10)||500,function(){g._clear(h);
});}else{this._clear(h,f);}return !1;}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var d=this.containers.length-1;d>=0;d--){this.containers[d]._trigger("deactivate",null,this._uiHash(this)),this.containers[d].containerCache.over&&(this.containers[d]._trigger("out",null,this._uiHash(this)),this.containers[d].containerCache.over=0);
}}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),b.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?b(this.domPosition.prev).after(this.currentItem):b(this.domPosition.parent).prepend(this.currentItem)),this;
},serialize:function(g){var d=this._getItemsAsjQuery(g&&g.connected),f=[];return g=g||{},b(d).each(function(){var e=(b(g.item||this).attr(g.attribute||"id")||"").match(g.expression||/(.+)[\-=_](.+)/);e&&f.push((g.key||e[1]+"[]")+"="+(g.key&&g.expression?e[1]:e[2]));}),!f.length&&g.key&&f.push(g.key+"="),f.join("&");
},toArray:function(g){var d=this._getItemsAsjQuery(g&&g.connected),f=[];return g=g||{},d.each(function(){f.push(b(g.item||this).attr(g.attribute||"id")||"");}),f;},_intersectsWith:function(B){var w=this.positionAbs.left,q=w+this.helperProportions.width,C=this.positionAbs.top,k=C+this.helperProportions.height,j=B.left,z=j+B.width,f=B.top,v=f+B.height,m=this.offset.click.top,y=this.offset.click.left,A="x"===this.options.axis||C+m>f&&v>C+m,x="y"===this.options.axis||w+y>j&&z>w+y,g=A&&x;
return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>B[this.floating?"width":"height"]?g:w+this.helperProportions.width/2>j&&z>q-this.helperProportions.width/2&&C+this.helperProportions.height/2>f&&v>k-this.helperProportions.height/2;
},_intersectsWithPointer:function(f){var e="x"===this.options.axis||c(this.positionAbs.top+this.offset.click.top,f.top,f.height),g="y"===this.options.axis||c(this.positionAbs.left+this.offset.click.left,f.left,f.width),j=e&&g,h=this._getDragVerticalDirection(),d=this._getDragHorizontalDirection();return j?this.floating?d&&"right"===d||"down"===h?2:1:h&&("down"===h?2:1):!1;
},_intersectsWithSides:function(e){var d=c(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),f=c(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),h=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return this.floating&&g?"right"===g&&f||"left"===g&&!f:h&&("down"===h&&d||"up"===h&&!d);
},_getDragVerticalDirection:function(){var d=this.positionAbs.top-this.lastPositionAbs.top;return 0!==d&&(d>0?"down":"up");},_getDragHorizontalDirection:function(){var d=this.positionAbs.left-this.lastPositionAbs.left;return 0!==d&&(d>0?"right":"left");},refresh:function(d){return this._refreshItems(d),this.refreshPositions(),this;
},_connectWith:function(){var d=this.options;return d.connectWith.constructor===String?[d.connectWith]:d.connectWith;},_getItemsAsjQuery:function(p){function k(){d.push(this);}var t,g,f,q,d=[],m=[],j=this._connectWith();if(j&&p){for(t=j.length-1;t>=0;t--){for(f=b(j[t]),g=f.length-1;g>=0;g--){q=b.data(f[g],this.widgetFullName),q&&q!==this&&!q.options.disabled&&m.push([b.isFunction(q.options.items)?q.options.items.call(q.element):b(q.options.items,q.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),q]);
}}}for(m.push([b.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):b(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),t=m.length-1;t>=0;t--){m[t][0].each(k);}return b(d);},_removeCurrentsFromItems:function(){var d=this.currentItem.find(":data("+this.widgetName+"-item)");
this.items=b.grep(this.items,function(f){for(var e=0;d.length>e;e++){if(d[e]===f.item[0]){return !1;}}return !0;});},_refreshItems:function(q){this.items=[],this.containers=[this];var m,y,j,g,w,f,p,k,v=this.items,x=[[b.isFunction(this.options.items)?this.options.items.call(this.element[0],q,{item:this.currentItem}):b(this.options.items,this.element),this]],t=this._connectWith();
if(t&&this.ready){for(m=t.length-1;m>=0;m--){for(j=b(t[m]),y=j.length-1;y>=0;y--){g=b.data(j[y],this.widgetFullName),g&&g!==this&&!g.options.disabled&&(x.push([b.isFunction(g.options.items)?g.options.items.call(g.element[0],q,{item:this.currentItem}):b(g.options.items,g.element),g]),this.containers.push(g));
}}}for(m=x.length-1;m>=0;m--){for(w=x[m][1],f=x[m][0],y=0,k=f.length;k>y;y++){p=b(f[y]),p.data(this.widgetName+"-item",w),v.push({item:p,instance:w,width:0,height:0,left:0,top:0});}}},refreshPositions:function(g){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var d,f,j,h;
for(d=this.items.length-1;d>=0;d--){f=this.items[d],f.instance!==this.currentContainer&&this.currentContainer&&f.item[0]!==this.currentItem[0]||(j=this.options.toleranceElement?b(this.options.toleranceElement,f.item):f.item,g||(f.width=j.outerWidth(),f.height=j.outerHeight()),h=j.offset(),f.left=h.left,f.top=h.top);
}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this);}else{for(d=this.containers.length-1;d>=0;d--){h=this.containers[d].element.offset(),this.containers[d].containerCache.left=h.left,this.containers[d].containerCache.top=h.top,this.containers[d].containerCache.width=this.containers[d].element.outerWidth(),this.containers[d].containerCache.height=this.containers[d].element.outerHeight();
}}return this;},_createPlaceholder:function(g){g=g||this;var d,f=g.options;f.placeholder&&f.placeholder.constructor!==String||(d=f.placeholder,f.placeholder={element:function(){var e=g.currentItem[0].nodeName.toLowerCase(),h=b("<"+e+">",g.document[0]).addClass(d||g.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");
return"tr"===e?g.currentItem.children().each(function(){b("<td>&#160;</td>",g.document[0]).attr("colspan",b(this).attr("colspan")||1).appendTo(h);}):"img"===e&&h.attr("src",g.currentItem.attr("src")),d||h.css("visibility","hidden"),h;},update:function(e,h){(!d||f.forcePlaceholderSize)&&(h.height()||h.height(g.currentItem.innerHeight()-parseInt(g.currentItem.css("paddingTop")||0,10)-parseInt(g.currentItem.css("paddingBottom")||0,10)),h.width()||h.width(g.currentItem.innerWidth()-parseInt(g.currentItem.css("paddingLeft")||0,10)-parseInt(g.currentItem.css("paddingRight")||0,10)));
}}),g.placeholder=b(f.placeholder.element.call(g.element,g.currentItem)),g.currentItem.after(g.placeholder),f.placeholder.update(g,g.placeholder);},_contactContainers:function(A){var k,j,y,e,q,m,x,z,w,i,v=null,t=null;for(k=this.containers.length-1;k>=0;k--){if(!b.contains(this.currentItem[0],this.containers[k].element[0])){if(this._intersectsWith(this.containers[k].containerCache)){if(v&&b.contains(this.containers[k].element[0],v.element[0])){continue;
}v=this.containers[k],t=k;}else{this.containers[k].containerCache.over&&(this.containers[k]._trigger("out",A,this._uiHash(this)),this.containers[k].containerCache.over=0);}}}if(v){if(1===this.containers.length){this.containers[t].containerCache.over||(this.containers[t]._trigger("over",A,this._uiHash(this)),this.containers[t].containerCache.over=1);
}else{for(y=10000,e=null,i=v.floating||a(this.currentItem),q=i?"left":"top",m=i?"width":"height",x=this.positionAbs[q]+this.offset.click[q],j=this.items.length-1;j>=0;j--){b.contains(this.containers[t].element[0],this.items[j].item[0])&&this.items[j].item[0]!==this.currentItem[0]&&(!i||c(this.positionAbs.top+this.offset.click.top,this.items[j].top,this.items[j].height))&&(z=this.items[j].item.offset()[q],w=!1,Math.abs(z-x)>Math.abs(z+this.items[j][m]-x)&&(w=!0,z+=this.items[j][m]),y>Math.abs(z-x)&&(y=Math.abs(z-x),e=this.items[j],this.direction=w?"up":"down"));
}if(!e&&!this.options.dropOnEmpty){return;}if(this.currentContainer===this.containers[t]){return;}e?this._rearrange(A,e,null,!0):this._rearrange(A,null,this.containers[t].element,!0),this._trigger("change",A,this._uiHash()),this.containers[t]._trigger("change",A,this._uiHash(this)),this.currentContainer=this.containers[t],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[t]._trigger("over",A,this._uiHash(this)),this.containers[t].containerCache.over=1;
}}},_createHelper:function(g){var d=this.options,f=b.isFunction(d.helper)?b(d.helper.apply(this.element[0],[g,this.currentItem])):"clone"===d.helper?this.currentItem.clone():this.currentItem;return f.parents("body").length||b("parent"!==d.appendTo?d.appendTo:this.currentItem[0].parentNode)[0].appendChild(f[0]),f[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!f[0].style.width||d.forceHelperSize)&&f.width(this.currentItem.width()),(!f[0].style.height||d.forceHelperSize)&&f.height(this.currentItem.height()),f;
},_adjustOffsetFromHelper:function(d){"string"==typeof d&&(d=d.split(" ")),b.isArray(d)&&(d={left:+d[0],top:+d[1]||0}),"left" in d&&(this.offset.click.left=d.left+this.margins.left),"right" in d&&(this.offset.click.left=this.helperProportions.width-d.right+this.margins.left),"top" in d&&(this.offset.click.top=d.top+this.margins.top),"bottom" in d&&(this.offset.click.top=this.helperProportions.height-d.bottom+this.margins.top);
},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var d=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0])&&(d.left+=this.scrollParent.scrollLeft(),d.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&b.ui.ie)&&(d={top:0,left:0}),{top:d.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:d.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};
},_getRelativeOffset:function(){if("relative"===this.cssPosition){var d=this.currentItem.position();return{top:d.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:d.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()};}return{top:0,left:0};},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0};
},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function(){var g,d,f,h=this.options;"parent"===h.containment&&(h.containment=this.helper[0].parentNode),("document"===h.containment||"window"===h.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,b("document"===h.containment?document:window).width()-this.helperProportions.width-this.margins.left,(b("document"===h.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(h.containment)||(g=b(h.containment)[0],d=b(h.containment).offset(),f="hidden"!==b(g).css("overflow"),this.containment=[d.left+(parseInt(b(g).css("borderLeftWidth"),10)||0)+(parseInt(b(g).css("paddingLeft"),10)||0)-this.margins.left,d.top+(parseInt(b(g).css("borderTopWidth"),10)||0)+(parseInt(b(g).css("paddingTop"),10)||0)-this.margins.top,d.left+(f?Math.max(g.scrollWidth,g.offsetWidth):g.offsetWidth)-(parseInt(b(g).css("borderLeftWidth"),10)||0)-(parseInt(b(g).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,d.top+(f?Math.max(g.scrollHeight,g.offsetHeight):g.offsetHeight)-(parseInt(b(g).css("borderTopWidth"),10)||0)-(parseInt(b(g).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]);
},_convertPositionTo:function(g,d){d||(d=this.position);var f="absolute"===g?1:-1,j="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(j[0].tagName);return{top:d.top+this.offset.relative.top*f+this.offset.parent.top*f-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:j.scrollTop())*f,left:d.left+this.offset.relative.left*f+this.offset.parent.left*f-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:j.scrollLeft())*f};
},_generatePosition:function(l){var f,j,p=this.options,m=l.pageX,d=l.pageY,k="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,g=/(html|body)/i.test(k[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(l.pageX-this.offset.click.left<this.containment[0]&&(m=this.containment[0]+this.offset.click.left),l.pageY-this.offset.click.top<this.containment[1]&&(d=this.containment[1]+this.offset.click.top),l.pageX-this.offset.click.left>this.containment[2]&&(m=this.containment[2]+this.offset.click.left),l.pageY-this.offset.click.top>this.containment[3]&&(d=this.containment[3]+this.offset.click.top)),p.grid&&(f=this.originalPageY+Math.round((d-this.originalPageY)/p.grid[1])*p.grid[1],d=this.containment?f-this.offset.click.top>=this.containment[1]&&f-this.offset.click.top<=this.containment[3]?f:f-this.offset.click.top>=this.containment[1]?f-p.grid[1]:f+p.grid[1]:f,j=this.originalPageX+Math.round((m-this.originalPageX)/p.grid[0])*p.grid[0],m=this.containment?j-this.offset.click.left>=this.containment[0]&&j-this.offset.click.left<=this.containment[2]?j:j-this.offset.click.left>=this.containment[0]?j-p.grid[0]:j+p.grid[0]:j)),{top:d-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():g?0:k.scrollTop()),left:m-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():g?0:k.scrollLeft())};
},_rearrange:function(f,h,d,g){d?d[0].appendChild(this.placeholder[0]):h.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?h.item[0]:h.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var j=this.counter;this._delay(function(){j===this.counter&&this.refreshPositions(!g);
});},_clear:function(f,h){function d(l,m,k){return function(e){k._trigger(l,e,m._uiHash(m));};}this.reverting=!1;var g,j=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(g in this._storedCSS){("auto"===this._storedCSS[g]||"static"===this._storedCSS[g])&&(this._storedCSS[g]="");
}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper");}else{this.currentItem.show();}for(this.fromOutside&&!h&&j.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside));}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||h||j.push(function(e){this._trigger("update",e,this._uiHash());
}),this!==this.currentContainer&&(h||(j.push(function(e){this._trigger("remove",e,this._uiHash());}),j.push(function(e){return function(i){e._trigger("receive",i,this._uiHash(this));};}.call(this,this.currentContainer)),j.push(function(e){return function(i){e._trigger("update",i,this._uiHash(this));};
}.call(this,this.currentContainer)))),g=this.containers.length-1;g>=0;g--){h||j.push(d("deactivate",this,this.containers[g])),this.containers[g].containerCache.over&&(j.push(d("out",this,this.containers[g])),this.containers[g].containerCache.over=0);}if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!h){for(this._trigger("beforeStop",f,this._uiHash()),g=0;
j.length>g;g++){j[g].call(this,f);}this._trigger("stop",f,this._uiHash());}return this.fromOutside=!1,!1;}if(h||this._trigger("beforeStop",f,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!h){for(g=0;
j.length>g;g++){j[g].call(this,f);}this._trigger("stop",f,this._uiHash());}return this.fromOutside=!1,!0;},_trigger:function(){b.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel();},_uiHash:function(f){var d=f||this;return{helper:d.helper,placeholder:d.placeholder||b([]),position:d.position,originalPosition:d.originalPosition,offset:d.positionAbs,item:d.currentItem,sender:f?f.element:null};
}});})(jQuery);(function(f){var d=0,c={},b={};c.height=c.paddingTop=c.paddingBottom=c.borderTopWidth=c.borderBottomWidth="hide",b.height=b.paddingTop=b.paddingBottom=b.borderTopWidth=b.borderBottomWidth="show",f.widget("ui.accordion",{version:"1.10.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var a=this.options;
this.prevShow=this.prevHide=f(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),a.collapsible||a.active!==!1&&null!=a.active||(a.active=0),this._processPanels(),0>a.active&&(a.active+=this.headers.length),this._refresh();},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():f(),content:this.active.length?this.active.next():f()};
},_createIcons:function(){var a=this.options.icons;a&&(f("<span>").addClass("ui-accordion-header-icon ui-icon "+a.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(a.header).addClass(a.activeHeader),this.headers.addClass("ui-accordion-icons"));},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove();
},_destroy:function(){var a;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id");
}),this._destroyIcons(),a=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id");
}),"content"!==this.options.heightStyle&&a.css("height","");},_setOption:function(g,a){return"active"===g?(this._activate(a),undefined):("event"===g&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(a)),this._super(g,a),"collapsible"!==g||a||this.options.active!==!1||this._activate(0),"icons"===g&&(this._destroyIcons(),a&&this._createIcons()),"disabled"===g&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!a),undefined);
},_keydown:function(h){if(!h.altKey&&!h.ctrlKey){var g=f.ui.keyCode,e=this.headers.length,j=this.headers.index(h.target),k=!1;switch(h.keyCode){case g.RIGHT:case g.DOWN:k=this.headers[(j+1)%e];break;case g.LEFT:case g.UP:k=this.headers[(j-1+e)%e];break;case g.SPACE:case g.ENTER:this._eventHandler(h);
break;case g.HOME:k=this.headers[0];break;case g.END:k=this.headers[e-1];}k&&(f(h.target).attr("tabIndex",-1),f(k).attr("tabIndex",0),k.focus(),h.preventDefault());}},_panelKeyDown:function(a){a.keyCode===f.ui.keyCode.UP&&a.ctrlKey&&f(a.currentTarget).prev().focus();},refresh:function(){var a=this.options;
this._processPanels(),a.active===!1&&a.collapsible===!0||!this.headers.length?(a.active=!1,this.active=f()):a.active===!1?this._activate(0):this.active.length&&!f.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(a.active=!1,this.active=f()):this._activate(Math.max(0,a.active-1)):a.active=this.headers.index(this.active),this._destroyIcons(),this._refresh();
},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide();
},_refresh:function(){var g,e=this.options,h=e.heightStyle,k=this.element.parent(),j=this.accordionId="ui-accordion-"+(this.element.attr("id")||++d);this.active=this._findActive(e.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(o){var m=f(this),l=m.attr("id"),p=m.next(),q=p.attr("id");
l||(l=j+"-header-"+o,m.attr("id",l)),q||(q=j+"-panel-"+o,p.attr("id",q)),m.attr("aria-controls",q),p.attr("aria-labelledby",l);}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(e.event),"fill"===h?(g=k.height(),this.element.siblings(":visible").each(function(){var l=f(this),i=l.css("position");
"absolute"!==i&&"fixed"!==i&&(g-=l.outerHeight(!0));}),this.headers.each(function(){g-=f(this).outerHeight(!0);}),this.headers.next().each(function(){f(this).height(Math.max(0,g-f(this).innerHeight()+f(this).height()));}).css("overflow","auto")):"auto"===h&&(g=0,this.headers.next().each(function(){g=Math.max(g,f(this).css("height","").height());
}).height(g));},_activate:function(e){var a=this._findActive(e)[0];a!==this.active[0]&&(a=a||this.active[0],this._eventHandler({target:a,currentTarget:a,preventDefault:f.noop}));},_findActive:function(a){return"number"==typeof a?this.headers.eq(a):f();},_setupEvents:function(e){var a={keydown:"_keydown"};
e&&f.each(e.split(" "),function(h,g){a[g]="_eventHandler";}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,a),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers);},_eventHandler:function(q){var k=this.options,p=this.active,u=f(q.currentTarget),j=u[0]===p[0],e=j&&k.collapsible,g=e?f():u.next(),l=p.next(),m={oldHeader:p,oldPanel:l,newHeader:e?f():u,newPanel:g};
q.preventDefault(),j&&!k.collapsible||this._trigger("beforeActivate",q,m)===!1||(k.active=e?!1:this.headers.index(u),this.active=j?f():u,this._toggle(m),p.removeClass("ui-accordion-header-active ui-state-active"),k.icons&&p.children(".ui-accordion-header-icon").removeClass(k.icons.activeHeader).addClass(k.icons.header),j||(u.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),k.icons&&u.children(".ui-accordion-header-icon").removeClass(k.icons.header).addClass(k.icons.activeHeader),u.next().addClass("ui-accordion-content-active")));
},_toggle:function(h){var g=h.newPanel,e=this.prevShow.length?this.prevShow:h.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=g,this.prevHide=e,this.options.animate?this._animate(g,e,h):(e.hide(),g.show(),this._toggleComplete(h)),e.attr({"aria-hidden":"true"}),e.prev().attr("aria-selected","false"),g.length&&e.length?e.prev().attr({tabIndex:-1,"aria-expanded":"false"}):g.length&&this.headers.filter(function(){return 0===f(this).attr("tabIndex");
}).attr("tabIndex",-1),g.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"});},_animate:function(m,y,z){var i,a,g,k=this,p=0,q=m.length&&(!y.length||m.index()<y.index()),j=this.options.animate||{},x=q&&j.down||j,w=function(){k._toggleComplete(z);};return"number"==typeof x&&(g=x),"string"==typeof x&&(a=x),a=a||x.easing||j.easing,g=g||x.duration||j.duration,y.length?m.length?(i=m.show().outerHeight(),y.animate(c,{duration:g,easing:a,step:function(l,h){h.now=Math.round(l);
}}),m.hide().animate(b,{duration:g,easing:a,complete:w,step:function(l,h){h.now=Math.round(l),"height"!==h.prop?p+=h.now:"content"!==k.options.heightStyle&&(h.now=Math.round(i-y.outerHeight()-p),p=0);}}),undefined):y.animate(c,g,a,w):m.animate(b,g,a,w);},_toggleComplete:function(g){var a=g.oldPanel;a.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),a.length&&(a.parent()[0].className=a.parent()[0].className),this._trigger("activate",null,g);
}});})(jQuery);(function(a){a.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var d,c,e,g=this.element[0].nodeName.toLowerCase(),b="textarea"===g,f="input"===g;
this.isMultiLine=b?!0:f?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[b||f?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(i){if(this.element.prop("readOnly")){return d=!0,e=!0,c=!0,undefined;
}d=!1,e=!1,c=!1;var h=a.ui.keyCode;switch(i.keyCode){case h.PAGE_UP:d=!0,this._move("previousPage",i);break;case h.PAGE_DOWN:d=!0,this._move("nextPage",i);break;case h.UP:d=!0,this._keyEvent("previous",i);break;case h.DOWN:d=!0,this._keyEvent("next",i);break;case h.ENTER:case h.NUMPAD_ENTER:this.menu.active&&(d=!0,i.preventDefault(),this.menu.select(i));
break;case h.TAB:this.menu.active&&this.menu.select(i);break;case h.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(i),i.preventDefault());break;default:c=!0,this._searchTimeout(i);}},keypress:function(h){if(d){return d=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&h.preventDefault(),undefined;
}if(!c){var i=a.ui.keyCode;switch(h.keyCode){case i.PAGE_UP:this._move("previousPage",h);break;case i.PAGE_DOWN:this._move("nextPage",h);break;case i.UP:this._keyEvent("previous",h);break;case i.DOWN:this._keyEvent("next",h);}}},input:function(h){return e?(e=!1,h.preventDefault(),undefined):(this._searchTimeout(h),undefined);
},focus:function(){this.selectedItem=null,this.previous=this._value();},blur:function(h){return this.cancelBlur?(delete this.cancelBlur,undefined):(clearTimeout(this.searching),this.close(h),this._change(h),undefined);}}),this._initSource(),this.menu=a("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(j){j.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur;
});var h=this.menu.element[0];a(j.target).closest(".ui-menu-item").length||this._delay(function(){var i=this;this.document.one("mousedown",function(k){k.target===i.element[0]||k.target===h||a.contains(h,k.target)||i.close();});});},menufocus:function(j,h){if(this.isNewMenu&&(this.isNewMenu=!1,j.originalEvent&&/^mouse/.test(j.originalEvent.type))){return this.menu.blur(),this.document.one("mousemove",function(){a(j.target).trigger(j.originalEvent);
}),undefined;}var k=h.item.data("ui-autocomplete-item");!1!==this._trigger("focus",j,{item:k})?j.originalEvent&&/^key/.test(j.originalEvent.type)&&this._value(k.value):this.liveRegion.text(k.value);},menuselect:function(l,j){var h=j.item.data("ui-autocomplete-item"),k=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=k,this._delay(function(){this.previous=k,this.selectedItem=h;
})),!1!==this._trigger("select",l,{item:h})&&this._value(h.value),this.term=this._value(),this.close(l),this.selectedItem=h;}}),this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete");
}});},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove();},_setOption:function(c,b){this._super(c,b),"source"===c&&this._initSource(),"appendTo"===c&&this.menu.element.appendTo(this._appendTo()),"disabled"===c&&b&&this.xhr&&this.xhr.abort();
},_appendTo:function(){var b=this.options.appendTo;return b&&(b=b.jquery||b.nodeType?a(b):this.document.find(b).eq(0)),b||(b=this.element.closest(".ui-front")),b.length||(b=this.document[0].body),b;},_initSource:function(){var c,b,d=this;a.isArray(this.options.source)?(c=this.options.source,this.source=function(e,f){f(a.ui.autocomplete.filter(c,e.term));
}):"string"==typeof this.options.source?(b=this.options.source,this.source=function(e,f){d.xhr&&d.xhr.abort(),d.xhr=a.ajax({url:b,data:e,dataType:"json",success:function(g){f(g);},error:function(){f([]);}});}):this.source=this.options.source;},_searchTimeout:function(b){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,b));
},this.options.delay);},search:function(c,b){return c=null!=c?c:this._value(),this.term=this._value(),c.length<this.options.minLength?this.close(b):this._trigger("search",b)!==!1?this._search(c):undefined;},_search:function(b){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:b},this._response());
},_response:function(){var b=++this.requestIndex;return a.proxy(function(c){b===this.requestIndex&&this.__response(c),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading");},this);},__response:function(b){b&&(b=this._normalize(b)),this._trigger("response",null,{content:b}),!this.options.disabled&&b&&b.length&&!this.cancelSearch?(this._suggest(b),this._trigger("open")):this._close();
},close:function(b){this.cancelSearch=!0,this._close(b);},_close:function(b){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",b));},_change:function(b){this.previous!==this._value()&&this._trigger("change",b,{item:this.selectedItem});
},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(c){return"string"==typeof c?{label:c,value:c}:a.extend({label:c.label||c.value,value:c.value||c.label},c);});},_suggest:function(c){var b=this.menu.element.empty();this._renderMenu(b,c),this.isNewMenu=!0,this.menu.refresh(),b.show(),this._resizeMenu(),b.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next();
},_resizeMenu:function(){var b=this.menu.element;b.outerWidth(Math.max(b.width("").outerWidth()+1,this.element.outerWidth()));},_renderMenu:function(c,b){var d=this;a.each(b,function(g,f){d._renderItemData(c,f);});},_renderItemData:function(c,b){return this._renderItem(c,b).data("ui-autocomplete-item",b);
},_renderItem:function(c,b){return a("<li>").append(a("<a>").text(b.label)).appendTo(c);},_move:function(c,b){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(c)||this.menu.isLastItem()&&/^next/.test(c)?(this._value(this.term),this.menu.blur(),undefined):(this.menu[c](b),undefined):(this.search(null,b),undefined);
},widget:function(){return this.menu.element;},_value:function(){return this.valueMethod.apply(this.element,arguments);},_keyEvent:function(c,b){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(c,b),b.preventDefault());}}),a.extend(a.ui.autocomplete,{escapeRegex:function(b){return b.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");
},filter:function(c,b){var d=RegExp(a.ui.autocomplete.escapeRegex(b),"i");return a.grep(c,function(f){return d.test(f.label||f.value||f);});}}),a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(b){return b+(b>1?" results are":" result is")+" available, use up and down arrow keys to navigate.";
}}},__response:function(c){var b;this._superApply(arguments),this.options.disabled||this.cancelSearch||(b=c&&c.length?this.options.messages.results(c.length):this.options.messages.noResults,this.liveRegion.text(b));}});})(jQuery);(function(g){var d,c="ui-button ui-widget ui-state-default ui-corner-all",h="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",f=function(){var a=g(this);
setTimeout(function(){a.find(":ui-button").button("refresh");},1);},b=function(e){var a=e.name,k=e.form,j=g([]);return a&&(a=a.replace(/'/g,"\\'"),j=k?g(k).find("[name='"+a+"']"):g("[name='"+a+"']",e.ownerDocument).filter(function(){return !this.form;})),j;};g.widget("ui.button",{version:"1.10.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,f),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");
var j=this,i=this.options,e="checkbox"===this.type||"radio"===this.type,a=e?"":"ui-state-active";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(c).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===d&&g(this).addClass("ui-state-active");
}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||g(this).removeClass(a);}).bind("click"+this.eventNamespace,function(k){i.disabled&&(k.preventDefault(),k.stopImmediatePropagation());}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus");},blur:function(){this.buttonElement.removeClass("ui-state-focus");
}}),e&&this.element.bind("change"+this.eventNamespace,function(){j.refresh();}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return i.disabled?!1:undefined;}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled){return !1;
}g(this).addClass("ui-state-active"),j.buttonElement.attr("aria-pressed","true");var k=j.element[0];b(k).not(k).map(function(){return g(this).button("widget")[0];}).removeClass("ui-state-active").attr("aria-pressed","false");}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return i.disabled?!1:(g(this).addClass("ui-state-active"),d=this,j.document.one("mouseup",function(){d=null;
}),undefined);}).bind("mouseup"+this.eventNamespace,function(){return i.disabled?!1:(g(this).removeClass("ui-state-active"),undefined);}).bind("keydown"+this.eventNamespace,function(k){return i.disabled?!1:((k.keyCode===g.ui.keyCode.SPACE||k.keyCode===g.ui.keyCode.ENTER)&&g(this).addClass("ui-state-active"),undefined);
}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){g(this).removeClass("ui-state-active");}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(k){k.keyCode===g.ui.keyCode.SPACE&&g(this).click();})),this._setOption("disabled",i.disabled),this._resetButton();},_determineButtonType:function(){var k,j,a;
this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(k=this.element.parents().last(),j="label[for='"+this.element.attr("id")+"']",this.buttonElement=k.find(j),this.buttonElement.length||(k=k.length?k.siblings():this.element.siblings(),this.buttonElement=k.filter(j),this.buttonElement.length||(this.buttonElement=k.find(j))),this.element.addClass("ui-helper-hidden-accessible"),a=this.element.is(":checked"),a&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",a)):this.buttonElement=this.element;
},widget:function(){return this.buttonElement;},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(c+" ui-state-active "+h).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title");
},_setOption:function(i,a){return this._super(i,a),"disabled"===i?(this.element.prop("disabled",!!a),a&&this.buttonElement.removeClass("ui-state-focus"),undefined):(this._resetButton(),undefined);},refresh:function(){var a=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");
a!==this.options.disabled&&this._setOption("disabled",a),"radio"===this.type?b(this.element[0]).each(function(){g(this).is(":checked")?g(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):g(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false");
}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"));},_resetButton:function(){if("input"===this.type){return this.options.label&&this.element.val(this.options.label),undefined;
}var k=this.buttonElement.removeClass(h),j=g("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(k.empty()).text(),l=this.options.icons,e=l.primary&&l.secondary,m=[];l.primary||l.secondary?(this.options.text&&m.push("ui-button-text-icon"+(e?"s":l.primary?"-primary":"-secondary")),l.primary&&k.prepend("<span class='ui-button-icon-primary ui-icon "+l.primary+"'></span>"),l.secondary&&k.append("<span class='ui-button-icon-secondary ui-icon "+l.secondary+"'></span>"),this.options.text||(m.push(e?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||k.attr("title",g.trim(j)))):m.push("ui-button-text-only"),k.addClass(m.join(" "));
}}),g.widget("ui.buttonset",{version:"1.10.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset");},_init:function(){this.refresh();},_setOption:function(i,a){"disabled"===i&&this.buttons.button("option",i,a),this._super(i,a);
},refresh:function(){var a="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return g(this).button("widget")[0];}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(a?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(a?"ui-corner-left":"ui-corner-right").end().end();
},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return g(this).button("widget")[0];}).removeClass("ui-corner-left ui-corner-right").end().button("destroy");}});})(jQuery);(function(h,d){function c(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},h.extend(this._defaults,this.regional[""]),this.dpDiv=b(h("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"));
}function b(e){var a="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(a,"mouseout",function(){h(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&h(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&h(this).removeClass("ui-datepicker-next-hover");
}).delegate(a,"mouseover",function(){h.datepicker._isDisabledDatepicker(j.inline?e.parent()[0]:j.input[0])||(h(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),h(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&h(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&h(this).addClass("ui-datepicker-next-hover"));
});}function f(l,k){h.extend(l,k);for(var e in k){null==k[e]&&(l[e]=k[e]);}return l;}h.extend(h.ui,{datepicker:{version:"1.10.4"}});var j,g="datepicker";h.extend(c.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv;},setDefaults:function(a){return f(this._defaults,a||{}),this;
},_attachDatepicker:function(l,k){var e,m,o;e=l.nodeName.toLowerCase(),m="div"===e||"span"===e,l.id||(this.uuid+=1,l.id="dp"+this.uuid),o=this._newInst(h(l),m),o.settings=h.extend({},k||{}),"input"===e?this._connectDatepicker(l,o):m&&this._inlineDatepicker(l,o);},_newInst:function(e,a){var k=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");
return{id:k,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:a,dpDiv:a?b(h("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv};},_connectDatepicker:function(l,k){var e=h(l);k.append=h([]),k.trigger=h([]),e.hasClass(this.markerClassName)||(this._attachments(e,k),e.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(k),h.data(l,g,k),k.settings.disabled&&this._disableDatepicker(l));
},_attachments:function(l,k){var e,m,u,p=this._get(k,"appendText"),q=this._get(k,"isRTL");k.append&&k.append.remove(),p&&(k.append=h("<span class='"+this._appendClass+"'>"+p+"</span>"),l[q?"before":"after"](k.append)),l.unbind("focus",this._showDatepicker),k.trigger&&k.trigger.remove(),e=this._get(k,"showOn"),("focus"===e||"both"===e)&&l.focus(this._showDatepicker),("button"===e||"both"===e)&&(m=this._get(k,"buttonText"),u=this._get(k,"buttonImage"),k.trigger=h(this._get(k,"buttonImageOnly")?h("<img/>").addClass(this._triggerClass).attr({src:u,alt:m,title:m}):h("<button type='button'></button>").addClass(this._triggerClass).html(u?h("<img/>").attr({src:u,alt:m,title:m}):m)),l[q?"before":"after"](k.trigger),k.trigger.click(function(){return h.datepicker._datepickerShowing&&h.datepicker._lastInput===l[0]?h.datepicker._hideDatepicker():h.datepicker._datepickerShowing&&h.datepicker._lastInput!==l[0]?(h.datepicker._hideDatepicker(),h.datepicker._showDatepicker(l[0])):h.datepicker._showDatepicker(l[0]),!1;
}));},_autoSize:function(q){if(this._get(q,"autoSize")&&!q.inline){var m,l,k,o,u=new Date(2009,11,20),p=this._get(q,"dateFormat");p.match(/[DM]/)&&(m=function(a){for(l=0,k=0,o=0;a.length>o;o++){a[o].length>l&&(l=a[o].length,k=o);}return k;},u.setMonth(m(this._get(q,p.match(/MM/)?"monthNames":"monthNamesShort"))),u.setDate(m(this._get(q,p.match(/DD/)?"dayNames":"dayNamesShort"))+20-u.getDay())),q.input.attr("size",this._formatDate(q,u).length);
}},_inlineDatepicker:function(l,k){var e=h(l);e.hasClass(this.markerClassName)||(e.addClass(this.markerClassName).append(k.dpDiv),h.data(l,g,k),this._setDate(k,this._getDefaultDate(k),!0),this._updateDatepicker(k),this._updateAlternate(k),k.settings.disabled&&this._disableDatepicker(l),k.dpDiv.css("display","block"));
},_dialogDatepicker:function(z,r,x,m,k){var y,w,s,q,v,e=this._dialogInst;return e||(this.uuid+=1,y="dp"+this.uuid,this._dialogInput=h("<input type='text' id='"+y+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),h("body").append(this._dialogInput),e=this._dialogInst=this._newInst(this._dialogInput,!1),e.settings={},h.data(this._dialogInput[0],g,e)),f(e.settings,m||{}),r=r&&r.constructor===Date?this._formatDate(e,r):r,this._dialogInput.val(r),this._pos=k?k.length?k:[k.pageX,k.pageY]:null,this._pos||(w=document.documentElement.clientWidth,s=document.documentElement.clientHeight,q=document.documentElement.scrollLeft||document.body.scrollLeft,v=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[w/2-100+q,s/2-150+v]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),e.settings.onSelect=x,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),h.blockUI&&h.blockUI(this.dpDiv),h.data(this._dialogInput[0],g,e),this;
},_destroyDatepicker:function(l){var k,e=h(l),m=h.data(l,g);e.hasClass(this.markerClassName)&&(k=l.nodeName.toLowerCase(),h.removeData(l,g),"input"===k?(m.append.remove(),m.trigger.remove(),e.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===k||"span"===k)&&e.removeClass(this.markerClassName).empty());
},_enableDatepicker:function(l){var k,e,m=h(l),o=h.data(l,g);m.hasClass(this.markerClassName)&&(k=l.nodeName.toLowerCase(),"input"===k?(l.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1;}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===k||"span"===k)&&(e=m.children("."+this._inlineClass),e.children().removeClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=h.map(this._disabledInputs,function(a){return a===l?null:a;
}));},_disableDatepicker:function(l){var k,e,m=h(l),o=h.data(l,g);m.hasClass(this.markerClassName)&&(k=l.nodeName.toLowerCase(),"input"===k?(l.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0;}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===k||"span"===k)&&(e=m.children("."+this._inlineClass),e.children().addClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=h.map(this._disabledInputs,function(a){return a===l?null:a;
}),this._disabledInputs[this._disabledInputs.length]=l);},_isDisabledDatepicker:function(i){if(!i){return !1;}for(var a=0;this._disabledInputs.length>a;a++){if(this._disabledInputs[a]===i){return !0;}}return !1;},_getInst:function(e){try{return h.data(e,g);}catch(a){throw"Missing instance data for this datepicker";
}},_optionDatepicker:function(l,e,t){var p,q,k,s,m=this._getInst(l);return 2===arguments.length&&"string"==typeof e?"defaults"===e?h.extend({},h.datepicker._defaults):m?"all"===e?h.extend({},m.settings):this._get(m,e):null:(p=e||{},"string"==typeof e&&(p={},p[e]=t),m&&(this._curInst===m&&this._hideDatepicker(),q=this._getDateDatepicker(l,!0),k=this._getMinMaxDate(m,"min"),s=this._getMinMaxDate(m,"max"),f(m.settings,p),null!==k&&p.dateFormat!==d&&p.minDate===d&&(m.settings.minDate=this._formatDate(m,k)),null!==s&&p.dateFormat!==d&&p.maxDate===d&&(m.settings.maxDate=this._formatDate(m,s)),"disabled" in p&&(p.disabled?this._disableDatepicker(l):this._enableDatepicker(l)),this._attachments(h(l),m),this._autoSize(m),this._setDate(m,q),this._updateAlternate(m),this._updateDatepicker(m)),d);
},_changeDatepicker:function(l,k,a){this._optionDatepicker(l,k,a);},_refreshDatepicker:function(i){var a=this._getInst(i);a&&this._updateDatepicker(a);},_setDateDatepicker:function(l,k){var a=this._getInst(l);a&&(this._setDate(a,k),this._updateDatepicker(a),this._updateAlternate(a));},_getDateDatepicker:function(l,k){var a=this._getInst(l);
return a&&!a.inline&&this._setDateFromField(a,k),a?this._getDate(a):null;},_doKeyDown:function(l){var k,e,m,u=h.datepicker._getInst(l.target),p=!0,q=u.dpDiv.is(".ui-datepicker-rtl");if(u._keyEvent=!0,h.datepicker._datepickerShowing){switch(l.keyCode){case 9:h.datepicker._hideDatepicker(),p=!1;break;case 13:return m=h("td."+h.datepicker._dayOverClass+":not(."+h.datepicker._currentClass+")",u.dpDiv),m[0]&&h.datepicker._selectDay(l.target,u.selectedMonth,u.selectedYear,m[0]),k=h.datepicker._get(u,"onSelect"),k?(e=h.datepicker._formatDate(u),k.apply(u.input?u.input[0]:null,[e,u])):h.datepicker._hideDatepicker(),!1;
case 27:h.datepicker._hideDatepicker();break;case 33:h.datepicker._adjustDate(l.target,l.ctrlKey?-h.datepicker._get(u,"stepBigMonths"):-h.datepicker._get(u,"stepMonths"),"M");break;case 34:h.datepicker._adjustDate(l.target,l.ctrlKey?+h.datepicker._get(u,"stepBigMonths"):+h.datepicker._get(u,"stepMonths"),"M");
break;case 35:(l.ctrlKey||l.metaKey)&&h.datepicker._clearDate(l.target),p=l.ctrlKey||l.metaKey;break;case 36:(l.ctrlKey||l.metaKey)&&h.datepicker._gotoToday(l.target),p=l.ctrlKey||l.metaKey;break;case 37:(l.ctrlKey||l.metaKey)&&h.datepicker._adjustDate(l.target,q?1:-1,"D"),p=l.ctrlKey||l.metaKey,l.originalEvent.altKey&&h.datepicker._adjustDate(l.target,l.ctrlKey?-h.datepicker._get(u,"stepBigMonths"):-h.datepicker._get(u,"stepMonths"),"M");
break;case 38:(l.ctrlKey||l.metaKey)&&h.datepicker._adjustDate(l.target,-7,"D"),p=l.ctrlKey||l.metaKey;break;case 39:(l.ctrlKey||l.metaKey)&&h.datepicker._adjustDate(l.target,q?-1:1,"D"),p=l.ctrlKey||l.metaKey,l.originalEvent.altKey&&h.datepicker._adjustDate(l.target,l.ctrlKey?+h.datepicker._get(u,"stepBigMonths"):+h.datepicker._get(u,"stepMonths"),"M");
break;case 40:(l.ctrlKey||l.metaKey)&&h.datepicker._adjustDate(l.target,7,"D"),p=l.ctrlKey||l.metaKey;break;default:p=!1;}}else{36===l.keyCode&&l.ctrlKey?h.datepicker._showDatepicker(this):p=!1;}p&&(l.preventDefault(),l.stopPropagation());},_doKeyPress:function(k){var e,l,m=h.datepicker._getInst(k.target);
return h.datepicker._get(m,"constrainInput")?(e=h.datepicker._possibleChars(h.datepicker._get(m,"dateFormat")),l=String.fromCharCode(null==k.charCode?k.keyCode:k.charCode),k.ctrlKey||k.metaKey||" ">l||!e||e.indexOf(l)>-1):d;},_doKeyUp:function(l){var k,e=h.datepicker._getInst(l.target);if(e.input.val()!==e.lastVal){try{k=h.datepicker.parseDate(h.datepicker._get(e,"dateFormat"),e.input?e.input.val():null,h.datepicker._getFormatConfig(e)),k&&(h.datepicker._setDateFromField(e),h.datepicker._updateAlternate(e),h.datepicker._updateDatepicker(e));
}catch(m){}}return !0;},_showDatepicker:function(m){if(m=m.target||m,"input"!==m.nodeName.toLowerCase()&&(m=h("input",m.parentNode)[0]),!h.datepicker._isDisabledDatepicker(m)&&h.datepicker._lastInput!==m){var l,e,v,p,q,k,s;l=h.datepicker._getInst(m),h.datepicker._curInst&&h.datepicker._curInst!==l&&(h.datepicker._curInst.dpDiv.stop(!0,!0),l&&h.datepicker._datepickerShowing&&h.datepicker._hideDatepicker(h.datepicker._curInst.input[0])),e=h.datepicker._get(l,"beforeShow"),v=e?e.apply(m,[m,l]):{},v!==!1&&(f(l.settings,v),l.lastVal=null,h.datepicker._lastInput=m,h.datepicker._setDateFromField(l),h.datepicker._inDialog&&(m.value=""),h.datepicker._pos||(h.datepicker._pos=h.datepicker._findPos(m),h.datepicker._pos[1]+=m.offsetHeight),p=!1,h(m).parents().each(function(){return p|="fixed"===h(this).css("position"),!p;
}),q={left:h.datepicker._pos[0],top:h.datepicker._pos[1]},h.datepicker._pos=null,l.dpDiv.empty(),l.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),h.datepicker._updateDatepicker(l),q=h.datepicker._checkOffset(l,q,p),l.dpDiv.css({position:h.datepicker._inDialog&&h.blockUI?"static":p?"fixed":"absolute",display:"none",left:q.left+"px",top:q.top+"px"}),l.inline||(k=h.datepicker._get(l,"showAnim"),s=h.datepicker._get(l,"duration"),l.dpDiv.zIndex(h(m).zIndex()+1),h.datepicker._datepickerShowing=!0,h.effects&&h.effects.effect[k]?l.dpDiv.show(k,h.datepicker._get(l,"showOptions"),s):l.dpDiv[k||"show"](k?s:null),h.datepicker._shouldFocusInput(l)&&l.input.focus(),h.datepicker._curInst=l));
}},_updateDatepicker:function(l){this.maxRows=4,j=l,l.dpDiv.empty().append(this._generateHTML(l)),this._attachHandlers(l),l.dpDiv.find("."+this._dayOverClass+" a").mouseover();var k,e=this._getNumberOfMonths(l),m=e[1],n=17;l.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),m>1&&l.dpDiv.addClass("ui-datepicker-multi-"+m).css("width",n*m+"em"),l.dpDiv[(1!==e[0]||1!==e[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),l.dpDiv[(this._get(l,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),l===h.datepicker._curInst&&h.datepicker._datepickerShowing&&h.datepicker._shouldFocusInput(l)&&l.input.focus(),l.yearshtml&&(k=l.yearshtml,setTimeout(function(){k===l.yearshtml&&l.yearshtml&&l.dpDiv.find("select.ui-datepicker-year:first").replaceWith(l.yearshtml),k=l.yearshtml=null;
},0));},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus");},_checkOffset:function(w,m,q){var x=w.dpDiv.outerWidth(),l=w.dpDiv.outerHeight(),e=w.input?w.input.outerWidth():0,k=w.input?w.input.outerHeight():0,v=document.documentElement.clientWidth+(q?0:h(document).scrollLeft()),p=document.documentElement.clientHeight+(q?0:h(document).scrollTop());
return m.left-=this._get(w,"isRTL")?x-e:0,m.left-=q&&m.left===w.input.offset().left?h(document).scrollLeft():0,m.top-=q&&m.top===w.input.offset().top+k?h(document).scrollTop():0,m.left-=Math.min(m.left,m.left+x>v&&v>x?Math.abs(m.left+x-v):0),m.top-=Math.min(m.top,m.top+l>p&&p>l?Math.abs(l+k):0),m;},_findPos:function(l){for(var k,e=this._getInst(l),m=this._get(e,"isRTL");
l&&("hidden"===l.type||1!==l.nodeType||h.expr.filters.hidden(l));){l=l[m?"previousSibling":"nextSibling"];}return k=h(l).offset(),[k.left,k.top];},_hideDatepicker:function(l){var k,e,m,q,p=this._curInst;!p||l&&p!==h.data(l,g)||this._datepickerShowing&&(k=this._get(p,"showAnim"),e=this._get(p,"duration"),m=function(){h.datepicker._tidyDialog(p);
},h.effects&&(h.effects.effect[k]||h.effects[k])?p.dpDiv.hide(k,h.datepicker._get(p,"showOptions"),e,m):p.dpDiv["slideDown"===k?"slideUp":"fadeIn"===k?"fadeOut":"hide"](k?e:null,m),k||m(),this._datepickerShowing=!1,q=this._get(p,"onClose"),q&&q.apply(p.input?p.input[0]:null,[p.input?p.input.val():"",p]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),h.blockUI&&(h.unblockUI(),h("body").append(this.dpDiv))),this._inDialog=!1);
},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar");},_checkExternalClick:function(l){if(h.datepicker._curInst){var k=h(l.target),e=h.datepicker._getInst(k[0]);(k[0].id!==h.datepicker._mainDivId&&0===k.parents("#"+h.datepicker._mainDivId).length&&!k.hasClass(h.datepicker.markerClassName)&&!k.closest("."+h.datepicker._triggerClass).length&&h.datepicker._datepickerShowing&&(!h.datepicker._inDialog||!h.blockUI)||k.hasClass(h.datepicker.markerClassName)&&h.datepicker._curInst!==e)&&h.datepicker._hideDatepicker();
}},_adjustDate:function(l,k,e){var m=h(l),o=this._getInst(m[0]);this._isDisabledDatepicker(m[0])||(this._adjustInstDate(o,k+("M"===e?this._get(o,"showCurrentAtPos"):0),e),this._updateDatepicker(o));},_gotoToday:function(l){var k,e=h(l),m=this._getInst(e[0]);this._get(m,"gotoCurrent")&&m.currentDay?(m.selectedDay=m.currentDay,m.drawMonth=m.selectedMonth=m.currentMonth,m.drawYear=m.selectedYear=m.currentYear):(k=new Date,m.selectedDay=k.getDate(),m.drawMonth=m.selectedMonth=k.getMonth(),m.drawYear=m.selectedYear=k.getFullYear()),this._notifyChange(m),this._adjustDate(e);
},_selectMonthYear:function(l,k,e){var m=h(l),o=this._getInst(m[0]);o["selected"+("M"===e?"Month":"Year")]=o["draw"+("M"===e?"Month":"Year")]=parseInt(k.options[k.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(m);},_selectDay:function(l,k,e,m){var p,o=h(l);h(m).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(p=this._getInst(o[0]),p.selectedDay=p.currentDay=h("a",m).html(),p.selectedMonth=p.currentMonth=k,p.selectedYear=p.currentYear=e,this._selectDate(l,this._formatDate(p,p.currentDay,p.currentMonth,p.currentYear)));
},_clearDate:function(e){var a=h(e);this._selectDate(a,"");},_selectDate:function(l,k){var e,m=h(l),o=this._getInst(m[0]);k=null!=k?k:this._formatDate(o),o.input&&o.input.val(k),this._updateAlternate(o),e=this._get(o,"onSelect"),e?e.apply(o.input?o.input[0]:null,[k,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null);
},_updateAlternate:function(l){var k,e,m,o=this._get(l,"altField");o&&(k=this._get(l,"altFormat")||this._get(l,"dateFormat"),e=this._getDate(l),m=this.formatDate(k,e,this._getFormatConfig(l)),h(o).each(function(){h(this).val(m);}));},noWeekends:function(i){var a=i.getDay();return[a>0&&6>a,""];},iso8601Week:function(l){var k,a=new Date(l.getTime());
return a.setDate(a.getDate()+4-(a.getDay()||7)),k=a.getTime(),a.setMonth(0),a.setDate(1),Math.floor(Math.round((k-a)/86400000)/7)+1;},parseDate:function(K,S,B){if(null==K||null==S){throw"Invalid arguments";}if(S="object"==typeof S?""+S:S+"",""===S){return null;}var G,C,F,z,Q=0,L=(B?B.shortYearCutoff:null)||this._defaults.shortYearCutoff,I="string"!=typeof L?L:(new Date).getFullYear()%100+parseInt(L,10),P=(B?B.dayNamesShort:null)||this._defaults.dayNamesShort,E=(B?B.dayNames:null)||this._defaults.dayNames,N=(B?B.monthNamesShort:null)||this._defaults.monthNamesShort,H=(B?B.monthNames:null)||this._defaults.monthNames,O=-1,T=-1,x=-1,J=-1,q=!1,R=function(i){var a=K.length>G+1&&K.charAt(G+1)===i;
return a&&G++,a;},A=function(m){var k=R(m),a="@"===m?14:"!"===m?20:"y"===m&&k?4:"o"===m?3:2,l=RegExp("^\\d{1,"+a+"}"),o=S.substring(Q).match(l);if(!o){throw"Missing number at position "+Q;}return Q+=o[0].length,parseInt(o[0],10);},t=function(a,k,p){var l=-1,m=h.map(R(a)?p:k,function(n,i){return[[i,n]];
}).sort(function(n,i){return -(n[1].length-i[1].length);});if(h.each(m,function(r,n){var o=n[1];return S.substr(Q,o.length).toLowerCase()===o.toLowerCase()?(l=n[0],Q+=o.length,!1):d;}),-1!==l){return l+1;}throw"Unknown name at position "+Q;},e=function(){if(S.charAt(Q)!==K.charAt(G)){throw"Unexpected literal at position "+Q;
}Q++;};for(G=0;K.length>G;G++){if(q){"'"!==K.charAt(G)||R("'")?e():q=!1;}else{switch(K.charAt(G)){case"d":x=A("d");break;case"D":t("D",P,E);break;case"o":J=A("o");break;case"m":T=A("m");break;case"M":T=t("M",N,H);break;case"y":O=A("y");break;case"@":z=new Date(A("@")),O=z.getFullYear(),T=z.getMonth()+1,x=z.getDate();
break;case"!":z=new Date((A("!")-this._ticksTo1970)/10000),O=z.getFullYear(),T=z.getMonth()+1,x=z.getDate();break;case"'":R("'")?e():q=!0;break;default:e();}}}if(S.length>Q&&(F=S.substr(Q),!/^\s+/.test(F))){throw"Extra/unparsed characters found in date: "+F;}if(-1===O?O=(new Date).getFullYear():100>O&&(O+=(new Date).getFullYear()-(new Date).getFullYear()%100+(I>=O?0:-100)),J>-1){for(T=1,x=J;
;){if(C=this._getDaysInMonth(O,T-1),C>=x){break;}T++,x-=C;}}if(z=this._daylightSavingAdjust(new Date(O,T-1,x)),z.getFullYear()!==O||z.getMonth()+1!==T||z.getDate()!==x){throw"Invalid date";}return z;},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:10000000*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(x,C,v){if(!C){return"";
}var A,D=(v?v.dayNamesShort:null)||this._defaults.dayNamesShort,p=(v?v.dayNames:null)||this._defaults.dayNames,k=(v?v.monthNamesShort:null)||this._defaults.monthNamesShort,m=(v?v.monthNames:null)||this._defaults.monthNames,B=function(e){var a=x.length>A+1&&x.charAt(A+1)===e;return a&&A++,a;},z=function(r,o,n){var l=""+o;
if(B(r)){for(;n>l.length;){l="0"+l;}}return l;},w=function(r,o,n,l){return B(r)?l[o]:n[o];},q="",y=!1;if(C){for(A=0;x.length>A;A++){if(y){"'"!==x.charAt(A)||B("'")?q+=x.charAt(A):y=!1;}else{switch(x.charAt(A)){case"d":q+=z("d",C.getDate(),2);break;case"D":q+=w("D",C.getDay(),D,p);break;case"o":q+=z("o",Math.round((new Date(C.getFullYear(),C.getMonth(),C.getDate()).getTime()-new Date(C.getFullYear(),0,0).getTime())/86400000),3);
break;case"m":q+=z("m",C.getMonth()+1,2);break;case"M":q+=w("M",C.getMonth(),k,m);break;case"y":q+=B("y")?C.getFullYear():(10>C.getYear()%100?"0":"")+C.getYear()%100;break;case"@":q+=C.getTime();break;case"!":q+=10000*C.getTime()+this._ticksTo1970;break;case"'":B("'")?q+="'":y=!0;break;default:q+=x.charAt(A);
}}}}return q;},_possibleChars:function(o){var m,l="",k=!1,n=function(p){var e=o.length>m+1&&o.charAt(m+1)===p;return e&&m++,e;};for(m=0;o.length>m;m++){if(k){"'"!==o.charAt(m)||n("'")?l+=o.charAt(m):k=!1;}else{switch(o.charAt(m)){case"d":case"m":case"y":case"@":l+="0123456789";break;case"D":case"M":return null;
case"'":n("'")?l+="'":k=!0;break;default:l+=o.charAt(m);}}}return l;},_get:function(k,a){return k.settings[a]!==d?k.settings[a]:this._defaults[a];},_setDateFromField:function(u,m){if(u.input.val()!==u.lastVal){var l=this._get(u,"dateFormat"),k=u.lastVal=u.input?u.input.val():null,p=this._getDefaultDate(u),w=p,q=this._getFormatConfig(u);
try{w=this.parseDate(l,k,q)||p;}catch(v){k=m?"":k;}u.selectedDay=w.getDate(),u.drawMonth=u.selectedMonth=w.getMonth(),u.drawYear=u.selectedYear=w.getFullYear(),u.currentDay=k?w.getDate():0,u.currentMonth=k?w.getMonth():0,u.currentYear=k?w.getFullYear():0,this._adjustInstDate(u);}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date));
},_determineDate:function(l,k,e){var m=function(i){var a=new Date;return a.setDate(a.getDate()+i),a;},p=function(v){try{return h.datepicker.parseDate(h.datepicker._get(l,"dateFormat"),v,h.datepicker._getFormatConfig(l));}catch(q){}for(var w=(v.toLowerCase().match(/^c/)?h.datepicker._getDate(l):null)||new Date,A=w.getFullYear(),x=w.getMonth(),y=w.getDate(),t=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,z=t.exec(v);
z;){switch(z[2]||"d"){case"d":case"D":y+=parseInt(z[1],10);break;case"w":case"W":y+=7*parseInt(z[1],10);break;case"m":case"M":x+=parseInt(z[1],10),y=Math.min(y,h.datepicker._getDaysInMonth(A,x));break;case"y":case"Y":A+=parseInt(z[1],10),y=Math.min(y,h.datepicker._getDaysInMonth(A,x));}z=t.exec(v);}return new Date(A,x,y);
},o=null==k||""===k?e:"string"==typeof k?p(k):"number"==typeof k?isNaN(k)?e:m(k):new Date(k.getTime());return o=o&&"Invalid Date"==""+o?e:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o);},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null;
},_setDate:function(q,m,l){var k=!m,o=q.selectedMonth,u=q.selectedYear,p=this._restrictMinMax(q,this._determineDate(q,m,new Date));q.selectedDay=q.currentDay=p.getDate(),q.drawMonth=q.selectedMonth=q.currentMonth=p.getMonth(),q.drawYear=q.selectedYear=q.currentYear=p.getFullYear(),o===q.selectedMonth&&u===q.selectedYear||l||this._notifyChange(q),this._adjustInstDate(q),q.input&&q.input.val(k?"":this._formatDate(q));
},_getDate:function(i){var a=!i.currentYear||i.input&&""===i.input.val()?null:this._daylightSavingAdjust(new Date(i.currentYear,i.currentMonth,i.currentDay));return a;},_attachHandlers:function(l){var k=this._get(l,"stepMonths"),e="#"+l.id.replace(/\\\\/g,"\\");l.dpDiv.find("[data-handler]").map(function(){var a={prev:function(){h.datepicker._adjustDate(e,-k,"M");
},next:function(){h.datepicker._adjustDate(e,+k,"M");},hide:function(){h.datepicker._hideDatepicker();},today:function(){h.datepicker._gotoToday(e);},selectDay:function(){return h.datepicker._selectDay(e,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1;},selectMonth:function(){return h.datepicker._selectMonthYear(e,this,"M"),!1;
},selectYear:function(){return h.datepicker._selectMonthYear(e,this,"Y"),!1;}};h(this).bind(this.getAttribute("data-event"),a[this.getAttribute("data-handler")]);});},_generateHTML:function(aY){var aI,aU,a2,aJ,aP,aK,aO,aH,a0,aV,aR,aZ,aN,aW,aQ,aX,a3,aG,aS,aD,a1,ax,aF,an,ay,aE,ar,am,ag,aA,aw,ah,ab,av,ak,al,aT,ap,ai,at=new Date,ad=this._daylightSavingAdjust(new Date(at.getFullYear(),at.getMonth(),at.getDate())),ao=this._get(aY,"isRTL"),af=this._get(aY,"showButtonPanel"),az=this._get(aY,"hideIfNoPrevNext"),aC=this._get(aY,"navigationAsDateFormat"),aL=this._getNumberOfMonths(aY),au=this._get(aY,"showCurrentAtPos"),aq=this._get(aY,"stepMonths"),aj=1!==aL[0]||1!==aL[1],ae=this._daylightSavingAdjust(aY.currentDay?new Date(aY.currentYear,aY.currentMonth,aY.currentDay):new Date(9999,9,9)),aB=this._getMinMaxDate(aY,"min"),ac=this._getMinMaxDate(aY,"max"),aa=aY.drawMonth-au,aM=aY.drawYear;
if(0>aa&&(aa+=12,aM--),ac){for(aI=this._daylightSavingAdjust(new Date(ac.getFullYear(),ac.getMonth()-aL[0]*aL[1]+1,ac.getDate())),aI=aB&&aB>aI?aB:aI;this._daylightSavingAdjust(new Date(aM,aa,1))>aI;){aa--,0>aa&&(aa=11,aM--);}}for(aY.drawMonth=aa,aY.drawYear=aM,aU=this._get(aY,"prevText"),aU=aC?this.formatDate(aU,this._daylightSavingAdjust(new Date(aM,aa-aq,1)),this._getFormatConfig(aY)):aU,a2=this._canAdjustMonth(aY,-1,aM,aa)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+aU+"'><span class='ui-icon ui-icon-circle-triangle-"+(ao?"e":"w")+"'>"+aU+"</span></a>":az?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+aU+"'><span class='ui-icon ui-icon-circle-triangle-"+(ao?"e":"w")+"'>"+aU+"</span></a>",aJ=this._get(aY,"nextText"),aJ=aC?this.formatDate(aJ,this._daylightSavingAdjust(new Date(aM,aa+aq,1)),this._getFormatConfig(aY)):aJ,aP=this._canAdjustMonth(aY,1,aM,aa)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+aJ+"'><span class='ui-icon ui-icon-circle-triangle-"+(ao?"w":"e")+"'>"+aJ+"</span></a>":az?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+aJ+"'><span class='ui-icon ui-icon-circle-triangle-"+(ao?"w":"e")+"'>"+aJ+"</span></a>",aK=this._get(aY,"currentText"),aO=this._get(aY,"gotoCurrent")&&aY.currentDay?ae:ad,aK=aC?this.formatDate(aK,aO,this._getFormatConfig(aY)):aK,aH=aY.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(aY,"closeText")+"</button>",a0=af?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(ao?aH:"")+(this._isInRange(aY,aO)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+aK+"</button>":"")+(ao?"":aH)+"</div>":"",aV=parseInt(this._get(aY,"firstDay"),10),aV=isNaN(aV)?0:aV,aR=this._get(aY,"showWeek"),aZ=this._get(aY,"dayNames"),aN=this._get(aY,"dayNamesMin"),aW=this._get(aY,"monthNames"),aQ=this._get(aY,"monthNamesShort"),aX=this._get(aY,"beforeShowDay"),a3=this._get(aY,"showOtherMonths"),aG=this._get(aY,"selectOtherMonths"),aS=this._getDefaultDate(aY),aD="",ax=0;
aL[0]>ax;ax++){for(aF="",this.maxRows=4,an=0;aL[1]>an;an++){if(ay=this._daylightSavingAdjust(new Date(aM,aa,aY.selectedDay)),aE=" ui-corner-all",ar="",aj){if(ar+="<div class='ui-datepicker-group",aL[1]>1){switch(an){case 0:ar+=" ui-datepicker-group-first",aE=" ui-corner-"+(ao?"right":"left");break;case aL[1]-1:ar+=" ui-datepicker-group-last",aE=" ui-corner-"+(ao?"left":"right");
break;default:ar+=" ui-datepicker-group-middle",aE="";}}ar+="'>";}for(ar+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+aE+"'>"+(/all|left/.test(aE)&&0===ax?ao?aP:a2:"")+(/all|right/.test(aE)&&0===ax?ao?a2:aP:"")+this._generateMonthYearHeader(aY,aa,aM,aB,ac,ax>0||an>0,aW,aQ)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",am=aR?"<th class='ui-datepicker-week-col'>"+this._get(aY,"weekHeader")+"</th>":"",a1=0;
7>a1;a1++){ag=(a1+aV)%7,am+="<th"+((a1+aV+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+aZ[ag]+"'>"+aN[ag]+"</span></th>";}for(ar+=am+"</tr></thead><tbody>",aA=this._getDaysInMonth(aM,aa),aM===aY.selectedYear&&aa===aY.selectedMonth&&(aY.selectedDay=Math.min(aY.selectedDay,aA)),aw=(this._getFirstDayOfMonth(aM,aa)-aV+7)%7,ah=Math.ceil((aw+aA)/7),ab=aj?this.maxRows>ah?this.maxRows:ah:ah,this.maxRows=ab,av=this._daylightSavingAdjust(new Date(aM,aa,1-aw)),ak=0;
ab>ak;ak++){for(ar+="<tr>",al=aR?"<td class='ui-datepicker-week-col'>"+this._get(aY,"calculateWeek")(av)+"</td>":"",a1=0;7>a1;a1++){aT=aX?aX.apply(aY.input?aY.input[0]:null,[av]):[!0,""],ap=av.getMonth()!==aa,ai=ap&&!aG||!aT[0]||aB&&aB>av||ac&&av>ac,al+="<td class='"+((a1+aV+6)%7>=5?" ui-datepicker-week-end":"")+(ap?" ui-datepicker-other-month":"")+(av.getTime()===ay.getTime()&&aa===aY.selectedMonth&&aY._keyEvent||aS.getTime()===av.getTime()&&aS.getTime()===ay.getTime()?" "+this._dayOverClass:"")+(ai?" "+this._unselectableClass+" ui-state-disabled":"")+(ap&&!a3?"":" "+aT[1]+(av.getTime()===ae.getTime()?" "+this._currentClass:"")+(av.getTime()===ad.getTime()?" ui-datepicker-today":""))+"'"+(ap&&!a3||!aT[2]?"":" title='"+aT[2].replace(/'/g,"&#39;")+"'")+(ai?"":" data-handler='selectDay' data-event='click' data-month='"+av.getMonth()+"' data-year='"+av.getFullYear()+"'")+">"+(ap&&!a3?"&#xa0;":ai?"<span class='ui-state-default'>"+av.getDate()+"</span>":"<a class='ui-state-default"+(av.getTime()===ad.getTime()?" ui-state-highlight":"")+(av.getTime()===ae.getTime()?" ui-state-active":"")+(ap?" ui-priority-secondary":"")+"' href='#'>"+av.getDate()+"</a>")+"</td>",av.setDate(av.getDate()+1),av=this._daylightSavingAdjust(av);
}ar+=al+"</tr>";}aa++,aa>11&&(aa=0,aM++),ar+="</tbody></table>"+(aj?"</div>"+(aL[0]>0&&an===aL[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),aF+=ar;}aD+=aF;}return aD+=a0,aY._keyEvent=!1,aD;},_generateMonthYearHeader:function(M,z,I,P,A,E,B,D){var x,O,J,G,N,C,K,F,L=this._get(M,"changeMonth"),Q=this._get(M,"changeYear"),w=this._get(M,"showMonthAfterYear"),H="<div class='ui-datepicker-title'>",q="";
if(E||!L){q+="<span class='ui-datepicker-month'>"+B[z]+"</span>";}else{for(x=P&&P.getFullYear()===I,O=A&&A.getFullYear()===I,q+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",J=0;12>J;J++){(!x||J>=P.getMonth())&&(!O||A.getMonth()>=J)&&(q+="<option value='"+J+"'"+(J===z?" selected='selected'":"")+">"+D[J]+"</option>");
}q+="</select>";}if(w||(H+=q+(!E&&L&&Q?"":"&#xa0;")),!M.yearshtml){if(M.yearshtml="",E||!Q){H+="<span class='ui-datepicker-year'>"+I+"</span>";}else{for(G=this._get(M,"yearRange").split(":"),N=(new Date).getFullYear(),C=function(i){var a=i.match(/c[+\-].*/)?I+parseInt(i.substring(1),10):i.match(/[+\-].*/)?N+parseInt(i,10):parseInt(i,10);
return isNaN(a)?N:a;},K=C(G[0]),F=Math.max(K,C(G[1]||"")),K=P?Math.max(K,P.getFullYear()):K,F=A?Math.min(F,A.getFullYear()):F,M.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";F>=K;K++){M.yearshtml+="<option value='"+K+"'"+(K===I?" selected='selected'":"")+">"+K+"</option>";
}M.yearshtml+="</select>",H+=M.yearshtml,M.yearshtml=null;}}return H+=this._get(M,"yearSuffix"),w&&(H+=(!E&&L&&Q?"":"&#xa0;")+q),H+="</div>";},_adjustInstDate:function(q,m,l){var k=q.drawYear+("Y"===l?m:0),o=q.drawMonth+("M"===l?m:0),u=Math.min(q.selectedDay,this._getDaysInMonth(k,o))+("D"===l?m:0),p=this._restrictMinMax(q,this._daylightSavingAdjust(new Date(k,o,u)));
q.selectedDay=p.getDate(),q.drawMonth=q.selectedMonth=p.getMonth(),q.drawYear=q.selectedYear=p.getFullYear(),("M"===l||"Y"===l)&&this._notifyChange(q);},_restrictMinMax:function(o,m){var l=this._getMinMaxDate(o,"min"),k=this._getMinMaxDate(o,"max"),n=l&&l>m?l:m;return k&&n>k?k:n;},_notifyChange:function(i){var a=this._get(i,"onChangeMonthYear");
a&&a.apply(i.input?i.input[0]:null,[i.selectedYear,i.selectedMonth+1,i]);},_getNumberOfMonths:function(i){var a=this._get(i,"numberOfMonths");return null==a?[1,1]:"number"==typeof a?[1,a]:a;},_getMinMaxDate:function(i,a){return this._determineDate(i,this._get(i,a+"Date"),null);},_getDaysInMonth:function(i,a){return 32-this._daylightSavingAdjust(new Date(i,a,32)).getDate();
},_getFirstDayOfMonth:function(i,a){return new Date(i,a,1).getDay();},_canAdjustMonth:function(p,m,l,k){var o=this._getNumberOfMonths(p),q=this._daylightSavingAdjust(new Date(l,k+(0>m?m:o[0]*o[1]),1));return 0>m&&q.setDate(this._getDaysInMonth(q.getFullYear(),q.getMonth())),this._isInRange(p,q);},_isInRange:function(q,x){var p,v,y=this._getMinMaxDate(q,"min"),m=this._getMinMaxDate(q,"max"),k=null,l=null,w=this._get(q,"yearRange");
return w&&(p=w.split(":"),v=(new Date).getFullYear(),k=parseInt(p[0],10),l=parseInt(p[1],10),p[0].match(/[+\-].*/)&&(k+=v),p[1].match(/[+\-].*/)&&(l+=v)),(!y||x.getTime()>=y.getTime())&&(!m||x.getTime()<=m.getTime())&&(!k||x.getFullYear()>=k)&&(!l||l>=x.getFullYear());},_getFormatConfig:function(i){var a=this._get(i,"shortYearCutoff");
return a="string"!=typeof a?a:(new Date).getFullYear()%100+parseInt(a,10),{shortYearCutoff:a,dayNamesShort:this._get(i,"dayNamesShort"),dayNames:this._get(i,"dayNames"),monthNamesShort:this._get(i,"monthNamesShort"),monthNames:this._get(i,"monthNames")};},_formatDate:function(o,m,l,k){m||(o.currentDay=o.selectedDay,o.currentMonth=o.selectedMonth,o.currentYear=o.selectedYear);
var n=m?"object"==typeof m?m:this._daylightSavingAdjust(new Date(k,l,m)):this._daylightSavingAdjust(new Date(o.currentYear,o.currentMonth,o.currentDay));return this.formatDate(this._get(o,"dateFormat"),n,this._getFormatConfig(o));}}),h.fn.datepicker=function(e){if(!this.length){return this;}h.datepicker.initialized||(h(document).mousedown(h.datepicker._checkExternalClick),h.datepicker.initialized=!0),0===h("#"+h.datepicker._mainDivId).length&&h("body").append(h.datepicker.dpDiv);
var a=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?h.datepicker["_"+e+"Datepicker"].apply(h.datepicker,[this[0]].concat(a)):this.each(function(){"string"==typeof e?h.datepicker["_"+e+"Datepicker"].apply(h.datepicker,[this].concat(a)):h.datepicker._attachDatepicker(this,e);
}):h.datepicker["_"+e+"Datepicker"].apply(h.datepicker,[this[0]].concat(a));},h.datepicker=new c,h.datepicker.initialized=!1,h.datepicker.uuid=(new Date).getTime(),h.datepicker.version="1.10.4";})(jQuery);(function(c){var b={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},a={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};
c.widget("ui.dialog",{version:"1.10.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var d=c(this).css(e).offset().top;
0>d&&c(this).css("top",e.top-d);}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&c.fn.draggable&&this._makeDraggable(),this.options.resizable&&c.fn.resizable&&this._makeResizable(),this._isOpen=!1;
},_init:function(){this.options.autoOpen&&this.open();},_appendTo:function(){var d=this.options.appendTo;return d&&(d.jquery||d.nodeType)?c(d):this.document.find(d||"body").eq(0);},_destroy:function(){var f,d=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),f=d.parent.children().eq(d.index),f.length&&f[0]!==this.element[0]?f.before(this.element):d.parent.append(this.element);
},widget:function(){return this.uiDialog;},disable:c.noop,enable:c.noop,close:function(f){var e,d=this;if(this._isOpen&&this._trigger("beforeClose",f)!==!1){if(this._isOpen=!1,this._destroyOverlay(),!this.opener.filter(":focusable").focus().length){try{e=this.document[0].activeElement,e&&"body"!==e.nodeName.toLowerCase()&&c(e).blur();
}catch(g){}}this._hide(this.uiDialog,this.options.hide,function(){d._trigger("close",f);});}},isOpen:function(){return this._isOpen;},moveToTop:function(){this._moveToTop();},_moveToTop:function(g,f){var d=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return d&&!f&&this._trigger("focus",g),d;
},open:function(){var d=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),undefined):(this._isOpen=!0,this.opener=c(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){d._focusTabbable(),d._trigger("focus");
}),this._trigger("open"),undefined);},_focusTabbable:function(){var d=this.element.find("[autofocus]");d.length||(d=this.element.find(":tabbable")),d.length||(d=this.uiDialogButtonPane.find(":tabbable")),d.length||(d=this.uiDialogTitlebarClose.filter(":tabbable")),d.length||(d=this.uiDialog),d.eq(0).focus();
},_keepFocus:function(e){function d(){var g=this.document[0].activeElement,f=this.uiDialog[0]===g||c.contains(this.uiDialog[0],g);f||this._focusTabbable();}e.preventDefault(),d.call(this),this._delay(d);},_createWrapper:function(){this.uiDialog=c("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(f){if(this.options.closeOnEscape&&!f.isDefaultPrevented()&&f.keyCode&&f.keyCode===c.ui.keyCode.ESCAPE){return f.preventDefault(),this.close(f),undefined;
}if(f.keyCode===c.ui.keyCode.TAB){var e=this.uiDialog.find(":tabbable"),d=e.filter(":first"),g=e.filter(":last");f.target!==g[0]&&f.target!==this.uiDialog[0]||f.shiftKey?f.target!==d[0]&&f.target!==this.uiDialog[0]||!f.shiftKey||(g.focus(1),f.preventDefault()):(d.focus(1),f.preventDefault());}},mousedown:function(d){this._moveToTop(d)&&this._focusTabbable();
}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")});},_createTitlebar:function(){var d;this.uiDialogTitlebar=c("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){c(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus();
}}),this.uiDialogTitlebarClose=c("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(f){f.preventDefault(),this.close(f);
}}),d=c("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(d),this.uiDialog.attr({"aria-labelledby":d.attr("id")});},_title:function(d){this.options.title||d.html("&#160;"),d.text(this.options.title);},_createButtonPane:function(){this.uiDialogButtonPane=c("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=c("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons();
},_createButtons:function(){var e=this,d=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),c.isEmptyObject(d)||c.isArray(d)&&!d.length?(this.uiDialog.removeClass("ui-dialog-buttons"),undefined):(c.each(d,function(g,f){var h,j;f=c.isFunction(f)?{click:f,text:g}:f,f=c.extend({type:"button"},f),h=f.click,f.click=function(){h.apply(e.element[0],arguments);
},j={icons:f.icons,text:f.showText},delete f.icons,delete f.showText,c("<button></button>",f).button(j).appendTo(e.uiButtonSet);}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),undefined);},_makeDraggable:function(){function f(g){return{position:g.position,offset:g.offset};
}var e=this,d=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(g,h){c(this).addClass("ui-dialog-dragging"),e._blockFrames(),e._trigger("dragStart",g,f(h));},drag:function(h,g){e._trigger("drag",h,f(g));
},stop:function(g,h){d.position=[h.position.left-e.document.scrollLeft(),h.position.top-e.document.scrollTop()],c(this).removeClass("ui-dialog-dragging"),e._unblockFrames(),e._trigger("dragStop",g,f(h));}});},_makeResizable:function(){function f(i){return{originalPosition:i.originalPosition,originalSize:i.originalSize,position:i.position,size:i.size};
}var e=this,d=this.options,g=d.resizable,j=this.uiDialog.css("position"),h="string"==typeof g?g:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:d.maxWidth,maxHeight:d.maxHeight,minWidth:d.minWidth,minHeight:this._minHeight(),handles:h,start:function(i,k){c(this).addClass("ui-dialog-resizing"),e._blockFrames(),e._trigger("resizeStart",i,f(k));
},resize:function(k,i){e._trigger("resize",k,f(i));},stop:function(i,k){d.height=c(this).height(),d.width=c(this).width(),c(this).removeClass("ui-dialog-resizing"),e._unblockFrames(),e._trigger("resizeStop",i,f(k));}}).css("position",j);},_minHeight:function(){var d=this.options;return"auto"===d.height?d.minHeight:Math.min(d.minHeight,d.height);
},_position:function(){var d=this.uiDialog.is(":visible");d||this.uiDialog.show(),this.uiDialog.position(this.options.position),d||this.uiDialog.hide();},_setOptions:function(d){var e=this,g=!1,f={};c.each(d,function(i,h){e._setOption(i,h),i in b&&(g=!0),i in a&&(f[i]=h);}),g&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",f);
},_setOption:function(j,g){var f,d,h=this.uiDialog;"dialogClass"===j&&h.removeClass(this.options.dialogClass).addClass(g),"disabled"!==j&&(this._super(j,g),"appendTo"===j&&this.uiDialog.appendTo(this._appendTo()),"buttons"===j&&this._createButtons(),"closeText"===j&&this.uiDialogTitlebarClose.button({label:""+g}),"draggable"===j&&(f=h.is(":data(ui-draggable)"),f&&!g&&h.draggable("destroy"),!f&&g&&this._makeDraggable()),"position"===j&&this._position(),"resizable"===j&&(d=h.is(":data(ui-resizable)"),d&&!g&&h.resizable("destroy"),d&&"string"==typeof g&&h.resizable("option","handles",g),d||g===!1||this._makeResizable()),"title"===j&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")));
},_size:function(){var h,g,f,d=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),d.minWidth>d.width&&(d.width=d.minWidth),h=this.uiDialog.css({height:"auto",width:d.width}).outerHeight(),g=Math.max(0,d.minHeight-h),f="number"==typeof d.maxHeight?Math.max(0,d.maxHeight-h):"none","auto"===d.height?this.element.css({minHeight:g,maxHeight:f,height:"auto"}):this.element.height(Math.max(0,d.height-h)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight());
},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var d=c(this);return c("<div>").css({position:"absolute",width:d.outerWidth(),height:d.outerHeight()}).appendTo(d.parent()).offset(d.offset())[0];});},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks);
},_allowInteraction:function(d){return c(d.target).closest(".ui-dialog").length?!0:!!c(d.target).closest(".ui-datepicker").length;},_createOverlay:function(){if(this.options.modal){var e=this,d=this.widgetFullName;c.ui.dialog.overlayInstances||this._delay(function(){c.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(f){e._allowInteraction(f)||(f.preventDefault(),c(".ui-dialog:visible:last .ui-dialog-content").data(d)._focusTabbable());
});}),this.overlay=c("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),c.ui.dialog.overlayInstances++;}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(c.ui.dialog.overlayInstances--,c.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null);
}}),c.ui.dialog.overlayInstances=0,c.uiBackCompat!==!1&&c.widget("ui.dialog",c.ui.dialog,{_position:function(){var f,e=this.options.position,d=[],g=[0,0];e?(("string"==typeof e||"object"==typeof e&&"0" in e)&&(d=e.split?e.split(" "):[e[0],e[1]],1===d.length&&(d[1]=d[0]),c.each(["left","top"],function(i,h){+d[i]===d[i]&&(g[i]=d[i],d[i]=h);
}),e={my:d[0]+(0>g[0]?g[0]:"+"+g[0])+" "+d[1]+(0>g[1]?g[1]:"+"+g[1]),at:d.join(" ")}),e=c.extend({},c.ui.dialog.prototype.options.position,e)):e=c.ui.dialog.prototype.options.position,f=this.uiDialog.is(":visible"),f||this.uiDialog.show(),this.uiDialog.position(e),f||this.uiDialog.hide();}});})(jQuery);
(function(a){a.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,a.proxy(function(b){this.options.disabled&&b.preventDefault();
},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(b){b.preventDefault();},"click .ui-state-disabled > a":function(b){b.preventDefault();},"click .ui-menu-item:has(a)":function(c){var b=a(c.target).closest(".ui-menu-item");
!this.mouseHandled&&b.not(".ui-state-disabled").length&&(this.select(c),c.isPropagationStopped()||(this.mouseHandled=!0),b.has(".ui-menu").length?this.expand(c):!this.element.is(":focus")&&a(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)));
},"mouseenter .ui-menu-item":function(c){var b=a(c.currentTarget);b.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(c,b);},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(c,d){var b=this.active||this.element.children(".ui-menu-item").eq(0);
d||this.focus(c,b);},blur:function(b){this._delay(function(){a.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(b);});},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(b){a(b.target).closest(".ui-menu").length||this.collapseAll(b),this.mouseHandled=!1;
}});},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var b=a(this);
b.data("ui-menu-submenu-carat")&&b.remove();}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content");},_keydown:function(h){function d(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");}var f,k,c,j,g,b=!0;switch(h.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(h);
break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(h);break;case a.ui.keyCode.HOME:this._move("first","first",h);break;case a.ui.keyCode.END:this._move("last","last",h);break;case a.ui.keyCode.UP:this.previous(h);break;case a.ui.keyCode.DOWN:this.next(h);break;case a.ui.keyCode.LEFT:this.collapse(h);break;
case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(h);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(h);break;case a.ui.keyCode.ESCAPE:this.collapse(h);break;default:b=!1,k=this.previousFilter||"",c=String.fromCharCode(h.keyCode),j=!1,clearTimeout(this.filterTimer),c===k?j=!0:c=k+c,g=RegExp("^"+d(c),"i"),f=this.activeMenu.children(".ui-menu-item").filter(function(){return g.test(a(this).children("a").text());
}),f=j&&-1!==f.index(this.active.next())?this.active.nextAll(".ui-menu-item"):f,f.length||(c=String.fromCharCode(h.keyCode),g=RegExp("^"+d(c),"i"),f=this.activeMenu.children(".ui-menu-item").filter(function(){return g.test(a(this).children("a").text());})),f.length?(this.focus(h,f),f.length>1?(this.previousFilter=c,this.filterTimer=this._delay(function(){delete this.previousFilter;
},1000)):delete this.previousFilter):delete this.previousFilter;}b&&h.preventDefault();},_activate:function(b){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(b):this.select(b));},refresh:function(){var d,b=this.options.icons.submenu,c=this.element.find(this.options.menus);
this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),c.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var g=a(this),f=g.prev("a"),h=a("<span>").addClass("ui-menu-icon ui-icon "+b).data("ui-menu-submenu-carat",!0);
f.attr("aria-haspopup","true").prepend(h),g.attr("aria-labelledby",f.attr("id"));}),d=c.add(this.element),d.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),d.children(":not(.ui-menu-item)").each(function(){var f=a(this);
/[^\-\u2014\u2013\s]/.test(f.text())||f.addClass("ui-widget-content ui-menu-divider");}),d.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!a.contains(this.element[0],this.active[0])&&this.blur();},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role];
},_setOption:function(b,c){"icons"===b&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(c.submenu),this._super(b,c);},focus:function(c,f){var b,d;this.blur(c,c&&"focus"===c.type),this._scrollIntoView(f),this.active=f.first(),d=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",d.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),c&&"keydown"===c.type?this._close():this.timer=this._delay(function(){this._close();
},this.delay),b=f.children(".ui-menu"),b.length&&c&&/^mouse/.test(c.type)&&this._startOpening(b),this.activeMenu=f.parent(),this._trigger("focus",c,{item:f});},_scrollIntoView:function(g){var c,d,j,b,h,f;this._hasScroll()&&(c=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,d=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,j=g.offset().top-this.activeMenu.offset().top-c-d,b=this.activeMenu.scrollTop(),h=this.activeMenu.height(),f=g.height(),0>j?this.activeMenu.scrollTop(b+j):j+f>h&&this.activeMenu.scrollTop(b+j-h+f));
},blur:function(b,c){c||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",b,{item:this.active}));},_startOpening:function(b){clearTimeout(this.timer),"true"===b.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(b);
},this.delay));},_open:function(c){var b=a.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(c.parents(".ui-menu")).hide().attr("aria-hidden","true"),c.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(b);},collapseAll:function(c,b){clearTimeout(this.timer),this.timer=this._delay(function(){var d=b?this.element:a(c&&c.target).closest(this.element.find(".ui-menu"));
d.length||(d=this.element),this._close(d),this.blur(c),this.activeMenu=d;},this.delay);},_close:function(b){b||(b=this.active?this.active.parent():this.element),b.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active");
},collapse:function(b){var c=this.active&&this.active.parent().closest(".ui-menu-item",this.element);c&&c.length&&(this._close(),this.focus(b,c));},expand:function(b){var c=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();c&&c.length&&(this._open(c.parent()),this._delay(function(){this.focus(b,c);
}));},next:function(b){this._move("next","first",b);},previous:function(b){this._move("prev","last",b);},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length;},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length;},_move:function(c,f,b){var d;
this.active&&(d="first"===c||"last"===c?this.active["first"===c?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[c+"All"](".ui-menu-item").eq(0)),d&&d.length&&this.active||(d=this.activeMenu.children(".ui-menu-item")[f]()),this.focus(b,d);},nextPage:function(d){var b,c,f;return this.active?(this.isLastItem()||(this._hasScroll()?(c=this.active.offset().top,f=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return b=a(this),0>b.offset().top-c-f;
}),this.focus(d,b)):this.focus(d,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())),undefined):(this.next(d),undefined);},previousPage:function(d){var b,c,f;return this.active?(this.isFirstItem()||(this._hasScroll()?(c=this.active.offset().top,f=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return b=a(this),b.offset().top-c+f>0;
}),this.focus(d,b)):this.focus(d,this.activeMenu.children(".ui-menu-item").first())),undefined):(this.next(d),undefined);},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight");},select:function(c){this.active=this.active||a(c.target).closest(".ui-menu-item");var b={item:this.active};
this.active.has(".ui-menu").length||this.collapseAll(c,!0),this._trigger("select",c,b);}});})(jQuery);(function(a,b){a.widget("ui.progressbar",{version:"1.10.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue();
},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove();},value:function(c){return c===b?this.options.value:(this.options.value=this._constrainedValue(c),this._refreshValue(),b);
},_constrainedValue:function(c){return c===b&&(c=this.options.value),this.indeterminate=c===!1,"number"!=typeof c&&(c=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,c));},_setOptions:function(c){var d=c.value;delete c.value,this._super(c),this.options.value=this._constrainedValue(d),this._refreshValue();
},_setOption:function(c,d){"max"===c&&(d=Math.max(this.min,d)),this._super(c,d);},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min);},_refreshValue:function(){var d=this.options.value,c=this._percentage();this.valueDiv.toggle(this.indeterminate||d>this.min).toggleClass("ui-corner-right",d===this.options.max).width(c.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=a("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":d}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==d&&(this.oldValue=d,this._trigger("change")),d===this.options.max&&this._trigger("complete");
}});})(jQuery);(function(a){var b=5;a.widget("ui.slider",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1;
},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue();},_createHandles:function(){var g,d,f=this.options,j=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),c="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",h=[];
for(d=f.values&&f.values.length||1,j.length>d&&(j.slice(d).remove(),j=j.slice(0,d)),g=j.length;d>g;g++){h.push(c);}this.handles=j.add(a(h.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(i){a(this).data("ui-slider-handle-index",i);});},_createRange:function(){var d=this.options,c="";
d.range?(d.range===!0&&(d.values?d.values.length&&2!==d.values.length?d.values=[d.values[0],d.values[0]]:a.isArray(d.values)&&(d.values=d.values.slice(0)):d.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=a("<div></div>").appendTo(this.element),c="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(c+("min"===d.range||"max"===d.range?" ui-slider-range-"+d.range:""))):(this.range&&this.range.remove(),this.range=null);
},_setupEvents:function(){var c=this.handles.add(this.range).filter("a");this._off(c),this._on(c,this._handleEvents),this._hoverable(c),this._focusable(c);},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy();
},_mouseCapture:function(p){var k,w,g,t,f,d,j,m,v=this,q=this.options;return q.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),k={x:p.pageX,y:p.pageY},w=this._normValueFromMouse(k),g=this._valueMax()-this._valueMin()+1,this.handles.each(function(h){var c=Math.abs(w-v.values(h));
(g>c||g===c&&(h===v._lastChangedValue||v.values(h)===q.min))&&(g=c,t=a(this),f=h);}),d=this._start(p,f),d===!1?!1:(this._mouseSliding=!0,this._handleIndex=f,t.addClass("ui-state-active").focus(),j=t.offset(),m=!a(p.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=m?{left:0,top:0}:{left:p.pageX-j.left-t.width()/2,top:p.pageY-j.top-t.height()/2-(parseInt(t.css("borderTopWidth"),10)||0)-(parseInt(t.css("borderBottomWidth"),10)||0)+(parseInt(t.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(p,f,w),this._animateOff=!0,!0));
},_mouseStart:function(){return !0;},_mouseDrag:function(d){var f={x:d.pageX,y:d.pageY},c=this._normValueFromMouse(f);return this._slide(d,this._handleIndex,c),!1;},_mouseStop:function(c){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(c,this._handleIndex),this._change(c,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1;
},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal";},_normValueFromMouse:function(f){var h,d,g,j,c;return"horizontal"===this.orientation?(h=this.elementSize.width,d=f.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(h=this.elementSize.height,d=f.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),g=d/h,g>1&&(g=1),0>g&&(g=0),"vertical"===this.orientation&&(g=1-g),j=this._valueMax()-this._valueMin(),c=this._valueMin()+g*j,this._trimAlignValue(c);
},_start:function(d,f){var c={handle:this.handles[f],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(f),c.values=this.values()),this._trigger("start",d,c);},_slide:function(f,h,d){var g,j,c;this.options.values&&this.options.values.length?(g=this.values(h?0:1),2===this.options.values.length&&this.options.range===!0&&(0===h&&d>g||1===h&&g>d)&&(d=g),d!==this.values(h)&&(j=this.values(),j[h]=d,c=this._trigger("slide",f,{handle:this.handles[h],value:d,values:j}),g=this.values(h?0:1),c!==!1&&this.values(h,d))):d!==this.value()&&(c=this._trigger("slide",f,{handle:this.handles[h],value:d}),c!==!1&&this.value(d));
},_stop:function(d,f){var c={handle:this.handles[f],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(f),c.values=this.values()),this._trigger("stop",d,c);},_change:function(d,f){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[f],value:this.value()};
this.options.values&&this.options.values.length&&(c.value=this.values(f),c.values=this.values()),this._lastChangedValue=f,this._trigger("change",d,c);}},value:function(c){return arguments.length?(this.options.value=this._trimAlignValue(c),this._refreshValue(),this._change(null,0),undefined):this._value();
},values:function(g,d){var f,h,c;if(arguments.length>1){return this.options.values[g]=this._trimAlignValue(d),this._refreshValue(),this._change(null,g),undefined;}if(!arguments.length){return this._values();}if(!a.isArray(arguments[0])){return this.options.values&&this.options.values.length?this._values(g):this.value();
}for(f=this.options.values,h=arguments[0],c=0;f.length>c;c+=1){f[c]=this._trimAlignValue(h[c]),this._change(null,c);}this._refreshValue();},_setOption:function(f,c){var d,g=0;switch("range"===f&&this.options.range===!0&&("min"===c?(this.options.value=this._values(0),this.options.values=null):"max"===c&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),a.isArray(this.options.values)&&(g=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments),f){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();
break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),d=0;g>d;d+=1){this._change(null,d);}this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;
break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1;}},_value:function(){var c=this.options.value;return c=this._trimAlignValue(c);},_values:function(d){var g,c,f;if(arguments.length){return g=this.options.values[d],g=this._trimAlignValue(g);}if(this.options.values&&this.options.values.length){for(c=this.options.values.slice(),f=0;
c.length>f;f+=1){c[f]=this._trimAlignValue(c[f]);}return c;}return[];},_trimAlignValue:function(d){if(this._valueMin()>=d){return this._valueMin();}if(d>=this._valueMax()){return this._valueMax();}var g=this.options.step>0?this.options.step:1,c=(d-this._valueMin())%g,f=d-c;return 2*Math.abs(c)>=g&&(f+=c>0?g:-g),parseFloat(f.toFixed(5));
},_valueMin:function(){return this.options.min;},_valueMax:function(){return this.options.max;},_refreshValue:function(){var m,j,t,f,p,d=this.options.range,c=this.options,g=this,k=this._animateOff?!1:c.animate,q={};this.options.values&&this.options.values.length?this.handles.each(function(e){j=100*((g.values(e)-g._valueMin())/(g._valueMax()-g._valueMin())),q["horizontal"===g.orientation?"left":"bottom"]=j+"%",a(this).stop(1,1)[k?"animate":"css"](q,c.animate),g.options.range===!0&&("horizontal"===g.orientation?(0===e&&g.range.stop(1,1)[k?"animate":"css"]({left:j+"%"},c.animate),1===e&&g.range[k?"animate":"css"]({width:j-m+"%"},{queue:!1,duration:c.animate})):(0===e&&g.range.stop(1,1)[k?"animate":"css"]({bottom:j+"%"},c.animate),1===e&&g.range[k?"animate":"css"]({height:j-m+"%"},{queue:!1,duration:c.animate}))),m=j;
}):(t=this.value(),f=this._valueMin(),p=this._valueMax(),j=p!==f?100*((t-f)/(p-f)):0,q["horizontal"===this.orientation?"left":"bottom"]=j+"%",this.handle.stop(1,1)[k?"animate":"css"](q,c.animate),"min"===d&&"horizontal"===this.orientation&&this.range.stop(1,1)[k?"animate":"css"]({width:j+"%"},c.animate),"max"===d&&"horizontal"===this.orientation&&this.range[k?"animate":"css"]({width:100-j+"%"},{queue:!1,duration:c.animate}),"min"===d&&"vertical"===this.orientation&&this.range.stop(1,1)[k?"animate":"css"]({height:j+"%"},c.animate),"max"===d&&"vertical"===this.orientation&&this.range[k?"animate":"css"]({height:100-j+"%"},{queue:!1,duration:c.animate}));
},_handleEvents:{keydown:function(d){var e,h,c,g,f=a(d.target).data("ui-slider-handle-index");switch(d.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(d.preventDefault(),!this._keySliding&&(this._keySliding=!0,a(d.target).addClass("ui-state-active"),e=this._start(d,f),e===!1)){return;
}}switch(g=this.options.step,h=c=this.options.values&&this.options.values.length?this.values(f):this.value(),d.keyCode){case a.ui.keyCode.HOME:c=this._valueMin();break;case a.ui.keyCode.END:c=this._valueMax();break;case a.ui.keyCode.PAGE_UP:c=this._trimAlignValue(h+(this._valueMax()-this._valueMin())/b);
break;case a.ui.keyCode.PAGE_DOWN:c=this._trimAlignValue(h-(this._valueMax()-this._valueMin())/b);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(h===this._valueMax()){return;}c=this._trimAlignValue(h+g);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(h===this._valueMin()){return;}c=this._trimAlignValue(h-g);
}this._slide(d,f,c);},click:function(c){c.preventDefault();},keyup:function(d){var c=a(d.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(d,c),this._change(d,c),a(d.target).removeClass("ui-state-active"));}}});})(jQuery);(function(a){function b(c){return function(){var d=this.element.val();
c.apply(this,arguments),this._refresh(),d!==this.element.val()&&this._trigger("change");};}a.widget("ui.spinner",{version:"1.10.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete");
}});},_getCreateOptions:function(){var d={},c=this.element;return a.each(["min","max","step"],function(e,f){var g=c.attr(f);void 0!==g&&g.length&&(d[f]=g);}),d;},_events:{keydown:function(c){this._start(c)&&this._keydown(c)&&c.preventDefault();},keyup:"_stop",focus:function(){this.previous=this.element.val();
},blur:function(c){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",c),void 0);},mousewheel:function(c,d){if(d){if(!this.spinning&&!this._start(c)){return !1;}this._spin((d>0?1:-1)*this.options.step,c),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(c);
},100),c.preventDefault();}},"mousedown .ui-spinner-button":function(f){function c(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d;}));}var d;d=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),f.preventDefault(),c.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,c.call(this);
}),this._start(f)!==!1&&this._repeat(null,a(f.currentTarget).hasClass("ui-spinner-up")?1:-1,f);},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(c){return a(c.currentTarget).hasClass("ui-state-active")?this._start(c)===!1?!1:(this._repeat(null,a(c.currentTarget).hasClass("ui-spinner-up")?1:-1,c),void 0):void 0;
},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var c=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=c.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(0.5*c.height())&&c.height()>0&&c.height(c.height()),this.options.disabled&&this.disable();
},_keydown:function(f){var c=this.options,d=a.ui.keyCode;switch(f.keyCode){case d.UP:return this._repeat(null,1,f),!0;case d.DOWN:return this._repeat(null,-1,f),!0;case d.PAGE_UP:return this._repeat(null,c.page,f),!0;case d.PAGE_DOWN:return this._repeat(null,-c.page,f),!0;}return !1;},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>";
},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>";},_start:function(c){return this.spinning||this._trigger("start",c)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1;
},_repeat:function(d,f,c){d=d||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,f,c);},d),this._spin(f*this.options.step,c);},_spin:function(d,f){var c=this.value()||0;this.counter||(this.counter=1),c=this._adjustValue(c+d*this._increment(this.counter)),this.spinning&&this._trigger("spin",f,{value:c})===!1||(this._value(c),this.counter++);
},_increment:function(d){var c=this.options.incremental;return c?a.isFunction(c)?c(d):Math.floor(d*d*d/50000-d*d/500+17*d/200+1):1;},_precision:function(){var c=this._precisionOf(this.options.step);return null!==this.options.min&&(c=Math.max(c,this._precisionOf(this.options.min))),c;},_precisionOf:function(d){var f=""+d,c=f.indexOf(".");
return -1===c?0:f.length-c-1;},_adjustValue:function(d){var g,c,f=this.options;return g=null!==f.min?f.min:0,c=d-g,c=Math.round(c/f.step)*f.step,d=g+c,d=parseFloat(d.toFixed(this._precision())),null!==f.max&&d>f.max?f.max:null!==f.min&&f.min>d?f.min:d;},_stop:function(c){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",c));
},_setOption:function(d,f){if("culture"===d||"numberFormat"===d){var c=this._parse(this.element.val());return this.options[d]=f,this.element.val(this._format(c)),void 0;}("max"===d||"min"===d||"step"===d)&&"string"==typeof f&&(f=this._parse(f)),"icons"===d&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(f.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(f.down)),this._super(d,f),"disabled"===d&&(f?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")));
},_setOptions:b(function(c){this._super(c),this._value(this.element.val());}),_parse:function(c){return"string"==typeof c&&""!==c&&(c=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(c,10,this.options.culture):+c),""===c||isNaN(c)?null:c;},_format:function(c){return""===c?"":window.Globalize&&this.options.numberFormat?Globalize.format(c,this.options.numberFormat,this.options.culture):c;
},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())});},_value:function(d,f){var c;""!==d&&(c=this._parse(d),null!==c&&(f||(c=this._adjustValue(c)),d=this._format(c))),this.element.val(d),this._refresh();
},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element);},stepUp:b(function(c){this._stepUp(c);}),_stepUp:function(c){this._start()&&(this._spin((c||1)*this.options.step),this._stop());
},stepDown:b(function(c){this._stepDown(c);}),_stepDown:function(c){this._start()&&(this._spin((c||1)*-this.options.step),this._stop());},pageUp:b(function(c){this._stepUp((c||1)*this.options.page);}),pageDown:b(function(c){this._stepDown((c||1)*this.options.page);}),value:function(c){return arguments.length?(b(this._value).call(this,c),void 0):this._parse(this.element.val());
},widget:function(){return this.uiSpinner;}});})(jQuery);(function(d,g){function c(){return ++h;}function f(a){return a=a.cloneNode(!1),a.hash.length>1&&decodeURIComponent(a.href.replace(b,""))===decodeURIComponent(location.href.replace(b,""));}var h=0,b=/#.*$/;d.widget("ui.tabs",{version:"1.10.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var j=this,a=this.options;
this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",a.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(i){d(this).is(".ui-state-disabled")&&i.preventDefault();}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){d(this).closest("li").is(".ui-state-disabled")&&this.blur();
}),this._processTabs(),a.active=this._initialActive(),d.isArray(a.disabled)&&(a.disabled=d.unique(a.disabled.concat(d.map(this.tabs.filter(".ui-state-disabled"),function(e){return j.tabs.index(e);}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(a.active):d(),this._refresh(),this.active.length&&this.load(a.active);
},_initialActive:function(){var a=this.options.active,e=this.options.collapsible,j=location.hash.substring(1);return null===a&&(j&&this.tabs.each(function(k,i){return d(i).attr("aria-controls")===j?(a=k,!1):g;}),null===a&&(a=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===a||-1===a)&&(a=this.tabs.length?0:!1)),a!==!1&&(a=this.tabs.index(this.tabs.eq(a)),-1===a&&(a=e?!1:0)),!e&&a===!1&&this.anchors.length&&(a=0),a;
},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):d()};},_tabKeydown:function(j){var k=d(this.document[0].activeElement).closest("li"),l=this.tabs.index(k),e=!0;if(!this._handlePageNav(j)){switch(j.keyCode){case d.ui.keyCode.RIGHT:case d.ui.keyCode.DOWN:l++;
break;case d.ui.keyCode.UP:case d.ui.keyCode.LEFT:e=!1,l--;break;case d.ui.keyCode.END:l=this.anchors.length-1;break;case d.ui.keyCode.HOME:l=0;break;case d.ui.keyCode.SPACE:return j.preventDefault(),clearTimeout(this.activating),this._activate(l),g;case d.ui.keyCode.ENTER:return j.preventDefault(),clearTimeout(this.activating),this._activate(l===this.options.active?!1:l),g;
default:return;}j.preventDefault(),clearTimeout(this.activating),l=this._focusNextTab(l,e),j.ctrlKey||(k.attr("aria-selected","false"),this.tabs.eq(l).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",l);},this.delay));}},_panelKeydown:function(a){this._handlePageNav(a)||a.ctrlKey&&a.keyCode===d.ui.keyCode.UP&&(a.preventDefault(),this.active.focus());
},_handlePageNav:function(a){return a.altKey&&a.keyCode===d.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):a.altKey&&a.keyCode===d.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):g;},_findNextTab:function(k,a){function j(){return k>l&&(k=0),0>k&&(k=l),k;
}for(var l=this.tabs.length-1;-1!==d.inArray(j(),this.options.disabled);){k=a?k+1:k-1;}return k;},_focusNextTab:function(a,i){return a=this._findNextTab(a,i),this.tabs.eq(a).focus(),a;},_setOption:function(e,a){return"active"===e?(this._activate(a),g):"disabled"===e?(this._setupDisabled(a),g):(this._super(e,a),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",a),a||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(a),"heightStyle"===e&&this._setupHeightStyle(a),g);
},_tabId:function(a){return a.attr("aria-controls")||"ui-tabs-"+c();},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):"";},refresh:function(){var j=this.options,a=this.tablist.children(":has(a[href])");j.disabled=d.map(a.filter(".ui-state-disabled"),function(e){return a.index(e);
}),this._processTabs(),j.active!==!1&&this.anchors.length?this.active.length&&!d.contains(this.tablist[0],this.active[0])?this.tabs.length===j.disabled.length?(j.active=!1,this.active=d()):this._activate(this._findNextTab(Math.max(0,j.active-1),!1)):j.active=this.tabs.index(this.active):(j.active=!1,this.active=d()),this._refresh();
},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0);
},_processTabs:function(){var a=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return d("a",this)[0];
}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=d(),this.anchors.each(function(k,t){var j,q,p,m=d(t).uniqueId().attr("id"),e=d(t).closest("li"),s=e.attr("aria-controls");f(t)?(j=t.hash,q=a.element.find(a._sanitizeSelector(j))):(p=a._tabId(e),j="#"+p,q=a.element.find(j),q.length||(q=a._createPanel(p),q.insertAfter(a.panels[k-1]||a.tablist)),q.attr("aria-live","polite")),q.length&&(a.panels=a.panels.add(q)),s&&e.data("ui-tabs-aria-controls",s),e.attr({"aria-controls":j.substring(1),"aria-labelledby":m}),q.attr("aria-labelledby",m);
}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel");},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0);},_createPanel:function(a){return d("<div>").attr("id",a).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0);
},_setupDisabled:function(k){d.isArray(k)&&(k.length?k.length===this.anchors.length&&(k=!0):k=!1);for(var a,j=0;a=this.tabs[j];j++){k===!0||-1!==d.inArray(j,k)?d(a).addClass("ui-state-disabled").attr("aria-disabled","true"):d(a).removeClass("ui-state-disabled").removeAttr("aria-disabled");}this.options.disabled=k;
},_setupEvents:function(j){var a={click:function(e){e.preventDefault();}};j&&d.each(j.split(" "),function(i,k){a[k]="_eventHandler";}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,a),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs);
},_setupHeightStyle:function(k){var a,j=this.element.parent();"fill"===k?(a=j.height(),a-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var l=d(this),i=l.css("position");"absolute"!==i&&"fixed"!==i&&(a-=l.outerHeight(!0));}),this.element.children().not(this.panels).each(function(){a-=d(this).outerHeight(!0);
}),this.panels.each(function(){d(this).height(Math.max(0,a-d(this).innerHeight()+d(this).height()));}).css("overflow","auto")):"auto"===k&&(a=0,this.panels.each(function(){a=Math.max(a,d(this).height("").height());}).height(a));},_eventHandler:function(u){var q=this.options,x=this.active,m=d(u.currentTarget),w=m.closest("li"),k=w[0]===x[0],j=k&&q.collapsible,t=j?d():this._getPanelForTab(w),p=x.length?this._getPanelForTab(x):d(),v={oldTab:x,oldPanel:p,newTab:j?d():w,newPanel:t};
u.preventDefault(),w.hasClass("ui-state-disabled")||w.hasClass("ui-tabs-loading")||this.running||k&&!q.collapsible||this._trigger("beforeActivate",u,v)===!1||(q.active=j?!1:this.tabs.index(w),this.active=k?d():w,this.xhr&&this.xhr.abort(),p.length||t.length||d.error("jQuery UI Tabs: Mismatching fragment identifier."),t.length&&this.load(this.tabs.index(w),u),this._toggle(u,v));
},_toggle:function(p,k){function l(){j.running=!1,j._trigger("activate",p,k);}function t(){k.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),q.length&&j.options.show?j._show(q,j.options.show,l):(q.show(),l());}var j=this,q=k.newPanel,m=k.oldPanel;this.running=!0,m.length&&this.options.hide?this._hide(m,this.options.hide,function(){k.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),t();
}):(k.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),m.hide(),t()),m.attr({"aria-expanded":"false","aria-hidden":"true"}),k.oldTab.attr("aria-selected","false"),q.length&&m.length?k.oldTab.attr("tabIndex",-1):q.length&&this.tabs.filter(function(){return 0===d(this).attr("tabIndex");
}).attr("tabIndex",-1),q.attr({"aria-expanded":"true","aria-hidden":"false"}),k.newTab.attr({"aria-selected":"true",tabIndex:0});},_activate:function(k){var a,j=this._findActive(k);j[0]!==this.active[0]&&(j.length||(j=this.active),a=j.find(".ui-tabs-anchor")[0],this._eventHandler({target:a,currentTarget:a,preventDefault:d.noop}));
},_findActive:function(a){return a===!1?d():this.tabs.eq(a);},_getIndex:function(a){return"string"==typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a;},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){d.data(this,"ui-tabs-destroy")?d(this).remove():d(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role");
}),this.tabs.each(function(){var j=d(this),a=j.data("ui-tabs-aria-controls");a?j.attr("aria-controls",a).removeData("ui-tabs-aria-controls"):j.removeAttr("aria-controls");}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","");},enable:function(a){var e=this.options.disabled;
e!==!1&&(a===g?e=!1:(a=this._getIndex(a),e=d.isArray(e)?d.map(e,function(i){return i!==a?i:null;}):d.map(this.tabs,function(i,j){return j!==a?j:null;})),this._setupDisabled(e));},disable:function(a){var e=this.options.disabled;if(e!==!0){if(a===g){e=!0;}else{if(a=this._getIndex(a),-1!==d.inArray(a,e)){return;
}e=d.isArray(e)?d.merge([a],e).sort():[a];}this._setupDisabled(e);}},load:function(p,k){p=this._getIndex(p);var s=this,j=this.tabs.eq(p),q=j.find(".ui-tabs-anchor"),m=this._getPanelForTab(j),l={tab:j,panel:m};f(q[0])||(this.xhr=d.ajax(this._ajaxSettings(q,k,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(j.addClass("ui-tabs-loading"),m.attr("aria-busy","true"),this.xhr.success(function(a){setTimeout(function(){m.html(a),s._trigger("load",k,l);
},1);}).complete(function(a,i){setTimeout(function(){"abort"===i&&s.panels.stop(!1,!0),j.removeClass("ui-tabs-loading"),m.removeAttr("aria-busy"),a===s.xhr&&delete s.xhr;},1);})));},_ajaxSettings:function(k,a,j){var l=this;return{url:k.attr("href"),beforeSend:function(m,i){return l._trigger("beforeLoad",a,d.extend({jqXHR:m,ajaxSettings:i},j));
}};},_getPanelForTab:function(j){var a=d(j).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+a));}});})(jQuery);(function(b){function d(h,f){var g=(h.attr("aria-describedby")||"").split(/\s+/);g.push(f),h.data("ui-tooltip-id",f).attr("aria-describedby",b.trim(g.join(" ")));}function a(h){var f=h.data("ui-tooltip-id"),g=(h.attr("aria-describedby")||"").split(/\s+/),j=b.inArray(f,g);
-1!==j&&g.splice(j,1),h.removeData("ui-tooltip-id"),g=b.trim(g.join(" ")),g?h.attr("aria-describedby",g):h.removeAttr("aria-describedby");}var c=0;b.widget("ui.tooltip",{version:"1.10.4",options:{content:function(){var f=b(this).attr("title")||"";return b("<a>").text(f).html();},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable();
},_setOption:function(h,f){var g=this;return"disabled"===h?(this[f?"_disable":"_enable"](),this.options[h]=f,void 0):(this._super(h,f),"content"===h&&b.each(this.tooltips,function(i,j){g._updateContent(j);}),void 0);},_disable:function(){var f=this;b.each(this.tooltips,function(e,g){var h=b.Event("blur");
h.target=h.currentTarget=g[0],f.close(h,!0);}),this.element.find(this.options.items).addBack().each(function(){var g=b(this);g.is("[title]")&&g.data("ui-tooltip-title",g.attr("title")).attr("title","");});},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var f=b(this);
f.data("ui-tooltip-title")&&f.attr("title",f.data("ui-tooltip-title"));});},open:function(h){var f=this,g=b(h?h.target:this.element).closest(this.options.items);g.length&&!g.data("ui-tooltip-id")&&(g.attr("title")&&g.data("ui-tooltip-title",g.attr("title")),g.data("ui-tooltip-open",!0),h&&"mouseover"===h.type&&g.parents().each(function(){var j,i=b(this);
i.data("ui-tooltip-open")&&(j=b.Event("blur"),j.target=j.currentTarget=this,f.close(j,!0)),i.attr("title")&&(i.uniqueId(),f.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""));}),this._updateContent(g,h));},_updateContent:function(g,j){var f,h=this.options.content,l=this,k=j?j.type:null;
return"string"==typeof h?this._open(j,g,h):(f=h.call(g[0],function(e){g.data("ui-tooltip-open")&&l._delay(function(){j&&(j.type=k),this._open(j,g,e);});}),f&&this._open(j,g,f),void 0);},_open:function(g,k,q){function p(h){e.of=h,f.is(":hidden")||f.position(e);}var f,m,j,e=b.extend({},this.options.position);
if(q){if(f=this._find(k),f.length){return f.find(".ui-tooltip-content").html(q),void 0;}k.is("[title]")&&(g&&"mouseover"===g.type?k.attr("title",""):k.removeAttr("title")),f=this._tooltip(k),d(k,f.attr("id")),f.find(".ui-tooltip-content").html(q),this.options.track&&g&&/^mouse/.test(g.type)?(this._on(this.document,{mousemove:p}),p(g)):f.position(b.extend({of:k},this.options.position)),f.hide(),this._show(f,this.options.show),this.options.show&&this.options.show.delay&&(j=this.delayedShow=setInterval(function(){f.is(":visible")&&(p(e.of),clearInterval(j));
},b.fx.interval)),this._trigger("open",g,{tooltip:f}),m={keyup:function(l){if(l.keyCode===b.ui.keyCode.ESCAPE){var h=b.Event(l);h.currentTarget=k[0],this.close(h,!0);}},remove:function(){this._removeTooltip(f);}},g&&"mouseover"!==g.type||(m.mouseleave="close"),g&&"focusin"!==g.type||(m.focusout="close"),this._on(!0,k,m);
}},close:function(g){var f=this,i=b(g?g.currentTarget:this.element),h=this._find(i);this.closing||(clearInterval(this.delayedShow),i.data("ui-tooltip-title")&&i.attr("title",i.data("ui-tooltip-title")),a(i),h.stop(!0),this._hide(h,this.options.hide,function(){f._removeTooltip(b(this));}),i.removeData("ui-tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),g&&"mouseleave"===g.type&&b.each(this.parents,function(k,j){b(j.element).attr("title",j.title),delete f.parents[k];
}),this.closing=!0,this._trigger("close",g,{tooltip:h}),this.closing=!1);},_tooltip:function(g){var f="ui-tooltip-"+c++,h=b("<div>").attr({id:f,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return b("<div>").addClass("ui-tooltip-content").appendTo(h),h.appendTo(this.document[0].body),this.tooltips[f]=g,h;
},_find:function(g){var f=g.data("ui-tooltip-id");return f?b("#"+f):b();},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")];},_destroy:function(){var f=this;b.each(this.tooltips,function(e,g){var h=b.Event("blur");h.target=h.currentTarget=g[0],f.close(h,!0),b("#"+e).remove(),g.data("ui-tooltip-title")&&(g.attr("title",g.data("ui-tooltip-title")),g.removeData("ui-tooltip-title"));
});}});})(jQuery);(function(b,c){var a="ui-effects-";b.effects={effect:{}},function(D,y){function v(f,l,d){var h=C[l.type]||{};return null==f?d||!l.def?null:l.def:(f=h.floor?~~f:parseFloat(f),isNaN(f)?l.def:h.mod?(f+h.mod)%h.mod:0>f?0:f>h.max?h.max:f);}function E(d){var e=w(),f=e._rgba=[];return d=d.toLowerCase(),x(q,function(p,n){var F,u=n.re.exec(d),i=u&&n.parse(u),s=n.space||"rgba";
return i?(F=e[s](i),e[A[s].cache]=F[A[s].cache],f=e._rgba=F._rgba,!1):y;}),f.length?("0,0,0,0"===f.join()&&D.extend(f,B.transparent),e):B[d];}function m(f,h,d){return d=(d+1)%1,1>6*d?f+6*(h-f)*d:1>2*d?h:2>3*d?f+6*(h-f)*(2/3-d):f;}var B,k="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",g=/^([\-+])=\s*(\d+\.?\d*)/,q=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(d){return[d[1],d[2],d[3],d[4]];
}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(d){return[2.55*d[1],2.55*d[2],2.55*d[3],d[4]];}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)];
}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)];}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(d){return[d[1],d[2]/100,d[3]/100,d[4]];
}}],w=D.Color=function(h,d,f,l){return new D.Color.fn.parse(h,d,f,l);},A={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},C={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},z=w.support={},j=D("<p>")[0],x=D.each;
j.style.cssText="background-color:rgba(1,1,1,.5)",z.rgba=j.style.backgroundColor.indexOf("rgba")>-1,x(A,function(d,f){f.cache="_"+d,f.props.alpha={idx:3,type:"percent",def:1};}),w.fn=D.extend(w.prototype,{parse:function(F,t,h,e){if(F===y){return this._rgba=[null,null,null,null],this;}(F.jquery||F.nodeType)&&(F=D(F).css(t),t=y);
var f=this,s=D.type(F),i=this._rgba=[];return t!==y&&(F=[F,t,h,e],s="array"),"string"===s?this.parse(E(F)||B._default):"array"===s?(x(A.rgba.props,function(d,l){i[l.idx]=v(F[l.idx],l);}),this):"object"===s?(F instanceof w?x(A,function(d,l){F[l.cache]&&(f[l.cache]=F[l.cache].slice());}):x(A,function(n,l){var d=l.cache;
x(l.props,function(o,p){if(!f[d]&&l.to){if("alpha"===o||null==F[o]){return;}f[d]=l.to(f._rgba);}f[d][p.idx]=v(F[o],p,!0);}),f[d]&&0>D.inArray(null,f[d].slice(0,3))&&(f[d][3]=1,l.from&&(f._rgba=l.from(f[d])));}),this):y;},is:function(e){var d=w(e),f=!0,h=this;return x(A,function(l,i){var p,n=d[i.cache];
return n&&(p=h[i.cache]||i.to&&i.to(h._rgba)||[],x(i.props,function(r,o){return null!=n[o.idx]?f=n[o.idx]===p[o.idx]:y;})),f;}),f;},_space:function(){var d=[],f=this;return x(A,function(e,h){f[h.cache]&&d.push(e);}),d.pop();},transition:function(h,u){var i=w(h),G=i._space(),f=A[G],F=0===this.alpha()?w("transparent"):this,p=F[f.cache]||f.to(F._rgba),d=p.slice();
return i=i[f.cache],x(f.props,function(l,I){var e=I.idx,s=p[e],r=i[e],H=C[I.type]||{};null!==r&&(null===s?d[e]=r:(H.mod&&(r-s>H.mod/2?s+=H.mod:s-r>H.mod/2&&(s-=H.mod)),d[e]=v((r-s)*u+s,I)));}),this[G](d);},blend:function(h){if(1===this._rgba[3]){return this;}var d=this._rgba.slice(),f=d.pop(),l=w(h)._rgba;
return w(D.map(d,function(i,n){return(1-f)*l[n]+f*i;}));},toRgbaString:function(){var f="rgba(",d=D.map(this._rgba,function(h,i){return null==h?i>2?1:0:h;});return 1===d[3]&&(d.pop(),f="rgb("),f+d.join()+")";},toHslaString:function(){var f="hsla(",d=D.map(this.hsla(),function(h,i){return null==h&&(h=i>2?1:0),i&&3>i&&(h=Math.round(100*h)+"%"),h;
});return 1===d[3]&&(d.pop(),f="hsl("),f+d.join()+")";},toHexString:function(h){var d=this._rgba.slice(),f=d.pop();return h&&d.push(~~(255*f)),"#"+D.map(d,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e;}).join("");},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString();
}}),w.fn.parse.prototype=w.fn,A.hsla.to=function(M){if(null==M[0]||null==M[1]||null==M[2]){return[null,null,null,M[3]];}var I,G,N=M[0]/255,p=M[1]/255,K=M[2]/255,f=M[3],d=Math.max(N,p,K),F=Math.min(N,p,K),H=d-F,J=d+F,L=0.5*J;return I=F===d?0:N===d?60*(p-K)/H+360:p===d?60*(K-N)/H+120:60*(N-p)/H+240,G=0===H?0:0.5>=L?H/J:H/(2-J),[Math.round(I)%360,G,L,null==f?1:f];
},A.hsla.from=function(h){if(null==h[0]||null==h[1]||null==h[2]){return[null,null,null,h[3]];}var p=h[0]/360,f=h[1],l=h[2],d=h[3],u=0.5>=l?l*(1+f):l+f-l*f,n=2*l-u;return[Math.round(255*m(n,u,p+1/3)),Math.round(255*m(n,u,p)),Math.round(255*m(n,u,p-1/3)),d];},x(A,function(f,p){var e=p.props,h=p.cache,d=p.to,i=p.from;
w.fn[f]=function(o){if(d&&!this[h]&&(this[h]=d(this._rgba)),o===y){return this[h].slice();}var G,t=D.type(o),l="array"===t||"object"===t?o:arguments,F=this[h].slice();return x(e,function(n,u){var r=l["object"===t?n:u.idx];null==r&&(r=F[u.idx]),F[u.idx]=v(r,u);}),i?(G=w(i(F)),G[h]=F,G):w(F);},x(e,function(n,l){w.fn[n]||(w.fn[n]=function(G){var s,u=D.type(G),r="alpha"===n?this._hsla?"hsla":"rgba":f,t=this[r](),F=t[l.idx];
return"undefined"===u?F:("function"===u&&(G=G.call(this,F),u=D.type(G)),null==G&&l.empty?this:("string"===u&&(s=g.exec(G),s&&(G=F+parseFloat(s[2])*("+"===s[1]?1:-1))),t[l.idx]=G,this[r](t)));});});}),w.hook=function(f){var d=f.split(" ");x(d,function(l,h){D.cssHooks[h]={set:function(t,F){var p,u,s="";
if("transparent"!==F&&("string"!==D.type(F)||(p=E(F)))){if(F=w(p||F),!z.rgba&&1!==F._rgba[3]){for(u="backgroundColor"===h?t.parentNode:t;(""===s||"transparent"===s)&&u&&u.style;){try{s=D.css(u,"backgroundColor"),u=u.parentNode;}catch(i){}}F=F.blend(s&&"transparent"!==s?s:"_default");}F=F.toRgbaString();
}try{t.style[h]=F;}catch(i){}}},D.fx.step[h]=function(i){i.colorInit||(i.start=w(i.elem,h),i.end=w(i.end),i.colorInit=!0),D.cssHooks[h].set(i.elem,i.start.transition(i.end,i.pos));};});},w.hook(k),D.cssHooks.borderColor={expand:function(d){var f={};return x(["Top","Right","Bottom","Left"],function(e,h){f["border"+h+"Color"]=d;
}),f;}},B=D.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"};
}(jQuery),function(){function e(l){var j,k,m=l.ownerDocument.defaultView?l.ownerDocument.defaultView.getComputedStyle(l,null):l.currentStyle,h={};if(m&&m.length&&m[0]&&m[m[0]]){for(k=m.length;k--;){j=m[k],"string"==typeof m[j]&&(h[b.camelCase(j)]=m[j]);}}else{for(j in m){"string"==typeof m[j]&&(h[j]=m[j]);
}}return h;}function f(k,h){var j,m,l={};for(j in h){m=h[j],k[j]!==m&&(d[j]||(b.fx.step[j]||!isNaN(parseFloat(m)))&&(l[j]=m));}return l;}var g=["add","remove","toggle"],d={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};b.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(j,h){b.fx.step[h]=function(i){("none"!==i.end&&!i.setAttr||1===i.pos&&!i.setAttr)&&(jQuery.style(i.elem,h,i.end),i.setAttr=!0);
};}),b.fn.addBack||(b.fn.addBack=function(h){return this.add(null==h?this.prevObject:this.prevObject.filter(h));}),b.effects.animateClass=function(k,i,m,j){var h=b.speed(i,m,j);return this.queue(function(){var l,q=b(this),p=q.attr("class")||"",n=h.children?q.find("*").addBack():q;n=n.map(function(){var o=b(this);
return{el:o,start:e(this)};}),l=function(){b.each(g,function(r,o){k[o]&&q[o+"Class"](k[o]);});},l(),n=n.map(function(){return this.end=e(this.el[0]),this.diff=f(this.start,this.end),this;}),q.attr("class",p),n=n.map(function(){var t=this,o=b.Deferred(),r=b.extend({},h,{queue:!1,complete:function(){o.resolve(t);
}});return this.el.animate(this.diff,r),o.promise();}),b.when.apply(b,n.get()).done(function(){l(),b.each(arguments,function(){var o=this.el;b.each(this.diff,function(r){o.css(r,"");});}),h.complete.call(q[0]);});});},b.fn.extend({addClass:function(h){return function(k,l,m,j){return l?b.effects.animateClass.call(this,{add:k},l,m,j):h.apply(this,arguments);
};}(b.fn.addClass),removeClass:function(h){return function(k,l,m,j){return arguments.length>1?b.effects.animateClass.call(this,{remove:k},l,m,j):h.apply(this,arguments);};}(b.fn.removeClass),toggleClass:function(h){return function(j,m,i,l,k){return"boolean"==typeof m||m===c?i?b.effects.animateClass.call(this,m?{add:j}:{remove:j},i,l,k):h.apply(this,arguments):b.effects.animateClass.call(this,{toggle:j},m,i,l);
};}(b.fn.toggleClass),switchClass:function(l,j,k,m,h){return b.effects.animateClass.call(this,{add:j,remove:l},k,m,h);}});}(),function(){function d(h,f,g,j){return b.isPlainObject(h)&&(f=h,h=h.effect),h={effect:h},null==f&&(f={}),b.isFunction(f)&&(j=f,g=null,f={}),("number"==typeof f||b.fx.speeds[f])&&(j=g,g=f,f={}),b.isFunction(g)&&(j=g,g=null),f&&b.extend(h,f),g=g||f.duration,h.duration=b.fx.off?0:"number"==typeof g?g:g in b.fx.speeds?b.fx.speeds[g]:b.fx.speeds._default,h.complete=j||f.complete,h;
}function e(f){return !f||"number"==typeof f||b.fx.speeds[f]?!0:"string"!=typeof f||b.effects.effect[f]?b.isFunction(f)?!0:"object"!=typeof f||f.effect?!1:!0:!0;}b.extend(b.effects,{version:"1.10.4",save:function(f,h){for(var g=0;h.length>g;g++){null!==h[g]&&f.data(a+h[g],f[0].style[h[g]]);}},restore:function(g,h){var i,f;
for(f=0;h.length>f;f++){null!==h[f]&&(i=g.data(a+h[f]),i===c&&(i=""),g.css(h[f],i));}},setMode:function(f,g){return"toggle"===g&&(g=f.is(":hidden")?"show":"hide"),g;},getBaseline:function(g,j){var f,h;switch(g[0]){case"top":f=0;break;case"middle":f=0.5;break;case"bottom":f=1;break;default:f=g[0]/j.height;
}switch(g[1]){case"left":h=0;break;case"center":h=0.5;break;case"right":h=1;break;default:h=g[1]/j.width;}return{x:h,y:f};},createWrapper:function(j){if(j.parent().is(".ui-effects-wrapper")){return j.parent();}var g={width:j.outerWidth(!0),height:j.outerHeight(!0),"float":j.css("float")},h=b("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),l={width:j.width(),height:j.height()},f=document.activeElement;
try{f.id;}catch(k){f=document.body;}return j.wrap(h),(j[0]===f||b.contains(j[0],f))&&b(f).focus(),h=j.parent(),"static"===j.css("position")?(h.css({position:"relative"}),j.css({position:"relative"})):(b.extend(g,{position:j.css("position"),zIndex:j.css("z-index")}),b.each(["top","left","bottom","right"],function(i,m){g[m]=j.css(m),isNaN(parseInt(g[m],10))&&(g[m]="auto");
}),j.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),j.css(l),h.css(g).show();},removeWrapper:function(g){var f=document.activeElement;return g.parent().is(".ui-effects-wrapper")&&(g.parent().replaceWith(g),(g[0]===f||b.contains(g[0],f))&&b(f).focus()),g;},setTransition:function(h,f,g,j){return j=j||{},b.each(f,function(m,l){var k=h.cssUnit(l);
k[0]>0&&(j[l]=k[0]*g+k[1]);}),j;}}),b.fn.extend({effect:function(){function h(o){function l(){b.isFunction(i)&&i.call(p[0]),b.isFunction(o)&&o();}var p=b(this),i=g.complete,m=g.mode;(p.is(":hidden")?"hide"===m:"show"===m)?(p[m](),l()):j.call(p[0],g,l);}var g=d.apply(this,arguments),k=g.mode,f=g.queue,j=b.effects.effect[g.effect];
return b.fx.off||!j?k?this[k](g.duration,g.complete):this.each(function(){g.complete&&g.complete.call(this);}):f===!1?this.each(h):this.queue(f||"fx",h);},show:function(f){return function(h){if(e(h)){return f.apply(this,arguments);}var g=d.apply(this,arguments);return g.mode="show",this.effect.call(this,g);
};}(b.fn.show),hide:function(f){return function(h){if(e(h)){return f.apply(this,arguments);}var g=d.apply(this,arguments);return g.mode="hide",this.effect.call(this,g);};}(b.fn.hide),toggle:function(f){return function(h){if(e(h)||"boolean"==typeof h){return f.apply(this,arguments);}var g=d.apply(this,arguments);
return g.mode="toggle",this.effect.call(this,g);};}(b.fn.toggle),cssUnit:function(h){var f=this.css(h),g=[];return b.each(["em","px","%","pt"],function(i,j){f.indexOf(j)>0&&(g=[parseFloat(f),j]);}),g;}});}(),function(){var d={};b.each(["Quad","Cubic","Quart","Quint","Expo"],function(f,e){d[e]=function(g){return Math.pow(g,f+2);
};}),b.extend(d,{Sine:function(e){return 1-Math.cos(e*Math.PI/2);},Circ:function(e){return 1-Math.sqrt(1-e*e);},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15);},Back:function(e){return e*e*(3*e-2);},Bounce:function(g){for(var h,f=4;((h=Math.pow(2,--f))-1)/11>g;
){}return 1/Math.pow(4,3-f)-7.5625*Math.pow((3*h-2)/22-g,2);}}),b.each(d,function(g,f){b.easing["easeIn"+g]=f,b.easing["easeOut"+g]=function(e){return 1-f(1-e);},b.easing["easeInOut"+g]=function(e){return 0.5>e?f(2*e)/2:1-f(-2*e+2)/2;};});}();})(jQuery);(function(b){var c=/up|down|vertical/,a=/up|left|vertical|horizontal/;
b.effects.effect.blind=function(E,k){var B,j,e,t=b(this),w=["position","top","bottom","left","right","height","width"],A=b.effects.setMode(t,E.mode||"hide"),D=E.direction||"up",z=c.test(D),i=z?"height":"width",y=z?"top":"left",x=a.test(D),q={},C="show"===A;t.parent().is(".ui-effects-wrapper")?b.effects.save(t.parent(),w):b.effects.save(t,w),t.show(),B=b.effects.createWrapper(t).css({overflow:"hidden"}),j=B[i](),e=parseFloat(B.css(y))||0,q[i]=C?j:0,x||(t.css(z?"bottom":"right",0).css(z?"top":"left","auto").css({position:"absolute"}),q[y]=C?e:j+e),C&&(B.css(i,0),x||B.css(y,e+j)),B.animate(q,{duration:E.duration,easing:E.easing,queue:!1,complete:function(){"hide"===A&&t.hide(),b.effects.restore(t,w),b.effects.removeWrapper(t),k();
}});};})(jQuery);(function(a){a.effects.effect.bounce=function(H,D){var t,A,L,z=a(this),w=["position","top","bottom","left","right","height","width"],C=a.effects.setMode(z,H.mode||"effect"),E="hide"===C,J="show"===C,q=H.direction||"up",I=H.distance,x=H.times||5,G=2*x+(J||E?1:0),F=H.duration/G,B=H.easing,k="up"===q||"down"===q?"top":"left",M="up"===q||"left"===q,K=z.queue(),j=K.length;
for((J||E)&&w.push("opacity"),a.effects.save(z,w),z.show(),a.effects.createWrapper(z),I||(I=z["top"===k?"outerHeight":"outerWidth"]()/3),J&&(L={opacity:1},L[k]=0,z.css("opacity",0).css(k,M?2*-I:2*I).animate(L,F,B)),E&&(I/=Math.pow(2,x-1)),L={},L[k]=0,t=0;x>t;t++){A={},A[k]=(M?"-=":"+=")+I,z.animate(A,F,B).animate(L,F,B),I=E?2*I:I/2;
}E&&(A={opacity:0},A[k]=(M?"-=":"+=")+I,z.animate(A,F,B)),z.queue(function(){E&&z.hide(),a.effects.restore(z,w),a.effects.removeWrapper(z),D();}),j>1&&K.splice.apply(K,[1,0].concat(K.splice(j,G+1))),z.dequeue();};})(jQuery);(function(a){a.effects.effect.clip=function(w,q){var B,k,z,j=a(this),b=["position","top","bottom","left","right","height","width"],m=a.effects.setMode(j,w.mode||"hide"),t="show"===m,y=w.direction||"vertical",A="vertical"===y,x=A?"height":"width",g=A?"top":"left",v={};
a.effects.save(j,b),j.show(),B=a.effects.createWrapper(j).css({overflow:"hidden"}),k="IMG"===j[0].tagName?B:j,z=k[x](),t&&(k.css(x,0),k.css(g,z/2)),v[x]=t?z:0,v[g]=t?0:z/2,k.animate(v,{queue:!1,duration:w.duration,easing:w.easing,complete:function(){t||j.hide(),a.effects.restore(j,b),a.effects.removeWrapper(j),q();
}});};})(jQuery);(function(a){a.effects.effect.drop=function(m,j){var v,f=a(this),q=["position","top","bottom","left","right","opacity","height","width"],d=a.effects.setMode(f,m.mode||"hide"),b="show"===d,g=m.direction||"left",k="up"===g||"down"===g?"top":"left",p="up"===g||"left"===g?"pos":"neg",t={opacity:b?1:0};
a.effects.save(f,q),f.show(),a.effects.createWrapper(f),v=m.distance||f["top"===k?"outerHeight":"outerWidth"](!0)/2,b&&f.css("opacity",0).css(k,"pos"===p?-v:v),t[k]=(b?"pos"===p?"+=":"-=":"pos"===p?"-=":"+=")+v,f.animate(t,{queue:!1,duration:m.duration,easing:m.easing,complete:function(){"hide"===d&&f.hide(),a.effects.restore(f,q),a.effects.removeWrapper(f),j();
}});};})(jQuery);(function(a){a.effects.effect.explode=function(F,B){function q(){I.push(this),I.length===k*G&&y();}function y(){w.css({visibility:"visible"}),a(I).remove(),D||w.hide(),B();}var J,x,t,A,C,H,k=F.pieces?Math.round(Math.sqrt(F.pieces)):3,G=k,w=a(this),E=a.effects.setMode(w,F.mode||"hide"),D="show"===E,z=w.show().css("visibility","hidden").offset(),j=Math.ceil(w.outerWidth()/G),K=Math.ceil(w.outerHeight()/k),I=[];
for(J=0;k>J;J++){for(A=z.top+J*K,H=J-(k-1)/2,x=0;G>x;x++){t=z.left+x*j,C=x-(G-1)/2,w.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-x*j,top:-J*K}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:j,height:K,left:t+(D?C*j:0),top:A+(D?H*K:0),opacity:D?0:1}).animate({left:t+(D?0:C*j),top:A+(D?0:H*K),opacity:D?1:0},F.duration||500,F.easing,q);
}}};})(jQuery);(function(a){a.effects.effect.fade=function(d,b){var c=a(this),f=a.effects.setMode(c,d.mode||"toggle");c.animate({opacity:f},{queue:!1,duration:d.duration,easing:d.easing,complete:b});};})(jQuery);(function(a){a.effects.effect.fold=function(B,x){var H,q,E=a(this),k=["position","top","bottom","left","right","height","width"],b=a.effects.setMode(E,B.mode||"hide"),w="show"===b,y="hide"===b,D=B.size||15,G=/([0-9]+)%/.exec(D),C=!!B.horizFirst,j=w!==C,A=j?["width","height"]:["height","width"],z=B.duration/2,t={},F={};
a.effects.save(E,k),E.show(),H=a.effects.createWrapper(E).css({overflow:"hidden"}),q=j?[H.width(),H.height()]:[H.height(),H.width()],G&&(D=parseInt(G[1],10)/100*q[y?0:1]),w&&H.css(C?{height:0,width:D}:{height:D,width:0}),t[A[0]]=w?q[0]:D,F[A[1]]=w?q[1]:0,H.animate(t,z,B.easing).animate(F,z,B.easing,function(){y&&E.hide(),a.effects.restore(E,k),a.effects.removeWrapper(E),x();
});};})(jQuery);(function(a){a.effects.effect.highlight=function(f,c){var d=a(this),h=["backgroundImage","backgroundColor","opacity"],b=a.effects.setMode(d,f.mode||"show"),g={backgroundColor:d.css("backgroundColor")};"hide"===b&&(g.opacity=0),a.effects.save(d,h),d.show().css({backgroundImage:"none",backgroundColor:f.color||"#ffff99"}).animate(g,{queue:!1,duration:f.duration,easing:f.easing,complete:function(){"hide"===b&&d.hide(),a.effects.restore(d,h),c();
}});};})(jQuery);(function(a){a.effects.effect.pulsate=function(t,m){var z,j=a(this),x=a.effects.setMode(j,t.mode||"show"),g="show"===x,b="hide"===x,k=g||"hide"===x,q=2*(t.times||5)+(k?1:0),w=t.duration/q,y=0,v=j.queue(),f=v.length;for((g||!j.is(":visible"))&&(j.css("opacity",0).show(),y=1),z=1;q>z;z++){j.animate({opacity:y},w,t.easing),y=1-y;
}j.animate({opacity:y},w,t.easing),j.queue(function(){b&&j.hide(),m();}),f>1&&v.splice.apply(v,[1,0].concat(v.splice(f,q+1))),j.dequeue();};})(jQuery);(function(a){a.effects.effect.puff=function(h,d){var f=a(this),k=a.effects.setMode(f,h.mode||"hide"),c="hide"===k,j=parseInt(h.percent,10)||150,g=j/100,b={height:f.height(),width:f.width(),outerHeight:f.outerHeight(),outerWidth:f.outerWidth()};
a.extend(h,{effect:"scale",queue:!1,fade:!0,mode:k,complete:d,percent:c?j:100,from:c?b:{height:b.height*g,width:b.width*g,outerHeight:b.outerHeight*g,outerWidth:b.outerWidth*g}}),f.effect(h);},a.effects.effect.scale=function(m,j){var t=a(this),f=a.extend(!0,{},m),q=a.effects.setMode(t,m.mode||"effect"),d=parseInt(m.percent,10)||(0===parseInt(m.percent,10)?0:"hide"===q?0:100),b=m.direction||"both",g=m.origin,k={height:t.height(),width:t.width(),outerHeight:t.outerHeight(),outerWidth:t.outerWidth()},p={y:"horizontal"!==b?d/100:1,x:"vertical"!==b?d/100:1};
f.effect="size",f.queue=!1,f.complete=j,"effect"!==q&&(f.origin=g||["middle","center"],f.restore=!0),f.from=m.from||("show"===q?{height:0,width:0,outerHeight:0,outerWidth:0}:k),f.to={height:k.height*p.y,width:k.width*p.x,outerHeight:k.outerHeight*p.y,outerWidth:k.outerWidth*p.x},f.fade&&("show"===q&&(f.from.opacity=0,f.to.opacity=1),"hide"===q&&(f.from.opacity=1,f.to.opacity=0)),t.effect(f);
},a.effects.effect.size=function(F,B){var q,y,J,x=a(this),t=["position","top","bottom","left","right","width","height","overflow","opacity"],A=["position","top","bottom","left","right","overflow","opacity"],C=["width","height","overflow"],H=["fontSize"],k=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],G=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],w=a.effects.setMode(x,F.mode||"effect"),E=F.restore||"effect"!==w,D=F.scale||"both",z=F.origin||["middle","center"],j=x.css("position"),K=E?t:A,I={height:0,width:0,outerHeight:0,outerWidth:0};
"show"===w&&x.show(),q={height:x.height(),width:x.width(),outerHeight:x.outerHeight(),outerWidth:x.outerWidth()},"toggle"===F.mode&&"show"===w?(x.from=F.to||I,x.to=F.from||q):(x.from=F.from||("show"===w?I:q),x.to=F.to||("hide"===w?I:q)),J={from:{y:x.from.height/q.height,x:x.from.width/q.width},to:{y:x.to.height/q.height,x:x.to.width/q.width}},("box"===D||"both"===D)&&(J.from.y!==J.to.y&&(K=K.concat(k),x.from=a.effects.setTransition(x,k,J.from.y,x.from),x.to=a.effects.setTransition(x,k,J.to.y,x.to)),J.from.x!==J.to.x&&(K=K.concat(G),x.from=a.effects.setTransition(x,G,J.from.x,x.from),x.to=a.effects.setTransition(x,G,J.to.x,x.to))),("content"===D||"both"===D)&&J.from.y!==J.to.y&&(K=K.concat(H).concat(C),x.from=a.effects.setTransition(x,H,J.from.y,x.from),x.to=a.effects.setTransition(x,H,J.to.y,x.to)),a.effects.save(x,K),x.show(),a.effects.createWrapper(x),x.css("overflow","hidden").css(x.from),z&&(y=a.effects.getBaseline(z,q),x.from.top=(q.outerHeight-x.outerHeight())*y.y,x.from.left=(q.outerWidth-x.outerWidth())*y.x,x.to.top=(q.outerHeight-x.to.outerHeight)*y.y,x.to.left=(q.outerWidth-x.to.outerWidth)*y.x),x.css(x.from),("content"===D||"both"===D)&&(k=k.concat(["marginTop","marginBottom"]).concat(H),G=G.concat(["marginLeft","marginRight"]),C=t.concat(k).concat(G),x.find("*[width]").each(function(){var b=a(this),c={height:b.height(),width:b.width(),outerHeight:b.outerHeight(),outerWidth:b.outerWidth()};
E&&a.effects.save(b,C),b.from={height:c.height*J.from.y,width:c.width*J.from.x,outerHeight:c.outerHeight*J.from.y,outerWidth:c.outerWidth*J.from.x},b.to={height:c.height*J.to.y,width:c.width*J.to.x,outerHeight:c.height*J.to.y,outerWidth:c.width*J.to.x},J.from.y!==J.to.y&&(b.from=a.effects.setTransition(b,k,J.from.y,b.from),b.to=a.effects.setTransition(b,k,J.to.y,b.to)),J.from.x!==J.to.x&&(b.from=a.effects.setTransition(b,G,J.from.x,b.from),b.to=a.effects.setTransition(b,G,J.to.x,b.to)),b.css(b.from),b.animate(b.to,F.duration,F.easing,function(){E&&a.effects.restore(b,C);
});})),x.animate(x.to,{queue:!1,duration:F.duration,easing:F.easing,complete:function(){0===x.to.opacity&&x.css("opacity",x.from.opacity),"hide"===w&&x.hide(),a.effects.restore(x,K),E||("static"===j?x.css({position:"relative",top:x.to.top,left:x.to.left}):a.each(["top","left"],function(b,c){x.css(c,function(g,d){var f=parseInt(d,10),h=b?x.to.left:x.to.top;
return"auto"===d?h+"px":f+h+"px";});})),a.effects.removeWrapper(x),B();}});};})(jQuery);(function(a){a.effects.effect.shake=function(E,A){var k,x=a(this),H=["position","top","bottom","left","right","height","width"],w=a.effects.setMode(x,E.mode||"effect"),q=E.direction||"left",z=E.distance||20,B=E.times||3,G=2*B+1,j=Math.round(E.duration/G),F="up"===q||"down"===q?"top":"left",t="up"===q||"left"===q,D={},C={},y={},b=x.queue(),I=b.length;
for(a.effects.save(x,H),x.show(),a.effects.createWrapper(x),D[F]=(t?"-=":"+=")+z,C[F]=(t?"+=":"-=")+2*z,y[F]=(t?"-=":"+=")+2*z,x.animate(D,j,E.easing),k=1;B>k;k++){x.animate(C,j,E.easing).animate(y,j,E.easing);}x.animate(C,j,E.easing).animate(D,j/2,E.easing).queue(function(){"hide"===w&&x.hide(),a.effects.restore(x,H),a.effects.removeWrapper(x),A();
}),I>1&&b.splice.apply(b,[1,0].concat(b.splice(I,G+1))),x.dequeue();};})(jQuery);(function(a){a.effects.effect.slide=function(m,j){var v,f=a(this),q=["position","top","bottom","left","right","width","height"],d=a.effects.setMode(f,m.mode||"show"),b="show"===d,g=m.direction||"left",k="up"===g||"down"===g?"top":"left",p="up"===g||"left"===g,t={};
a.effects.save(f,q),f.show(),v=m.distance||f["top"===k?"outerHeight":"outerWidth"](!0),a.effects.createWrapper(f).css({overflow:"hidden"}),b&&f.css(k,p?isNaN(v)?"-"+v:-v:v),t[k]=(b?p?"+=":"-=":p?"-=":"+=")+v,f.animate(t,{queue:!1,duration:m.duration,easing:m.easing,complete:function(){"hide"===d&&f.hide(),a.effects.restore(f,q),a.effects.removeWrapper(f),j();
}});};})(jQuery);(function(a){a.effects.effect.transfer=function(p,k){var x=a(this),g=a(p.to),v="fixed"===g.css("position"),f=a("body"),b=v?f.scrollTop():0,j=v?f.scrollLeft():0,m=g.offset(),t={top:m.top-b,left:m.left-j,height:g.innerHeight(),width:g.innerWidth()},w=x.offset(),q=a("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(p.className).css({top:w.top-b,left:w.left-j,height:x.innerHeight(),width:x.innerWidth(),position:v?"fixed":"absolute"}).animate(t,p.duration,p.easing,function(){q.remove(),k();
});};})(jQuery);(function(a){if("function"==typeof bootstrap){bootstrap("vis",a);}else{if("object"==typeof exports){module.exports=a();}else{if("function"==typeof define&&define.amd){define(a);}else{if("undefined"!=typeof ses){if(!ses.ok()){return;}ses.makeVis=a;}else{"undefined"!=typeof window?window.vis=a():global.vis=a();
}}}}})(function(){var g,a,d,c,b;return(function f(h,m,k){function j(q,n){if(!m[q]){if(!h[q]){var i=typeof require=="function"&&require;if(!n&&i){return i(q,!0);}if(e){return e(q,!0);}throw new Error("Cannot find module '"+q+"'");}var p=m[q]={exports:{}};h[q][0].call(p.exports,function(o){var r=h[q][1][o];
return j(r?r:o);},p,p.exports,f,h,m,k);}return m[q].exports;}var e=typeof require=="function"&&require;for(var l=0;l<k.length;l++){j(k[l]);}return j;})({1:[function(h,i,e){
/*! Hammer.JS - v1.0.5 - 2013-04-07
         * http://eightmedia.github.com/hammer.js
         *
         * Copyright (c) 2013 Jorik Tangelder <j.tangelder@gmail.com>;
         * Licensed under the MIT license */
(function(K,s){var F=function(V,U){return new F.Instance(V,U||{});
};F.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};F.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled;F.HAS_TOUCHEVENTS=("ontouchstart" in K);F.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i;
F.NO_MOUSEEVENTS=F.HAS_TOUCHEVENTS&&navigator.userAgent.match(F.MOBILE_REGEX);F.EVENT_TYPES={};F.DIRECTION_DOWN="down";F.DIRECTION_LEFT="left";F.DIRECTION_UP="up";F.DIRECTION_RIGHT="right";F.POINTER_MOUSE="mouse";F.POINTER_TOUCH="touch";F.POINTER_PEN="pen";F.EVENT_START="start";F.EVENT_MOVE="move";F.EVENT_END="end";
F.DOCUMENT=document;F.plugins={};F.READY=false;function n(){if(F.READY){return;}F.event.determineEventTypes();for(var U in F.gestures){if(F.gestures.hasOwnProperty(U)){F.detection.register(F.gestures[U]);}}F.event.onTouch(F.DOCUMENT,F.EVENT_MOVE,F.detection.detect);F.event.onTouch(F.DOCUMENT,F.EVENT_END,F.detection.detect);
F.READY=true;}F.Instance=function(W,V){var U=this;n();this.element=W;this.enabled=true;this.options=F.utils.extend(F.utils.extend({},F.defaults),V||{});if(this.options.stop_browser_behavior){F.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior);}F.event.onTouch(W,F.EVENT_START,function(X){if(U.enabled){F.detection.startDetect(U,X);
}});return this;};F.Instance.prototype={on:function L(V,W){var X=V.split(" ");for(var U=0;U<X.length;U++){vis.util.addEventListener(this.element,X[U],W,false);}return this;},off:function x(V,W){var X=V.split(" ");for(var U=0;U<X.length;U++){this.element.removeEventListener(X[U],W,false);}return this;
},trigger:function P(V,X){var W=F.DOCUMENT.createEvent("Event");W.initEvent(V,true,true);W.gesture=X;var U=this.element;if(F.utils.hasParent(X.target,U)){U=X.target;}U.dispatchEvent(W);return this;},enable:function m(U){this.enabled=U;return this;}};var O=null;var u=false;var q=false;F.event={bindDom:function(W,Y,X){var V=Y.split(" ");
for(var U=0;U<V.length;U++){vis.util.addEventListener(W,V[U],X,false);}},onTouch:function I(W,V,X){var U=this;this.bindDom(W,F.EVENT_TYPES[V],function Y(aa){var ab=aa.type.toLowerCase();if(ab.match(/mouse/)&&q){return;}else{if(ab.match(/touch/)||ab.match(/pointerdown/)||(ab.match(/mouse/)&&aa.which===1)){u=true;
}}if(ab.match(/touch|pointer/)){q=true;}var Z=0;if(u){if(F.HAS_POINTEREVENTS&&V!=F.EVENT_END){Z=F.PointerEvent.updatePointer(V,aa);}else{if(ab.match(/touch/)){Z=aa.touches.length;}else{if(!q){Z=ab.match(/up/)?0:1;}}}if(Z>0&&V==F.EVENT_END){V=F.EVENT_MOVE;}else{if(!Z){V=F.EVENT_END;}}if(!Z&&O!==null){aa=O;
}else{O=aa;}X.call(F.detection,U.collectEventData(W,V,aa));if(F.HAS_POINTEREVENTS&&V==F.EVENT_END){Z=F.PointerEvent.updatePointer(V,aa);}}if(!Z){O=null;u=false;q=false;F.PointerEvent.reset();}});},determineEventTypes:function N(){var U;if(F.HAS_POINTEREVENTS){U=F.PointerEvent.getEvents();}else{if(F.NO_MOUSEEVENTS){U=["touchstart","touchmove","touchend touchcancel"];
}else{U=["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"];}}F.EVENT_TYPES[F.EVENT_START]=U[0];F.EVENT_TYPES[F.EVENT_MOVE]=U[1];F.EVENT_TYPES[F.EVENT_END]=U[2];},getTouchList:function B(U){if(F.HAS_POINTEREVENTS){return F.PointerEvent.getTouchList();}else{if(U.touches){return U.touches;
}else{return[{identifier:1,pageX:U.pageX,pageY:U.pageY,target:U.target}];}}},collectEventData:function S(W,V,X){var Y=this.getTouchList(X,V);var U=F.POINTER_TOUCH;if(X.type.match(/mouse/)||F.PointerEvent.matchType(F.POINTER_MOUSE,X)){U=F.POINTER_MOUSE;}return{center:F.utils.getCenter(Y),timeStamp:new Date().getTime(),target:X.target,touches:Y,eventType:V,pointerType:U,srcEvent:X,preventDefault:function(){if(this.srcEvent.preventManipulation){this.srcEvent.preventManipulation();
}if(this.srcEvent.preventDefault){this.srcEvent.preventDefault();}},stopPropagation:function(){this.srcEvent.stopPropagation();},stopDetect:function(){return F.detection.stopDetect();}};}};F.PointerEvent={pointers:{},getTouchList:function(){var U=this;var V=[];Object.keys(U.pointers).sort().forEach(function(W){V.push(U.pointers[W]);
});return V;},updatePointer:function(V,U){if(V==F.EVENT_END){this.pointers={};}else{U.identifier=U.pointerId;this.pointers[U.pointerId]=U;}return Object.keys(this.pointers).length;},matchType:function(U,W){if(!W.pointerType){return false;}var V={};V[F.POINTER_MOUSE]=(W.pointerType==W.MSPOINTER_TYPE_MOUSE||W.pointerType==F.POINTER_MOUSE);
V[F.POINTER_TOUCH]=(W.pointerType==W.MSPOINTER_TYPE_TOUCH||W.pointerType==F.POINTER_TOUCH);V[F.POINTER_PEN]=(W.pointerType==W.MSPOINTER_TYPE_PEN||W.pointerType==F.POINTER_PEN);return V[U];},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"];
},reset:function(){this.pointers={};}};F.utils={extend:function r(U,W,X){for(var V in W){if(U[V]!==s&&X){continue;}U[V]=W[V];}return U;},hasParent:function(V,U){while(V){if(V==U){return true;}V=V.parentNode;}return false;},getCenter:function G(X){var Y=[],W=[];for(var V=0,U=X.length;V<U;V++){Y.push(X[V].pageX);
W.push(X[V].pageY);}return{pageX:((Math.min.apply(Math,Y)+Math.max.apply(Math,Y))/2),pageY:((Math.min.apply(Math,W)+Math.max.apply(Math,W))/2)};},getVelocity:function j(U,W,V){return{x:Math.abs(W/U)||0,y:Math.abs(V/U)||0};},getAngle:function w(W,V){var X=V.pageY-W.pageY,U=V.pageX-W.pageX;return Math.atan2(X,U)*180/Math.PI;
},getDirection:function t(W,V){var U=Math.abs(W.pageX-V.pageX),X=Math.abs(W.pageY-V.pageY);if(U>=X){return W.pageX-V.pageX>0?F.DIRECTION_LEFT:F.DIRECTION_RIGHT;}else{return W.pageY-V.pageY>0?F.DIRECTION_UP:F.DIRECTION_DOWN;}},getDistance:function v(W,V){var U=V.pageX-W.pageX,X=V.pageY-W.pageY;return Math.sqrt((U*U)+(X*X));
},getScale:function E(V,U){if(V.length>=2&&U.length>=2){return this.getDistance(U[0],U[1])/this.getDistance(V[0],V[1]);}return 1;},getRotation:function C(V,U){if(V.length>=2&&U.length>=2){return this.getAngle(U[1],U[0])-this.getAngle(V[1],V[0]);}return 0;},isVertical:function J(U){return(U==F.DIRECTION_UP||U==F.DIRECTION_DOWN);
},stopDefaultBrowserBehavior:function l(W,V){var Z,Y=["webkit","khtml","moz","ms","o",""];if(!V||!W.style){return;}for(var U=0;U<Y.length;U++){for(var X in V){if(V.hasOwnProperty(X)){Z=X;if(Y[U]){Z=Y[U]+Z.substring(0,1).toUpperCase()+Z.substring(1);}W.style[Z]=V[X];}}}if(V.userSelect=="none"){W.onselectstart=function(){return false;
};}}};F.detection={gestures:[],current:null,previous:null,stopped:false,startDetect:function H(V,U){if(this.current){return;}this.stopped=false;this.current={inst:V,startEvent:F.utils.extend({},U),lastEvent:false,name:""};this.detect(U);},detect:function z(X){if(!this.current||this.stopped){return;}X=this.extendEventData(X);
var Y=this.current.inst.options;for(var W=0,U=this.gestures.length;W<U;W++){var V=this.gestures[W];if(!this.stopped&&Y[V.name]!==false){if(V.handler.call(V,X,this.current.inst)===false){this.stopDetect();break;}}}if(this.current){this.current.lastEvent=X;}if(X.eventType==F.EVENT_END&&!X.touches.length-1){this.stopDetect();
}return X;},stopDetect:function k(){this.previous=F.utils.extend({},this.current);this.current=null;this.stopped=true;},extendEventData:function D(Y){var Z=this.current.startEvent;if(Z&&(Y.touches.length!=Z.touches.length||Y.touches===Z.touches)){Z.touches=[];for(var W=0,U=Y.touches.length;W<U;W++){Z.touches.push(F.utils.extend({},Y.touches[W]));
}}var V=Y.timeStamp-Z.timeStamp,ab=Y.center.pageX-Z.center.pageX,aa=Y.center.pageY-Z.center.pageY,X=F.utils.getVelocity(V,ab,aa);F.utils.extend(Y,{deltaTime:V,deltaX:ab,deltaY:aa,velocityX:X.x,velocityY:X.y,distance:F.utils.getDistance(Z.center,Y.center),angle:F.utils.getAngle(Z.center,Y.center),direction:F.utils.getDirection(Z.center,Y.center),scale:F.utils.getScale(Z.touches,Y.touches),rotation:F.utils.getRotation(Z.touches,Y.touches),startEvent:Z});
return Y;},register:function o(V){var U=V.defaults||{};if(U[V.name]===s){U[V.name]=true;}F.utils.extend(F.defaults,U,true);V.index=V.index||1000;this.gestures.push(V);this.gestures.sort(function(X,W){if(X.index<W.index){return -1;}if(X.index>W.index){return 1;}return 0;});return this.gestures;}};F.gestures=F.gestures||{};
F.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function R(U,V){switch(U.eventType){case F.EVENT_START:clearTimeout(this.timer);F.detection.current.name=this.name;this.timer=setTimeout(function(){if(F.detection.current.name=="hold"){V.trigger("hold",U);
}},V.options.hold_timeout);break;case F.EVENT_MOVE:if(U.distance>V.options.hold_threshold){clearTimeout(this.timer);}break;case F.EVENT_END:clearTimeout(this.timer);break;}}};F.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:true,doubletap_distance:20,doubletap_interval:300},handler:function M(W,X){if(W.eventType==F.EVENT_END){var V=F.detection.previous,U=false;
if(W.deltaTime>X.options.tap_max_touchtime||W.distance>X.options.tap_max_distance){return;}if(V&&V.name=="tap"&&(W.timeStamp-V.lastEvent.timeStamp)<X.options.doubletap_interval&&W.distance<X.options.doubletap_distance){X.trigger("doubletap",W);U=true;}if(!U||X.options.tap_always){F.detection.current.name="tap";
X.trigger(F.detection.current.name,W);}}}};F.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:0.7},handler:function T(U,V){if(U.eventType==F.EVENT_END){if(V.options.swipe_max_touches>0&&U.touches.length>V.options.swipe_max_touches){return;}if(U.velocityX>V.options.swipe_velocity||U.velocityY>V.options.swipe_velocity){V.trigger(this.name,U);
V.trigger(this.name+U.direction,U);}}}};F.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,drag_max_touches:1,drag_block_horizontal:false,drag_block_vertical:false,drag_lock_to_axis:false,drag_lock_min_distance:25},triggered:false,handler:function A(U,V){if(F.detection.current.name!=this.name&&this.triggered){V.trigger(this.name+"end",U);
this.triggered=false;return;}if(V.options.drag_max_touches>0&&U.touches.length>V.options.drag_max_touches){return;}switch(U.eventType){case F.EVENT_START:this.triggered=false;break;case F.EVENT_MOVE:if(U.distance<V.options.drag_min_distance&&F.detection.current.name!=this.name){return;}F.detection.current.name=this.name;
if(F.detection.current.lastEvent.drag_locked_to_axis||(V.options.drag_lock_to_axis&&V.options.drag_lock_min_distance<=U.distance)){U.drag_locked_to_axis=true;}var W=F.detection.current.lastEvent.direction;if(U.drag_locked_to_axis&&W!==U.direction){if(F.utils.isVertical(W)){U.direction=(U.deltaY<0)?F.DIRECTION_UP:F.DIRECTION_DOWN;
}else{U.direction=(U.deltaX<0)?F.DIRECTION_LEFT:F.DIRECTION_RIGHT;}}if(!this.triggered){V.trigger(this.name+"start",U);this.triggered=true;}V.trigger(this.name,U);V.trigger(this.name+U.direction,U);if((V.options.drag_block_vertical&&F.utils.isVertical(U.direction))||(V.options.drag_block_horizontal&&!F.utils.isVertical(U.direction))){vis.util.preventDefault(U);
}break;case F.EVENT_END:if(this.triggered){V.trigger(this.name+"end",U);}this.triggered=false;break;}}};F.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:0.01,transform_min_rotation:1,transform_always_block:false},triggered:false,handler:function y(W,X){if(F.detection.current.name!=this.name&&this.triggered){X.trigger(this.name+"end",W);
this.triggered=false;return;}if(W.touches.length<2){return;}if(X.options.transform_always_block){vis.util.preventDefault(W);}switch(W.eventType){case F.EVENT_START:this.triggered=false;break;case F.EVENT_MOVE:var V=Math.abs(1-W.scale);var U=Math.abs(W.rotation);if(V<X.options.transform_min_scale&&U<X.options.transform_min_rotation){return;
}F.detection.current.name=this.name;if(!this.triggered){X.trigger(this.name+"start",W);this.triggered=true;}X.trigger(this.name,W);if(U>X.options.transform_min_rotation){X.trigger("rotate",W);}if(V>X.options.transform_min_scale){X.trigger("pinch",W);X.trigger("pinch"+((W.scale<1)?"in":"out"),W);}break;
case F.EVENT_END:if(this.triggered){X.trigger(this.name+"end",W);}this.triggered=false;break;}}};F.gestures.Touch={name:"touch",index:-Infinity,defaults:{prevent_default:false,prevent_mouseevents:false},handler:function p(U,V){if(V.options.prevent_mouseevents&&U.pointerType==F.POINTER_MOUSE){U.stopDetect();
return;}if(V.options.prevent_default){vis.util.preventDefault(U);}if(U.eventType==F.EVENT_START){V.trigger(this.name,U);}}};F.gestures.Release={name:"release",index:Infinity,handler:function Q(U,V){if(U.eventType==F.EVENT_END){V.trigger(this.name,U);}}};if(typeof i==="object"&&typeof i.exports==="object"){i.exports=F;
}else{K.Hammer=F;if(typeof K.define==="function"&&K.define.amd){K.define("hammer",[],function(){return F;});}}})(this);},{}],2:[function(h,i,e){(function(E){var am,M="2.2.1",at=Math.round,av,ad={},ac=(typeof i!=="undefined"&&i.exports),J=/^\/?Date\((\-?\d+)/i,ar=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,u=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,A=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,p=/\d\d?/,ae=/\d{1,3}/,ag=/\d{3}/,W=/\d{1,4}/,z=/[+\-]?\d{1,6}/,X=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,k=/Z|[\+\-]\d\d:?\d\d/i,F=/T/i,y=/[\+\-]?\d+(\.\d{1,3})?/,Y=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,m="YYYY-MM-DDTHH:mm:ssZ",r=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],O=/([\+\-]|\d\d)/gi,w="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),an={"Milliseconds":1,"Seconds":1000,"Minutes":60000,"Hours":3600000,"Days":86400000,"Months":2592000000,"Years":31536000000},D={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",W:"isoweek",M:"month",y:"year"},v={},T="DDD w W M D d".split(" "),I="M D H h m s w W".split(" "),q={M:function(){return this.month()+1;
},MMM:function(az){return this.lang().monthsShort(this,az);},MMMM:function(az){return this.lang().months(this,az);},D:function(){return this.date();},DDD:function(){return this.dayOfYear();},d:function(){return this.day();},dd:function(az){return this.lang().weekdaysMin(this,az);},ddd:function(az){return this.lang().weekdaysShort(this,az);
},dddd:function(az){return this.lang().weekdays(this,az);},w:function(){return this.week();},W:function(){return this.isoWeek();},YY:function(){return aq(this.year()%100,2);},YYYY:function(){return aq(this.year(),4);},YYYYY:function(){return aq(this.year(),5);},gg:function(){return aq(this.weekYear()%100,2);
},gggg:function(){return this.weekYear();},ggggg:function(){return aq(this.weekYear(),5);},GG:function(){return aq(this.isoWeekYear()%100,2);},GGGG:function(){return this.isoWeekYear();},GGGGG:function(){return aq(this.isoWeekYear(),5);},e:function(){return this.weekday();},E:function(){return this.isoWeekday();
},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),true);},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),false);},H:function(){return this.hours();},h:function(){return this.hours()%12||12;},m:function(){return this.minutes();},s:function(){return this.seconds();
},S:function(){return ~~(this.milliseconds()/100);},SS:function(){return aq(~~(this.milliseconds()/10),2);},SSS:function(){return aq(this.milliseconds(),3);},Z:function(){var aA=-this.zone(),az="+";if(aA<0){aA=-aA;az="-";}return az+aq(~~(aA/60),2)+":"+aq(~~aA%60,2);},ZZ:function(){var aA=-this.zone(),az="+";
if(aA<0){aA=-aA;az="-";}return az+aq(~~(10*aA/6),4);},z:function(){return this.zoneAbbr();},zz:function(){return this.zoneName();},X:function(){return this.unix();}};function aa(aA,az){return function(aB){return aq(aA.call(this,aB),az);};}function U(az,aA){return function(aB){return this.lang().ordinal(az.call(this,aB),aA);
};}while(T.length){av=T.pop();q[av+"o"]=U(q[av],av);}while(I.length){av=I.pop();q[av+av]=aa(q[av],2);}q.DDDD=aa(q.DDD,3);function ax(){}function G(az){C(this,az);}function ay(aC){var aE=aC.years||aC.year||aC.y||0,aA=aC.months||aC.month||aC.M||0,az=aC.weeks||aC.week||aC.w||0,aH=aC.days||aC.day||aC.d||0,aF=aC.hours||aC.hour||aC.h||0,aD=aC.minutes||aC.minute||aC.m||0,aG=aC.seconds||aC.second||aC.s||0,aB=aC.milliseconds||aC.millisecond||aC.ms||0;
this._input=aC;this._milliseconds=+aB+aG*1000+aD*60000+aF*3600000;this._days=+aH+az*7;this._months=+aA+aE*12;this._data={};this._bubble();}function C(aA,az){for(var aB in az){if(az.hasOwnProperty(aB)){aA[aB]=az[aB];}}return aA;}function al(az){if(az<0){return Math.ceil(az);}else{return Math.floor(az);
}}function aq(aB,aA){var az=aB+"";while(az.length<aA){az="0"+az;}return az;}function ai(aC,aB,aF,aE){var aA=aB._milliseconds,aH=aB._days,az=aB._months,aD,aG;if(aA){aC._d.setTime(+aC._d+aA*aF);}if(aH||az){aD=aC.minute();aG=aC.hour();}if(aH){aC.date(aC.date()+aH*aF);}if(az){aC.month(aC.month()+az*aF);}if(aA&&!aE){am.updateOffset(aC);
}if(aH||az){aC.minute(aD);aC.hour(aG);}}function P(az){return Object.prototype.toString.call(az)==="[object Array]";}function ah(aD,aC){var az=Math.min(aD.length,aC.length),aA=Math.abs(aD.length-aC.length),aE=0,aB;for(aB=0;aB<az;aB++){if(~~aD[aB]!==~~aC[aB]){aE++;}}return aE+aA;}function Q(az){return az?D[az]||az.toLowerCase().replace(/(.)s$/,"$1"):az;
}C(ax.prototype,{set:function(az){var aB,aA;for(aA in az){aB=az[aA];if(typeof aB==="function"){this[aA]=aB;}else{this["_"+aA]=aB;}}},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(az){return this._months[az.month()];},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(az){return this._monthsShort[az.month()];
},monthsParse:function(az){var aA,aC,aB;if(!this._monthsParse){this._monthsParse=[];}for(aA=0;aA<12;aA++){if(!this._monthsParse[aA]){aC=am.utc([2000,aA]);aB="^"+this.months(aC,"")+"|^"+this.monthsShort(aC,"");this._monthsParse[aA]=new RegExp(aB.replace(".",""),"i");}if(this._monthsParse[aA].test(az)){return aA;
}}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(az){return this._weekdays[az.day()];},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(az){return this._weekdaysShort[az.day()];},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(az){return this._weekdaysMin[az.day()];
},weekdaysParse:function(aC){var az,aB,aA;if(!this._weekdaysParse){this._weekdaysParse=[];}for(az=0;az<7;az++){if(!this._weekdaysParse[az]){aB=am([2000,1]).day(az);aA="^"+this.weekdays(aB,"")+"|^"+this.weekdaysShort(aB,"")+"|^"+this.weekdaysMin(aB,"");this._weekdaysParse[az]=new RegExp(aA.replace(".",""),"i");
}if(this._weekdaysParse[az].test(aC)){return az;}}},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(aA){var az=this._longDateFormat[aA];if(!az&&this._longDateFormat[aA.toUpperCase()]){az=this._longDateFormat[aA.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(aB){return aB.slice(1);
});this._longDateFormat[aA]=az;}return az;},isPM:function(az){return((az+"").toLowerCase().charAt(0)==="p");},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(az,aA,aB){if(az>11){return aB?"pm":"PM";}else{return aB?"am":"AM";}},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(aA,aB){var az=this._calendar[aA];
return typeof az==="function"?az.apply(aB):az;},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(aC,aB,aA,aD){var az=this._relativeTime[aA];
return(typeof az==="function")?az(aC,aB,aA,aD):az.replace(/%d/i,aC);},pastFuture:function(aB,az){var aA=this._relativeTime[aB>0?"future":"past"];return typeof aA==="function"?aA(az):aA.replace(/%s/i,az);},ordinal:function(az){return this._ordinal.replace("%d",az);},_ordinal:"%d",preparse:function(az){return az;
},postformat:function(az){return az;},week:function(az){return af(az,this._week.dow,this._week.doy).week;},_week:{dow:0,doy:6}});function L(aA,az){az.abbr=aA;if(!ad[aA]){ad[aA]=new ax();}ad[aA].set(az);return ad[aA];}function S(az){delete ad[az];}function K(az){if(!az){return am.fn._lang;}if(!ad[az]&&ac){try{h("./lang/"+az);
}catch(aA){return am.fn._lang;}}return ad[az]||am.fn._lang;}function V(az){if(az.match(/\[.*\]/)){return az.replace(/^\[|\]$/g,"");}return az.replace(/\\/g,"");}function ak(aB){var aC=aB.match(u),az,aA;for(az=0,aA=aC.length;az<aA;az++){if(q[aC[az]]){aC[az]=q[aC[az]];}else{aC[az]=V(aC[az]);}}return function(aE){var aD="";
for(az=0;az<aA;az++){aD+=aC[az] instanceof Function?aC[az].call(aE,aB):aC[az];}return aD;};}function ab(az,aA){aA=H(aA,az.lang());if(!v[aA]){v[aA]=ak(aA);}return v[aA](az);}function H(aB,aC){var az=5;function aA(aD){return aC.longDateFormat(aD)||aD;}while(az--&&(A.lastIndex=0,A.test(aB))){aB=aB.replace(A,aA);
}return aB;}function o(aA,az){switch(aA){case"DDDD":return ag;case"YYYY":return W;case"YYYYY":return z;case"S":case"SS":case"SSS":case"DDD":return ae;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return X;case"a":case"A":return K(az._l)._meridiemParse;case"X":return y;case"Z":case"ZZ":return k;case"T":return F;
case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return p;default:return new RegExp(aA.replace("\\",""));}}function B(aA){var az=(k.exec(aA)||[])[0],aC=(az+"").match(O)||["-",0,0],aB=+(aC[1]*60)+~~aC[2];return aC[0]==="+"?-aB:aB;}function n(aD,aB,aC){var aA,az=aC._a;
switch(aD){case"M":case"MM":if(aB!=null){az[1]=~~aB-1;}break;case"MMM":case"MMMM":aA=K(aC._l).monthsParse(aB);if(aA!=null){az[1]=aA;}else{aC._isValid=false;}break;case"D":case"DD":if(aB!=null){az[2]=~~aB;}break;case"DDD":case"DDDD":if(aB!=null){az[1]=0;az[2]=~~aB;}break;case"YY":az[0]=~~aB+(~~aB>68?1900:2000);
break;case"YYYY":case"YYYYY":az[0]=~~aB;break;case"a":case"A":aC._isPm=K(aC._l).isPM(aB);break;case"H":case"HH":case"h":case"hh":az[3]=~~aB;break;case"m":case"mm":az[4]=~~aB;break;case"s":case"ss":az[5]=~~aB;break;case"S":case"SS":case"SSS":az[6]=~~(("0."+aB)*1000);break;case"X":aC._d=new Date(parseFloat(aB)*1000);
break;case"Z":case"ZZ":aC._useUTC=true;aC._tzm=B(aB);break;}if(aB==null){aC._isValid=false;}}function s(aC){var aD,aB,aA=[],az;if(aC._d){return;}az=t(aC);for(aD=0;aD<3&&aC._a[aD]==null;++aD){aC._a[aD]=aA[aD]=az[aD];}for(;aD<7;aD++){aC._a[aD]=aA[aD]=(aC._a[aD]==null)?(aD===2?1:0):aC._a[aD];}aA[3]+=~~((aC._tzm||0)/60);
aA[4]+=~~((aC._tzm||0)%60);aB=new Date(0);if(aC._useUTC){aB.setUTCFullYear(aA[0],aA[1],aA[2]);aB.setUTCHours(aA[3],aA[4],aA[5],aA[6]);}else{aB.setFullYear(aA[0],aA[1],aA[2]);aB.setHours(aA[3],aA[4],aA[5],aA[6]);}aC._d=aB;}function ap(az){var aA=az._i;if(az._d){return;}az._a=[aA.years||aA.year||aA.y,aA.months||aA.month||aA.M,aA.days||aA.day||aA.d,aA.hours||aA.hour||aA.h,aA.minutes||aA.minute||aA.m,aA.seconds||aA.second||aA.s,aA.milliseconds||aA.millisecond||aA.ms];
s(az);}function t(aA){var az=new Date();if(aA._useUTC){return[az.getUTCFullYear(),az.getUTCMonth(),az.getUTCDate()];}else{return[az.getFullYear(),az.getMonth(),az.getDate()];}}function Z(aA){var aE=K(aA._l),az=""+aA._i,aB,aD,aC;aC=H(aA._f,aE).match(u);aA._a=[];for(aB=0;aB<aC.length;aB++){aD=(o(aC[aB],aA).exec(az)||[])[0];
if(aD){az=az.slice(az.indexOf(aD)+aD.length);}if(q[aC[aB]]){n(aC[aB],aD,aA);}}if(az){aA._il=az;}if(aA._isPm&&aA._a[3]<12){aA._a[3]+=12;}if(aA._isPm===false&&aA._a[3]===12){aA._a[3]=0;}s(aA);}function N(aA){var aE,az,aC,aD=99,aB,aF;for(aB=0;aB<aA._f.length;aB++){aE=C({},aA);aE._f=aA._f[aB];Z(aE);az=new G(aE);
aF=ah(aE._a,az.toArray());if(az._il){aF+=az._il.length;}if(aF<aD){aD=aF;aC=az;}}C(aA,aC);}function ao(aB){var aC,aA=aB._i,az=Y.exec(aA);if(az){aB._f="YYYY-MM-DD"+(az[2]||" ");for(aC=0;aC<4;aC++){if(r[aC][1].exec(aA)){aB._f+=r[aC][0];break;}}if(k.exec(aA)){aB._f+=" Z";}Z(aB);}else{aB._d=new Date(aA);}}function aw(aB){var aA=aB._i,az=J.exec(aA);
if(aA===E){aB._d=new Date();}else{if(az){aB._d=new Date(+az[1]);}else{if(typeof aA==="string"){ao(aB);}else{if(P(aA)){aB._a=aA.slice(0);s(aB);}else{if(aA instanceof Date){aB._d=new Date(+aA);}else{if(typeof(aA)==="object"){ap(aB);}else{aB._d=new Date(aA);}}}}}}}function aj(az,aB,aA,aC,aD){return aD.relativeTime(aB||1,!!aA,az,aC);
}function R(aB,az,aA){var aG=at(Math.abs(aB)/1000),aC=at(aG/60),aF=at(aC/60),aH=at(aF/24),aD=at(aH/365),aE=aG<45&&["s",aG]||aC===1&&["m"]||aC<45&&["mm",aC]||aF===1&&["h"]||aF<22&&["hh",aF]||aH===1&&["d"]||aH<=25&&["dd",aH]||aH<=45&&["M"]||aH<345&&["MM",at(aH/30)]||aD===1&&["y"]||["yy",aD];aE[2]=az;aE[3]=aB>0;
aE[4]=aA;return aj.apply({},aE);}function af(aD,aB,aE){var aA=aE-aB,az=aE-aD.day(),aC;if(az>aA){az-=7;}if(az<aA-7){az+=7;}aC=am(aD).add("d",az);return{week:Math.ceil(aC.dayOfYear()/7),year:aC.year()};}function au(aA){var az=aA._i,aB=aA._f;if(az===null||az===""){return null;}if(typeof az==="string"){aA._i=az=K().preparse(az);
}if(am.isMoment(az)){aA=C({},az);aA._d=new Date(+az._d);}else{if(aB){if(P(aB)){N(aA);}else{Z(aA);}}else{aw(aA);}}return new G(aA);}am=function(az,aA,aB){return au({_i:az,_f:aA,_l:aB,_isUTC:false});};am.utc=function(az,aA,aB){return au({_useUTC:true,_isUTC:true,_l:aB,_i:az,_f:aA}).utc();};am.unix=function(az){return am(az*1000);
};am.duration=function(aB,aF){var aE=am.isDuration(aB),aD=(typeof aB==="number"),aG=(aE?aB._input:(aD?{}:aB)),az=ar.exec(aB),aA,aC;if(aD){if(aF){aG[aF]=aB;}else{aG.milliseconds=aB;}}else{if(az){aA=(az[1]==="-")?-1:1;aG={y:0,d:~~az[2]*aA,h:~~az[3]*aA,m:~~az[4]*aA,s:~~az[5]*aA,ms:~~az[6]*aA};}}aC=new ay(aG);
if(aE&&aB.hasOwnProperty("_lang")){aC._lang=aB._lang;}return aC;};am.version=M;am.defaultFormat=m;am.updateOffset=function(){};am.lang=function(aA,az){if(!aA){return am.fn._lang._abbr;}aA=aA.toLowerCase();aA=aA.replace("_","-");if(az){L(aA,az);}else{if(az===null){S(aA);aA="en";}else{if(!ad[aA]){K(aA);
}}}am.duration.fn._lang=am.fn._lang=K(aA);};am.langData=function(az){if(az&&az._lang&&az._lang._abbr){az=az._lang._abbr;}return K(az);};am.isMoment=function(az){return az instanceof G;};am.isDuration=function(az){return az instanceof ay;};C(am.fn=G.prototype,{clone:function(){return am(this);},valueOf:function(){return +this._d+((this._offset||0)*60000);
},unix:function(){return Math.floor(+this/1000);},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ");},toDate:function(){return this._offset?new Date(+this):this._d;},toISOString:function(){return ab(am(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]");},toArray:function(){var az=this;
return[az.year(),az.month(),az.date(),az.hours(),az.minutes(),az.seconds(),az.milliseconds()];},isValid:function(){if(this._isValid==null){if(this._a){this._isValid=!ah(this._a,(this._isUTC?am.utc(this._a):am(this._a)).toArray());}else{this._isValid=!isNaN(this._d.getTime());}}return !!this._isValid;
},invalidAt:function(){var aB,aA=this._a,az=(this._isUTC?am.utc(this._a):am(this._a)).toArray();for(aB=6;aB>=0&&aA[aB]===az[aB];--aB){}return aB;},utc:function(){return this.zone(0);},local:function(){this.zone(0);this._isUTC=false;return this;},format:function(aA){var az=ab(this,aA||am.defaultFormat);
return this.lang().postformat(az);},add:function(az,aB){var aA;if(typeof az==="string"){aA=am.duration(+aB,az);}else{aA=am.duration(az,aB);}ai(this,aA,1);return this;},subtract:function(az,aB){var aA;if(typeof az==="string"){aA=am.duration(+aB,az);}else{aA=am.duration(az,aB);}ai(this,aA,-1);return this;
},diff:function(aD,aC,az){var aE=this._isUTC?am(aD).zone(this._offset||0):am(aD).local(),aA=(this.zone()-aE.zone())*60000,aF,aB;aC=Q(aC);if(aC==="year"||aC==="month"){aF=(this.daysInMonth()+aE.daysInMonth())*43200000;aB=((this.year()-aE.year())*12)+(this.month()-aE.month());aB+=((this-am(this).startOf("month"))-(aE-am(aE).startOf("month")))/aF;
aB-=((this.zone()-am(this).startOf("month").zone())-(aE.zone()-am(aE).startOf("month").zone()))*60000/aF;if(aC==="year"){aB=aB/12;}}else{aF=(this-aE);aB=aC==="second"?aF/1000:aC==="minute"?aF/60000:aC==="hour"?aF/3600000:aC==="day"?(aF-aA)/86400000:aC==="week"?(aF-aA)/604800000:aF;}return az?aB:al(aB);
},from:function(aA,az){return am.duration(this.diff(aA)).lang(this.lang()._abbr).humanize(!az);},fromNow:function(az){return this.from(am(),az);},calendar:function(){var aA=this.diff(am().zone(this.zone()).startOf("day"),"days",true),az=aA<-6?"sameElse":aA<-1?"lastWeek":aA<0?"lastDay":aA<1?"sameDay":aA<2?"nextDay":aA<7?"nextWeek":"sameElse";
return this.format(this.lang().calendar(az,this));},isLeapYear:function(){var az=this.year();return(az%4===0&&az%100!==0)||az%400===0;},isDST:function(){return(this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone());},day:function(aA){var az=this._isUTC?this._d.getUTCDay():this._d.getDay();
if(aA!=null){if(typeof aA==="string"){aA=this.lang().weekdaysParse(aA);if(typeof aA!=="number"){return this;}}return this.add({d:aA-az});}else{return az;}},month:function(az){var aA=this._isUTC?"UTC":"",aB;if(az!=null){if(typeof az==="string"){az=this.lang().monthsParse(az);if(typeof az!=="number"){return this;
}}aB=this.date();this.date(1);this._d["set"+aA+"Month"](az);this.date(Math.min(aB,this.daysInMonth()));am.updateOffset(this);return this;}else{return this._d["get"+aA+"Month"]();}},startOf:function(az){az=Q(az);switch(az){case"year":this.month(0);case"month":this.date(1);case"week":case"isoweek":case"day":this.hours(0);
case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0);}if(az==="week"){this.weekday(0);}else{if(az==="isoweek"){this.isoWeekday(1);}}return this;},endOf:function(az){az=Q(az);return this.startOf(az).add((az==="isoweek"?"week":az),1).subtract("ms",1);},isAfter:function(aA,az){az=typeof az!=="undefined"?az:"millisecond";
return +this.clone().startOf(az)>+am(aA).startOf(az);},isBefore:function(aA,az){az=typeof az!=="undefined"?az:"millisecond";return +this.clone().startOf(az)<+am(aA).startOf(az);},isSame:function(aA,az){az=typeof az!=="undefined"?az:"millisecond";return +this.clone().startOf(az)===+am(aA).startOf(az);
},min:function(az){az=am.apply(null,arguments);return az<this?this:az;},max:function(az){az=am.apply(null,arguments);return az>this?this:az;},zone:function(az){var aA=this._offset||0;if(az!=null){if(typeof az==="string"){az=B(az);}if(Math.abs(az)<16){az=az*60;}this._offset=az;this._isUTC=true;if(aA!==az){ai(this,am.duration(aA-az,"m"),1,true);
}}else{return this._isUTC?aA:this._d.getTimezoneOffset();}return this;},zoneAbbr:function(){return this._isUTC?"UTC":"";},zoneName:function(){return this._isUTC?"Coordinated Universal Time":"";},hasAlignedHourOffset:function(az){if(!az){az=0;}else{az=am(az).zone();}return(this.zone()-az)%60===0;},daysInMonth:function(){return am.utc([this.year(),this.month()+1,0]).date();
},dayOfYear:function(az){var aA=at((am(this).startOf("day")-am(this).startOf("year"))/86400000)+1;return az==null?aA:this.add("d",(az-aA));},weekYear:function(az){var aA=af(this,this.lang()._week.dow,this.lang()._week.doy).year;return az==null?aA:this.add("y",(az-aA));},isoWeekYear:function(az){var aA=af(this,1,4).year;
return az==null?aA:this.add("y",(az-aA));},week:function(az){var aA=this.lang().week(this);return az==null?aA:this.add("d",(az-aA)*7);},isoWeek:function(az){var aA=af(this,1,4).week;return az==null?aA:this.add("d",(az-aA)*7);},weekday:function(az){var aA=(this._d.getDay()+7-this.lang()._week.dow)%7;return az==null?aA:this.add("d",az-aA);
},isoWeekday:function(az){return az==null?this.day()||7:this.day(this.day()%7?az:az-7);},get:function(az){az=Q(az);return this[az.toLowerCase()]();},set:function(az,aA){az=Q(az);this[az.toLowerCase()](aA);},lang:function(az){if(az===E){return this._lang;}else{this._lang=K(az);return this;}}});function x(az,aA){am.fn[az]=am.fn[az+"s"]=function(aB){var aC=this._isUTC?"UTC":"";
if(aB!=null){this._d["set"+aC+aA](aB);am.updateOffset(this);return this;}else{return this._d["get"+aC+aA]();}};}for(av=0;av<w.length;av++){x(w[av].toLowerCase().replace(/s$/,""),w[av]);}x("year","FullYear");am.fn.days=am.fn.day;am.fn.months=am.fn.month;am.fn.weeks=am.fn.week;am.fn.isoWeeks=am.fn.isoWeek;
am.fn.toJSON=am.fn.toISOString;C(am.duration.fn=ay.prototype,{_bubble:function(){var aB=this._milliseconds,aG=this._days,az=this._months,aE=this._data,aF,aD,aA,aC;aE.milliseconds=aB%1000;aF=al(aB/1000);aE.seconds=aF%60;aD=al(aF/60);aE.minutes=aD%60;aA=al(aD/60);aE.hours=aA%24;aG+=al(aA/24);aE.days=aG%30;
az+=al(aG/30);aE.months=az%12;aC=al(az/12);aE.years=aC;},weeks:function(){return al(this.days()/7);},valueOf:function(){return this._milliseconds+this._days*86400000+(this._months%12)*2592000000+~~(this._months/12)*31536000000;},humanize:function(aA){var aB=+this,az=R(aB,!aA,this.lang());if(aA){az=this.lang().pastFuture(aB,az);
}return this.lang().postformat(az);},add:function(az,aB){var aA=am.duration(az,aB);this._milliseconds+=aA._milliseconds;this._days+=aA._days;this._months+=aA._months;this._bubble();return this;},subtract:function(az,aB){var aA=am.duration(az,aB);this._milliseconds-=aA._milliseconds;this._days-=aA._days;
this._months-=aA._months;this._bubble();return this;},get:function(az){az=Q(az);return this[az.toLowerCase()+"s"]();},as:function(az){az=Q(az);return this["as"+az.charAt(0).toUpperCase()+az.slice(1)+"s"]();},lang:am.fn.lang});function j(az){am.duration.fn[az]=function(){return this._data[az];};}function l(az,aA){am.duration.fn["as"+az]=function(){return +this/aA;
};}for(av in an){if(an.hasOwnProperty(av)){l(av,an[av]);j(av.toLowerCase());}}l("Weeks",604800000);am.duration.fn.asMonths=function(){return(+this-this.years()*31536000000)/2592000000+this.years()*12;};am.lang("en",{ordinal:function(aB){var az=aB%10,aA=(~~(aB%100/10)===1)?"th":(az===1)?"st":(az===2)?"nd":(az===3)?"rd":"th";
return aB+aA;}});if(ac){i.exports=am;}if(typeof ender==="undefined"){this["moment"]=am;}if(typeof g==="function"&&g.amd){g("moment",[],function(){return am;});}}).call(this);},{}],3:[function(aH,aP,aa){var F=(typeof window!=="undefined")&&window["moment"]||aH("moment");var L=(typeof window!=="undefined")&&window["Hammer"]||aH("hammerjs");
if(!Array.prototype.indexOf){Array.prototype.indexOf=function(aT){for(var aS=0;aS<this.length;aS++){if(this[aS]==aT){return aS;}}return -1;};try{console.log("Warning: Ancient browser detected. Please update your browser");}catch(aw){}}if(!Array.prototype.forEach){Array.prototype.forEach=function(aV,aU){for(var aT=0,aS=this.length;
aT<aS;++aT){aV.call(aU||this,this[aT],aT,this);}};}if(!Array.prototype.map){Array.prototype.map=function(a0,aZ){var aT,aS,aU;if(this==null){throw new TypeError(" this is null or not defined");}var aW=Object(this);var aX=aW.length>>>0;if(typeof a0!=="function"){throw new TypeError(a0+" is not a function");
}if(aZ){aT=aZ;}aS=new Array(aX);aU=0;while(aU<aX){var aV,aY;if(aU in aW){aV=aW[aU];aY=a0.call(aT,aV,aU,aW);aS[aU]=aY;}aU++;}return aS;};}if(!Array.prototype.filter){Array.prototype.filter=function(aT){if(this==null){throw new TypeError();}var aX=Object(this);var aS=aX.length>>>0;if(typeof aT!="function"){throw new TypeError();
}var aW=[];var aV=arguments[1];for(var aU=0;aU<aS;aU++){if(aU in aX){var aY=aX[aU];if(aT.call(aV,aY,aU,aX)){aW.push(aY);}}}return aW;};}if(!Object.keys){Object.keys=(function(){var aU=Object.prototype.hasOwnProperty,aV=!({toString:null}).propertyIsEnumerable("toString"),aT=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],aS=aT.length;
return function(aY){if(typeof aY!=="object"&&typeof aY!=="function"||aY===null){throw new TypeError("Object.keys called on non-object");}var aW=[];for(var aZ in aY){if(aU.call(aY,aZ)){aW.push(aZ);}}if(aV){for(var aX=0;aX<aS;aX++){if(aU.call(aY,aT[aX])){aW.push(aT[aX]);}}}return aW;};})();}if(!Array.isArray){Array.isArray=function(aS){return Object.prototype.toString.call(aS)==="[object Array]";
};}if(!Function.prototype.bind){Function.prototype.bind=function(aS){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");}var aW=Array.prototype.slice.call(arguments,1),aV=this,aT=function(){},aU=function(){return aV.apply(this instanceof aT&&aS?this:aS,aW.concat(Array.prototype.slice.call(arguments)));
};aT.prototype=this.prototype;aU.prototype=new aT();return aU;};}if(!Object.create){Object.create=function(aT){if(arguments.length>1){throw new Error("Object.create implementation only accepts the first parameter.");}function aS(){}aS.prototype=aT;return new aS();};}if(!Function.prototype.bind){Function.prototype.bind=function(aS){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");
}var aW=Array.prototype.slice.call(arguments,1),aV=this,aT=function(){},aU=function(){return aV.apply(this instanceof aT&&aS?this:aS,aW.concat(Array.prototype.slice.call(arguments)));};aT.prototype=this.prototype;aU.prototype=new aT();return aU;};}var aF={};aF.isNumber=function U(aS){return(aS instanceof Number||typeof aS=="number");
};aF.isString=function aM(aS){return(aS instanceof String||typeof aS=="string");};aF.isDate=function n(aT){if(aT instanceof Date){return true;}else{if(aF.isString(aT)){var aS=aE.exec(aT);if(aS){return true;}else{if(!isNaN(Date.parse(aT))){return true;}}}}return false;};aF.isDataTable=function R(aS){return(typeof(google)!=="undefined")&&(google.visualization)&&(google.visualization.DataTable)&&(aS instanceof google.visualization.DataTable);
};aF.randomUUID=function I(){var aS=function(){return Math.floor(Math.random()*65536).toString(16);};return(aS()+aS()+"-"+aS()+"-"+aS()+"-"+aS()+"-"+aS()+aS()+aS());};aF.extend=function(aV,aU){for(var aW=1,aT=arguments.length;aW<aT;aW++){var aS=arguments[aW];for(var aX in aS){if(aS.hasOwnProperty(aX)&&aS[aX]!==undefined){aV[aX]=aS[aX];
}}}return aV;};aF.convert=function au(aT,aU){var aS;if(aT===undefined){return undefined;}if(aT===null){return null;}if(!aU){return aT;}if(!(typeof aU==="string")&&!(aU instanceof String)){throw new Error("Type must be a string");}switch(aU){case"boolean":case"Boolean":return Boolean(aT);case"number":case"Number":return Number(aT.valueOf());
case"string":case"String":return String(aT);case"Date":if(aF.isNumber(aT)){return new Date(aT);}if(aT instanceof Date){return new Date(aT.valueOf());}else{if(F.isMoment(aT)){return new Date(aT.valueOf());}}if(aF.isString(aT)){aS=aE.exec(aT);if(aS){return new Date(Number(aS[1]));}else{return F(aT).toDate();
}}else{throw new Error("Cannot convert object of type "+aF.getType(aT)+" to type Date");}case"Moment":if(aF.isNumber(aT)){return F(aT);}if(aT instanceof Date){return F(aT.valueOf());}else{if(F.isMoment(aT)){return F.clone();}}if(aF.isString(aT)){aS=aE.exec(aT);if(aS){return F(Number(aS[1]));}else{return F(aT);
}}else{throw new Error("Cannot convert object of type "+aF.getType(aT)+" to type Date");}case"ISODate":if(aF.isNumber(aT)){return new Date(aT);}else{if(aT instanceof Date){return aT.toISOString();}else{if(F.isMoment(aT)){return aT.toDate().toISOString();}else{if(aF.isString(aT)){aS=aE.exec(aT);if(aS){return new Date(Number(aS[1])).toISOString();
}else{return new Date(aT).toISOString();}}else{throw new Error("Cannot convert object of type "+aF.getType(aT)+" to type ISODate");}}}}case"ASPDate":if(aF.isNumber(aT)){return"/Date("+aT+")/";}else{if(aT instanceof Date){return"/Date("+aT.valueOf()+")/";}else{if(aF.isString(aT)){aS=aE.exec(aT);var aV;
if(aS){aV=new Date(Number(aS[1])).valueOf();}else{aV=new Date(aT).valueOf();}return"/Date("+aV+")/";}else{throw new Error("Cannot convert object of type "+aF.getType(aT)+" to type ASPDate");}}}default:throw new Error("Cannot convert object of type "+aF.getType(aT)+' to type "'+aU+'"');}};var aE=/^\/?Date\((\-?\d+)/i;
aF.getType=function A(aS){var aT=typeof aS;if(aT=="object"){if(aS==null){return"null";}if(aS instanceof Boolean){return"Boolean";}if(aS instanceof Number){return"Number";}if(aS instanceof String){return"String";}if(aS instanceof Array){return"Array";}if(aS instanceof Date){return"Date";}return"Object";
}else{if(aT=="number"){return"Number";}else{if(aT=="boolean"){return"Boolean";}else{if(aT=="string"){return"String";}}}}return aT;};aF.getAbsoluteLeft=function aQ(aT){var aW=document.documentElement;var aS=document.body;var aV=aT.offsetLeft;var aU=aT.offsetParent;while(aU!=null&&aU!=aS&&aU!=aW){aV+=aU.offsetLeft;
aV-=aU.scrollLeft;aU=aU.offsetParent;}return aV;};aF.getAbsoluteTop=function aN(aT){var aW=document.documentElement;var aS=document.body;var aV=aT.offsetTop;var aU=aT.offsetParent;while(aU!=null&&aU!=aS&&aU!=aW){aV+=aU.offsetTop;aV-=aU.scrollTop;aU=aU.offsetParent;}return aV;};aF.getPageY=function ah(aU){if("pageY" in aU){return aU.pageY;
}else{var aT;if(("targetTouches" in aU)&&aU.targetTouches.length){aT=aU.targetTouches[0].clientY;}else{aT=aU.clientY;}var aV=document.documentElement;var aS=document.body;return aT+(aV&&aV.scrollTop||aS&&aS.scrollTop||0)-(aV&&aV.clientTop||aS&&aS.clientTop||0);}};aF.getPageX=function ai(aU){if("pageY" in aU){return aU.pageX;
}else{var aT;if(("targetTouches" in aU)&&aU.targetTouches.length){aT=aU.targetTouches[0].clientX;}else{aT=aU.clientX;}var aV=document.documentElement;var aS=document.body;return aT+(aV&&aV.scrollLeft||aS&&aS.scrollLeft||0)-(aV&&aV.clientLeft||aS&&aS.clientLeft||0);}};aF.addClassName=function t(aU,aT){var aS=aU.className.split(" ");
if(aS.indexOf(aT)==-1){aS.push(aT);aU.className=aS.join(" ");}};aF.removeClassName=function Q(aV,aU){var aT=aV.className.split(" ");var aS=aT.indexOf(aU);if(aS!=-1){aT.splice(aS,1);aV.className=aT.join(" ");}};aF.forEach=function aC(aT,aV){var aU,aS;if(aT instanceof Array){for(aU=0,aS=aT.length;aU<aS;
aU++){aV(aT[aU],aU,aT);}}else{for(aU in aT){if(aT.hasOwnProperty(aU)){aV(aT[aU],aU,aT);}}}};aF.updateProperty=function aA(aS,aT,aU){if(aS[aT]!==aU){aS[aT]=aU;return true;}else{return false;}};aF.addEventListener=function W(aT,aV,aU,aS){if(aT.addEventListener){if(aS===undefined){aS=false;}if(aV==="mousewheel"&&navigator.userAgent.indexOf("Firefox")>=0){aV="DOMMouseScroll";
}aT.addEventListener(aV,aU,aS);}else{aT.attachEvent("on"+aV,aU);}};aF.removeEventListener=function p(aT,aV,aU,aS){if(aT.removeEventListener){if(aS===undefined){aS=false;}if(aV==="mousewheel"&&navigator.userAgent.indexOf("Firefox")>=0){aV="DOMMouseScroll";}aT.removeEventListener(aV,aU,aS);}else{aT.detachEvent("on"+aV,aU);
}};aF.getTarget=function E(aS){if(!aS){aS=window.event;}var aT;if(aS.target){aT=aS.target;}else{if(aS.srcElement){aT=aS.srcElement;}}if(aT.nodeType!=undefined&&aT.nodeType==3){aT=aT.parentNode;}return aT;};aF.stopPropagation=function ar(aS){if(!aS){aS=window.event;}if(aS.stopPropagation){aS.stopPropagation();
}else{aS.cancelBubble=true;}};aF.preventDefault=function C(aS){if(!aS){aS=window.event;}if(aS.preventDefault){aS.preventDefault();}else{aS.returnValue=false;}};aF.option={};aF.option.asBoolean=function(aT,aS){if(typeof aT=="function"){aT=aT();}if(aT!=null){return(aT!=false);}return aS||null;};aF.option.asNumber=function(aT,aS){if(typeof aT=="function"){aT=aT();
}if(aT!=null){return Number(aT)||aS||null;}return aS||null;};aF.option.asString=function(aT,aS){if(typeof aT=="function"){aT=aT();}if(aT!=null){return String(aT);}return aS||null;};aF.option.asSize=function(aT,aS){if(typeof aT=="function"){aT=aT();}if(aF.isString(aT)){return aT;}else{if(aF.isNumber(aT)){return aT+"px";
}else{return aS||null;}}};aF.option.asElement=function(aT,aS){if(typeof aT=="function"){aT=aT();}return aT||aS||null;};aF.loadCss=function(aS){if(typeof document==="undefined"){return;}var aT=document.createElement("style");aT.type="text/css";if(aT.styleSheet){aT.styleSheet.cssText=aS;}else{aT.appendChild(document.createTextNode(aS));
}document.getElementsByTagName("head")[0].appendChild(aT);};var D={"listeners":[],"indexOf":function(aT){var aV=this.listeners;for(var aU=0,aS=this.listeners.length;aU<aS;aU++){var aW=aV[aU];if(aW&&aW.object==aT){return aU;}}return -1;},"addListener":function(aT,aV,aX){var aS=this.indexOf(aT);var aW=this.listeners[aS];
if(!aW){aW={"object":aT,"events":{}};this.listeners.push(aW);}var aU=aW.events[aV];if(!aU){aU=[];aW.events[aV]=aU;}if(aU.indexOf(aX)==-1){aU.push(aX);}},"removeListener":function(aU,aS,aZ){var aW=this.indexOf(aU);var aT=this.listeners[aW];if(aT){var aY=aT.events[aS];if(aY){aW=aY.indexOf(aZ);if(aW!=-1){aY.splice(aW,1);
}if(aY.length==0){delete aT.events[aS];}}var aV=0;var a0=aT.events;for(var aX in a0){if(a0.hasOwnProperty(aX)){aV++;}}if(aV==0){delete this.listeners[aW];}}},"removeAllListeners":function(){this.listeners=[];},"trigger":function(aU,aY,aW){var aT=this.indexOf(aU);var aZ=this.listeners[aT];if(aZ){var aX=aZ.events[aY];
if(aX){for(var aV=0,aS=aX.length;aV<aS;aV++){aX[aV](aW);}}}}};function ac(){this.subscriptions=[];}ac.prototype.on=function(aT,aW,aV){var aU=(aT instanceof RegExp)?aT:new RegExp(aT.replace("*","\\w+"));var aS={id:aF.randomUUID(),event:aT,regexp:aU,callback:(typeof aW==="function")?aW:null,target:aV};
this.subscriptions.push(aS);return aS.id;};ac.prototype.off=function(aU){var aT=0;while(aT<this.subscriptions.length){var aV=this.subscriptions[aT];var aS=true;if(aU instanceof Object){for(var aW in aU){if(aU.hasOwnProperty(aW)){if(aU[aW]!==aV[aW]){aS=false;}}}}else{aS=(aV.id==aU);}if(aS){this.subscriptions.splice(aT,1);
}else{aT++;}}};ac.prototype.emit=function(aU,aW,aV){for(var aS=0;aS<this.subscriptions.length;aS++){var aT=this.subscriptions[aS];if(aT.regexp.test(aU)){if(aT.callback){aT.callback(aU,aW,aV);}}}};function k(aS){this.id=aF.randomUUID();this.options=aS||{};this.data={};this.fieldId=this.options.fieldId||"id";
this.convert={};if(this.options.convert){for(var aU in this.options.convert){if(this.options.convert.hasOwnProperty(aU)){var aT=this.options.convert[aU];if(aT=="Date"||aT=="ISODate"||aT=="ASPDate"){this.convert[aU]="Date";}else{this.convert[aU]=aT;}}}}this.subscribers={};this.internalIds={};}k.prototype.subscribe=function(aS,aU){var aT=this.subscribers[aS];
if(!aT){aT=[];this.subscribers[aS]=aT;}aT.push({callback:aU});};k.prototype.unsubscribe=function(aS,aU){var aT=this.subscribers[aS];if(aT){this.subscribers[aS]=aT.filter(function(aV){return(aV.callback!=aU);});}};k.prototype._trigger=function(aU,aX,aW){if(aU=="*"){throw new Error("Cannot trigger event *");
}var aV=[];if(aU in this.subscribers){aV=aV.concat(this.subscribers[aU]);}if("*" in this.subscribers){aV=aV.concat(this.subscribers["*"]);}for(var aS=0;aS<aV.length;aS++){var aT=aV[aS];if(aT.callback){aT.callback(aU,aX,aW||null);}}};k.prototype.add=function(aV,a2){var a0=[],aS,aY=this;if(aV instanceof Array){for(var aW=0,aX=aV.length;
aW<aX;aW++){aS=aY._addItem(aV[aW]);a0.push(aS);}}else{if(aF.isDataTable(aV)){var aU=this._getColumnNames(aV);for(var a5=0,a4=aV.getNumberOfRows();a5<a4;a5++){var a3={};for(var aT=0,aZ=aU.length;aT<aZ;aT++){var a1=aU[aT];a3[a1]=aV.getValue(a5,aT);}aS=aY._addItem(a3);a0.push(aS);}}else{if(aV instanceof Object){aS=aY._addItem(aV);
a0.push(aS);}else{throw new Error("Unknown dataType");}}}if(a0.length){this._trigger("add",{items:a0},a2);}return a0;};k.prototype.update=function(aV,a3){var a1=[],a4=[],aZ=this,aY=aZ.fieldId;var aS=function(a8){var a9=a8[aY];if(aZ.data[a9]){a9=aZ._updateItem(a8);a4.push(a9);}else{a9=aZ._addItem(a8);
a1.push(a9);}};if(aV instanceof Array){for(var aW=0,aX=aV.length;aW<aX;aW++){aS(aV[aW]);}}else{if(aF.isDataTable(aV)){var aU=this._getColumnNames(aV);for(var a7=0,a6=aV.getNumberOfRows();a7<a6;a7++){var a5={};for(var aT=0,a0=aU.length;aT<a0;aT++){var a2=aU[aT];a5[a2]=aV.getValue(a7,aT);}aS(a5);}}else{if(aV instanceof Object){aS(aV);
}else{throw new Error("Unknown dataType");}}}if(a1.length){this._trigger("add",{items:a1},a3);}if(a4.length){this._trigger("update",{items:a4},a3);}return a1.concat(a4);};k.prototype.get=function(a2){var a4=this;var aU,aS,a8,aX;var aY=aF.getType(arguments[0]);if(aY=="String"||aY=="Number"){aU=arguments[0];
a8=arguments[1];aX=arguments[2];}else{if(aY=="Array"){aS=arguments[0];a8=arguments[1];aX=arguments[2];}else{a8=arguments[0];aX=arguments[1];}}var a5;if(a8&&a8.type){a5=(a8.type=="DataTable")?"DataTable":"Array";if(aX&&(a5!=aF.getType(aX))){throw new Error('Type of parameter "data" ('+aF.getType(aX)+") "+"does not correspond with specified options.type ("+a8.type+")");
}if(a5=="DataTable"&&!aF.isDataTable(aX)){throw new Error('Parameter "data" must be a DataTable '+'when options.type is "DataTable"');}}else{if(aX){a5=(aF.getType(aX)=="DataTable")?"DataTable":"Array";}else{a5="Array";}}var a3=a8&&a8.convert||this.options.convert;var aT=a8&&a8.filter;var a1=[],a7,a6,aW,a0;
if(aU!=undefined){a7=a4._getItem(aU,a3);if(aT&&!aT(a7)){a7=null;}}else{if(aS!=undefined){for(aW=0,a0=aS.length;aW<a0;aW++){a7=a4._getItem(aS[aW],a3);if(!aT||aT(a7)){a1.push(a7);}}}else{for(a6 in this.data){if(this.data.hasOwnProperty(a6)){a7=a4._getItem(a6,a3);if(!aT||aT(a7)){a1.push(a7);}}}}}if(a8&&a8.order&&aU==undefined){this._sort(a1,a8.order);
}if(a8&&a8.fields){var aZ=a8.fields;if(aU!=undefined){a7=this._filterFields(a7,aZ);}else{for(aW=0,a0=a1.length;aW<a0;aW++){a1[aW]=this._filterFields(a1[aW],aZ);}}}if(a5=="DataTable"){var aV=this._getColumnNames(aX);if(aU!=undefined){a4._appendRow(aX,aV,a7);}else{for(aW=0,a0=a1.length;aW<a0;aW++){a4._appendRow(aX,aV,a1[aW]);
}}return aX;}else{if(aU!=undefined){return a7;}else{if(aX){for(aW=0,a0=a1.length;aW<a0;aW++){aX.push(a1[aW]);}return aX;}else{return a1;}}}};k.prototype.getIds=function(a2){var aW=this.data,aU=a2&&a2.filter,aV=a2&&a2.order,a0=a2&&a2.convert||this.options.convert,aX,aY,aT,a1,aZ,aS=[];if(aU){if(aV){aZ=[];
for(aT in aW){if(aW.hasOwnProperty(aT)){a1=this._getItem(aT,a0);if(aU(a1)){aZ.push(a1);}}}this._sort(aZ,aV);for(aX=0,aY=aZ.length;aX<aY;aX++){aS[aX]=aZ[aX][this.fieldId];}}else{for(aT in aW){if(aW.hasOwnProperty(aT)){a1=this._getItem(aT,a0);if(aU(a1)){aS.push(a1[this.fieldId]);}}}}}else{if(aV){aZ=[];
for(aT in aW){if(aW.hasOwnProperty(aT)){aZ.push(aW[aT]);}}this._sort(aZ,aV);for(aX=0,aY=aZ.length;aX<aY;aX++){aS[aX]=aZ[aX][this.fieldId];}}else{for(aT in aW){if(aW.hasOwnProperty(aT)){a1=aW[aT];aS.push(a1[this.fieldId]);}}}}return aS;};k.prototype.forEach=function(aZ,a1){var aT=a1&&a1.filter,aY=a1&&a1.convert||this.options.convert,aV=this.data,a0,aS;
if(a1&&a1.order){var aX=this.get(a1);for(var aU=0,aW=aX.length;aU<aW;aU++){a0=aX[aU];aS=a0[this.fieldId];aZ(a0,aS);}}else{for(aS in aV){if(aV.hasOwnProperty(aS)){a0=this._getItem(aS,aY);if(!aT||aT(a0)){aZ(a0,aS);}}}}};k.prototype.map=function(aZ,aT){var aU=aT&&aT.filter,aX=aT&&aT.convert||this.options.convert,aS=[],aW=this.data,aV;
for(var aY in aW){if(aW.hasOwnProperty(aY)){aV=this._getItem(aY,aX);if(!aU||aU(aV)){aS.push(aZ(aV,aY));}}}if(aT&&aT.order){this._sort(aS,aT.order);}return aS;};k.prototype._filterFields=function(aU,aS){var aT={};for(var aV in aU){if(aU.hasOwnProperty(aV)&&(aS.indexOf(aV)!=-1)){aT[aV]=aU[aV];}}return aT;
};k.prototype._sort=function(aT,aS){if(aF.isString(aS)){var aU=aS;aT.sort(function(aX,aW){var aY=aX[aU];var aV=aW[aU];return(aY>aV)?1:((aY<aV)?-1:0);});}else{if(typeof aS==="function"){aT.sort(aS);}else{throw new TypeError("Order must be a function or a string");}}};k.prototype.remove=function(aX,aW){var aV=[],aU,aS,aT;
if(aX instanceof Array){for(aU=0,aS=aX.length;aU<aS;aU++){aT=this._remove(aX[aU]);if(aT!=null){aV.push(aT);}}}else{aT=this._remove(aX);if(aT!=null){aV.push(aT);}}if(aV.length){this._trigger("remove",{items:aV},aW);}return aV;};k.prototype._remove=function(aT){if(aF.isNumber(aT)||aF.isString(aT)){if(this.data[aT]){delete this.data[aT];
delete this.internalIds[aT];return aT;}}else{if(aT instanceof Object){var aS=aT[this.fieldId];if(aS&&this.data[aS]){delete this.data[aS];delete this.internalIds[aS];return aS;}}}return null;};k.prototype.clear=function(aT){var aS=Object.keys(this.data);this.data={};this.internalIds={};this._trigger("remove",{items:aS},aT);
return aS;};k.prototype.max=function(aV){var aU=this.data,aS=null,aW=null;for(var aY in aU){if(aU.hasOwnProperty(aY)){var aT=aU[aY];var aX=aT[aV];if(aX!=null&&(!aS||aX>aW)){aS=aT;aW=aX;}}}return aS;};k.prototype.min=function(aW){var aU=this.data,aS=null,aV=null;for(var aY in aU){if(aU.hasOwnProperty(aY)){var aT=aU[aY];
var aX=aT[aW];if(aX!=null&&(!aS||aX<aV)){aS=aT;aV=aX;}}}return aS;};k.prototype.distinct=function(aX){var aU=this.data,a0=[],aV=this.options.convert[aX],aW=0;for(var aS in aU){if(aU.hasOwnProperty(aS)){var a1=aU[aS];var aZ=aF.convert(a1[aX],aV);var aY=false;for(var aT=0;aT<aW;aT++){if(a0[aT]==aZ){aY=true;
break;}}if(!aY){a0[aW]=aZ;aW++;}}}return a0;};k.prototype._addItem=function(aT){var aW=aT[this.fieldId];if(aW!=undefined){if(this.data[aW]){throw new Error("Cannot add item: item with id "+aW+" already exists");}}else{aW=aF.randomUUID();aT[this.fieldId]=aW;this.internalIds[aW]=aT;}var aV={};for(var aU in aT){if(aT.hasOwnProperty(aU)){var aS=this.convert[aU];
aV[aU]=aF.convert(aT[aU],aS);}}this.data[aW]=aV;return aW;};k.prototype._getItem=function(aZ,aY){var aX,aV;var aT=this.data[aZ];if(!aT){return null;}var aW={},aS=this.fieldId,aU=this.internalIds;if(aY){for(aX in aT){if(aT.hasOwnProperty(aX)){aV=aT[aX];if((aX!=aS)||!(aV in aU)){aW[aX]=aF.convert(aV,aY[aX]);
}}}}else{for(aX in aT){if(aT.hasOwnProperty(aX)){aV=aT[aX];if((aX!=aS)||!(aV in aU)){aW[aX]=aV;}}}}return aW;};k.prototype._updateItem=function(aT){var aW=aT[this.fieldId];if(aW==undefined){throw new Error("Cannot update item: item has no id (item: "+JSON.stringify(aT)+")");}var aV=this.data[aW];if(!aV){throw new Error("Cannot update item: no item with id "+aW+" found");
}for(var aU in aT){if(aT.hasOwnProperty(aU)){var aS=this.convert[aU];aV[aU]=aF.convert(aT[aU],aS);}}return aW;};k.prototype._getColumnNames=function(aU){var aT=[];for(var aS=0,aV=aU.getNumberOfColumns();aS<aV;aS++){aT[aS]=aU.getColumnId(aS)||aU.getColumnLabel(aS);}return aT;};k.prototype._appendRow=function(aV,aT,aU){var aY=aV.addRow();
for(var aS=0,aX=aT.length;aS<aX;aS++){var aW=aT[aS];aV.setValue(aY,aS,aU[aW]);}};function y(aU,aS){this.id=aF.randomUUID();this.data=null;this.ids={};this.options=aS||{};this.fieldId="id";this.subscribers={};var aT=this;this.listener=function(){aT._onEvent.apply(aT,arguments);};this.setData(aU);}y.prototype.setData=function(aW){var aV,aT,aU,aS;
if(this.data){if(this.data.unsubscribe){this.data.unsubscribe("*",this.listener);}aV=[];for(var aX in this.ids){if(this.ids.hasOwnProperty(aX)){aV.push(aX);}}this.ids={};this._trigger("remove",{items:aV});}this.data=aW;if(this.data){this.fieldId=this.options.fieldId||(this.data&&this.data.options&&this.data.options.fieldId)||"id";
aV=this.data.getIds({filter:this.options&&this.options.filter});for(aU=0,aS=aV.length;aU<aS;aU++){aX=aV[aU];this.ids[aX]=true;}this._trigger("add",{items:aV});if(this.data.subscribe){this.data.subscribe("*",this.listener);}}};y.prototype.get=function(aU){var aX=this;var aW,aT,aZ;var aY=aF.getType(arguments[0]);
if(aY=="String"||aY=="Number"||aY=="Array"){aW=arguments[0];aT=arguments[1];aZ=arguments[2];}else{aT=arguments[0];aZ=arguments[1];}var aS=aF.extend({},this.options,aT);if(this.options.filter&&aT&&aT.filter){aS.filter=function(a0){return aX.options.filter(a0)&&aT.filter(a0);};}var aV=[];if(aW!=undefined){aV.push(aW);
}aV.push(aS);aV.push(aZ);return this.data&&this.data.get.apply(this.data,aV);};y.prototype.getIds=function(aT){var aV;if(this.data){var aS=this.options.filter;var aU;if(aT&&aT.filter){if(aS){aU=function(aW){return aS(aW)&&aT.filter(aW);};}else{aU=aT.filter;}}else{aU=aS;}aV=this.data.getIds({filter:aU,order:aT&&aT.order});
}else{aV=[];}return aV;};y.prototype._onEvent=function(aT,aV,a2){var aX,a0,aU,a3,aS=aV&&aV.items,aW=this.data,a1=[],aY=[],aZ=[];if(aS&&aW){switch(aT){case"add":for(aX=0,a0=aS.length;aX<a0;aX++){aU=aS[aX];a3=this.get(aU);if(a3){this.ids[aU]=true;a1.push(aU);}}break;case"update":for(aX=0,a0=aS.length;aX<a0;
aX++){aU=aS[aX];a3=this.get(aU);if(a3){if(this.ids[aU]){aY.push(aU);}else{this.ids[aU]=true;a1.push(aU);}}else{if(this.ids[aU]){delete this.ids[aU];aZ.push(aU);}else{}}}break;case"remove":for(aX=0,a0=aS.length;aX<a0;aX++){aU=aS[aX];if(this.ids[aU]){delete this.ids[aU];aZ.push(aU);}}break;}if(a1.length){this._trigger("add",{items:a1},a2);
}if(aY.length){this._trigger("update",{items:aY},a2);}if(aZ.length){this._trigger("remove",{items:aZ},a2);}}};y.prototype.subscribe=k.prototype.subscribe;y.prototype.unsubscribe=k.prototype.unsubscribe;y.prototype._trigger=k.prototype._trigger;TimeStep=function(aU,aS,aT){this.current=new Date();this._start=new Date();
this._end=new Date();this.autoScale=true;this.scale=TimeStep.SCALE.DAY;this.step=1;this.setRange(aU,aS,aT);};TimeStep.SCALE={MILLISECOND:1,SECOND:2,MINUTE:3,HOUR:4,DAY:5,WEEKDAY:6,MONTH:7,YEAR:8};TimeStep.prototype.setRange=function(aU,aS,aT){if(!(aU instanceof Date)||!(aS instanceof Date)){return;}this._start=(aU!=undefined)?new Date(aU.valueOf()):new Date();
this._end=(aS!=undefined)?new Date(aS.valueOf()):new Date();if(this.autoScale){this.setMinimumStep(aT);}};TimeStep.prototype.first=function(){this.current=new Date(this._start.valueOf());this.roundToMinor();};TimeStep.prototype.roundToMinor=function(){switch(this.scale){case TimeStep.SCALE.YEAR:this.current.setFullYear(this.step*Math.floor(this.current.getFullYear()/this.step));
this.current.setMonth(0);case TimeStep.SCALE.MONTH:this.current.setDate(1);case TimeStep.SCALE.DAY:case TimeStep.SCALE.WEEKDAY:this.current.setHours(0);case TimeStep.SCALE.HOUR:this.current.setMinutes(0);case TimeStep.SCALE.MINUTE:this.current.setSeconds(0);case TimeStep.SCALE.SECOND:this.current.setMilliseconds(0);
}if(this.step!=1){switch(this.scale){case TimeStep.SCALE.MILLISECOND:this.current.setMilliseconds(this.current.getMilliseconds()-this.current.getMilliseconds()%this.step);break;case TimeStep.SCALE.SECOND:this.current.setSeconds(this.current.getSeconds()-this.current.getSeconds()%this.step);break;case TimeStep.SCALE.MINUTE:this.current.setMinutes(this.current.getMinutes()-this.current.getMinutes()%this.step);
break;case TimeStep.SCALE.HOUR:this.current.setHours(this.current.getHours()-this.current.getHours()%this.step);break;case TimeStep.SCALE.WEEKDAY:case TimeStep.SCALE.DAY:this.current.setDate((this.current.getDate()-1)-(this.current.getDate()-1)%this.step+1);break;case TimeStep.SCALE.MONTH:this.current.setMonth(this.current.getMonth()-this.current.getMonth()%this.step);
break;case TimeStep.SCALE.YEAR:this.current.setFullYear(this.current.getFullYear()-this.current.getFullYear()%this.step);break;default:break;}}};TimeStep.prototype.hasNext=function(){return(this.current.valueOf()<=this._end.valueOf());};TimeStep.prototype.next=function(){var aT=this.current.valueOf();
if(this.current.getMonth()<6){switch(this.scale){case TimeStep.SCALE.MILLISECOND:this.current=new Date(this.current.valueOf()+this.step);break;case TimeStep.SCALE.SECOND:this.current=new Date(this.current.valueOf()+this.step*1000);break;case TimeStep.SCALE.MINUTE:this.current=new Date(this.current.valueOf()+this.step*1000*60);
break;case TimeStep.SCALE.HOUR:this.current=new Date(this.current.valueOf()+this.step*1000*60*60);var aS=this.current.getHours();this.current.setHours(aS-(aS%this.step));break;case TimeStep.SCALE.WEEKDAY:case TimeStep.SCALE.DAY:this.current.setDate(this.current.getDate()+this.step);break;case TimeStep.SCALE.MONTH:this.current.setMonth(this.current.getMonth()+this.step);
break;case TimeStep.SCALE.YEAR:this.current.setFullYear(this.current.getFullYear()+this.step);break;default:break;}}else{switch(this.scale){case TimeStep.SCALE.MILLISECOND:this.current=new Date(this.current.valueOf()+this.step);break;case TimeStep.SCALE.SECOND:this.current.setSeconds(this.current.getSeconds()+this.step);
break;case TimeStep.SCALE.MINUTE:this.current.setMinutes(this.current.getMinutes()+this.step);break;case TimeStep.SCALE.HOUR:this.current.setHours(this.current.getHours()+this.step);break;case TimeStep.SCALE.WEEKDAY:case TimeStep.SCALE.DAY:this.current.setDate(this.current.getDate()+this.step);break;
case TimeStep.SCALE.MONTH:this.current.setMonth(this.current.getMonth()+this.step);break;case TimeStep.SCALE.YEAR:this.current.setFullYear(this.current.getFullYear()+this.step);break;default:break;}}if(this.step!=1){switch(this.scale){case TimeStep.SCALE.MILLISECOND:if(this.current.getMilliseconds()<this.step){this.current.setMilliseconds(0);
}break;case TimeStep.SCALE.SECOND:if(this.current.getSeconds()<this.step){this.current.setSeconds(0);}break;case TimeStep.SCALE.MINUTE:if(this.current.getMinutes()<this.step){this.current.setMinutes(0);}break;case TimeStep.SCALE.HOUR:if(this.current.getHours()<this.step){this.current.setHours(0);}break;
case TimeStep.SCALE.WEEKDAY:case TimeStep.SCALE.DAY:if(this.current.getDate()<this.step+1){this.current.setDate(1);}break;case TimeStep.SCALE.MONTH:if(this.current.getMonth()<this.step){this.current.setMonth(0);}break;case TimeStep.SCALE.YEAR:break;default:break;}}if(this.current.valueOf()==aT){this.current=new Date(this._end.valueOf());
}};TimeStep.prototype.getCurrent=function(){return this.current;};TimeStep.prototype.setScale=function(aT,aS){this.scale=aT;if(aS>0){this.step=aS;}this.autoScale=false;};TimeStep.prototype.setAutoScale=function(aS){this.autoScale=aS;};TimeStep.prototype.setMinimumStep=function(aX){if(aX==undefined){return;
}var aT=(1000*60*60*24*30*12);var aS=(1000*60*60*24*30);var aW=(1000*60*60*24);var aY=(1000*60*60);var aV=(1000*60);var aZ=(1000);var aU=(1);if(aT*1000>aX){this.scale=TimeStep.SCALE.YEAR;this.step=1000;}if(aT*500>aX){this.scale=TimeStep.SCALE.YEAR;this.step=500;}if(aT*100>aX){this.scale=TimeStep.SCALE.YEAR;
this.step=100;}if(aT*50>aX){this.scale=TimeStep.SCALE.YEAR;this.step=50;}if(aT*10>aX){this.scale=TimeStep.SCALE.YEAR;this.step=10;}if(aT*5>aX){this.scale=TimeStep.SCALE.YEAR;this.step=5;}if(aT>aX){this.scale=TimeStep.SCALE.YEAR;this.step=1;}if(aS*3>aX){this.scale=TimeStep.SCALE.MONTH;this.step=3;}if(aS>aX){this.scale=TimeStep.SCALE.MONTH;
this.step=1;}if(aW*5>aX){this.scale=TimeStep.SCALE.DAY;this.step=5;}if(aW*2>aX){this.scale=TimeStep.SCALE.DAY;this.step=2;}if(aW>aX){this.scale=TimeStep.SCALE.DAY;this.step=1;}if(aW/2>aX){this.scale=TimeStep.SCALE.WEEKDAY;this.step=1;}if(aY*4>aX){this.scale=TimeStep.SCALE.HOUR;this.step=4;}if(aY>aX){this.scale=TimeStep.SCALE.HOUR;
this.step=1;}if(aV*15>aX){this.scale=TimeStep.SCALE.MINUTE;this.step=15;}if(aV*10>aX){this.scale=TimeStep.SCALE.MINUTE;this.step=10;}if(aV*5>aX){this.scale=TimeStep.SCALE.MINUTE;this.step=5;}if(aV>aX){this.scale=TimeStep.SCALE.MINUTE;this.step=1;}if(aZ*15>aX){this.scale=TimeStep.SCALE.SECOND;this.step=15;
}if(aZ*10>aX){this.scale=TimeStep.SCALE.SECOND;this.step=10;}if(aZ*5>aX){this.scale=TimeStep.SCALE.SECOND;this.step=5;}if(aZ>aX){this.scale=TimeStep.SCALE.SECOND;this.step=1;}if(aU*200>aX){this.scale=TimeStep.SCALE.MILLISECOND;this.step=200;}if(aU*100>aX){this.scale=TimeStep.SCALE.MILLISECOND;this.step=100;
}if(aU*50>aX){this.scale=TimeStep.SCALE.MILLISECOND;this.step=50;}if(aU*10>aX){this.scale=TimeStep.SCALE.MILLISECOND;this.step=10;}if(aU*5>aX){this.scale=TimeStep.SCALE.MILLISECOND;this.step=5;}if(aU>aX){this.scale=TimeStep.SCALE.MILLISECOND;this.step=1;}};TimeStep.prototype.snap=function(aS){if(this.scale==TimeStep.SCALE.YEAR){var aT=aS.getFullYear()+Math.round(aS.getMonth()/12);
aS.setFullYear(Math.round(aT/this.step)*this.step);aS.setMonth(0);aS.setDate(0);aS.setHours(0);aS.setMinutes(0);aS.setSeconds(0);aS.setMilliseconds(0);}else{if(this.scale==TimeStep.SCALE.MONTH){if(aS.getDate()>15){aS.setDate(1);aS.setMonth(aS.getMonth()+1);}else{aS.setDate(1);}aS.setHours(0);aS.setMinutes(0);
aS.setSeconds(0);aS.setMilliseconds(0);}else{if(this.scale==TimeStep.SCALE.DAY||this.scale==TimeStep.SCALE.WEEKDAY){switch(this.step){case 5:case 2:aS.setHours(Math.round(aS.getHours()/24)*24);break;default:aS.setHours(Math.round(aS.getHours()/12)*12);break;}aS.setMinutes(0);aS.setSeconds(0);aS.setMilliseconds(0);
}else{if(this.scale==TimeStep.SCALE.HOUR){switch(this.step){case 4:aS.setMinutes(Math.round(aS.getMinutes()/60)*60);break;default:aS.setMinutes(Math.round(aS.getMinutes()/30)*30);break;}aS.setSeconds(0);aS.setMilliseconds(0);}else{if(this.scale==TimeStep.SCALE.MINUTE){switch(this.step){case 15:case 10:aS.setMinutes(Math.round(aS.getMinutes()/5)*5);
aS.setSeconds(0);break;case 5:aS.setSeconds(Math.round(aS.getSeconds()/60)*60);break;default:aS.setSeconds(Math.round(aS.getSeconds()/30)*30);break;}aS.setMilliseconds(0);}else{if(this.scale==TimeStep.SCALE.SECOND){switch(this.step){case 15:case 10:aS.setSeconds(Math.round(aS.getSeconds()/5)*5);aS.setMilliseconds(0);
break;case 5:aS.setMilliseconds(Math.round(aS.getMilliseconds()/1000)*1000);break;default:aS.setMilliseconds(Math.round(aS.getMilliseconds()/500)*500);break;}}else{if(this.scale==TimeStep.SCALE.MILLISECOND){var aU=this.step>5?this.step/2:1;aS.setMilliseconds(Math.round(aS.getMilliseconds()/aU)*aU);}}}}}}}};
TimeStep.prototype.isMajor=function(){switch(this.scale){case TimeStep.SCALE.MILLISECOND:return(this.current.getMilliseconds()==0);case TimeStep.SCALE.SECOND:return(this.current.getSeconds()==0);case TimeStep.SCALE.MINUTE:return(this.current.getHours()==0)&&(this.current.getMinutes()==0);case TimeStep.SCALE.HOUR:return(this.current.getHours()==0);
case TimeStep.SCALE.WEEKDAY:case TimeStep.SCALE.DAY:return(this.current.getDate()==1);case TimeStep.SCALE.MONTH:return(this.current.getMonth()==0);case TimeStep.SCALE.YEAR:return false;default:return false;}};TimeStep.prototype.getLabelMinor=function(aS){if(aS==undefined){aS=this.current;}switch(this.scale){case TimeStep.SCALE.MILLISECOND:return F(aS).format("SSS");
case TimeStep.SCALE.SECOND:return F(aS).format("s");case TimeStep.SCALE.MINUTE:return F(aS).format("HH:mm");case TimeStep.SCALE.HOUR:return F(aS).format("HH:mm");case TimeStep.SCALE.WEEKDAY:return F(aS).format("ddd D");case TimeStep.SCALE.DAY:return F(aS).format("D");case TimeStep.SCALE.MONTH:return F(aS).format("MMM");
case TimeStep.SCALE.YEAR:return F(aS).format("YYYY");default:return"";}};TimeStep.prototype.getLabelMajor=function(aS){if(aS==undefined){aS=this.current;}switch(this.scale){case TimeStep.SCALE.MILLISECOND:return F(aS).format("HH:mm:ss");case TimeStep.SCALE.SECOND:return F(aS).format("D MMMM HH:mm");case TimeStep.SCALE.MINUTE:case TimeStep.SCALE.HOUR:return F(aS).format("ddd D MMMM");
case TimeStep.SCALE.WEEKDAY:case TimeStep.SCALE.DAY:return F(aS).format("MMMM YYYY");case TimeStep.SCALE.MONTH:return F(aS).format("YYYY");case TimeStep.SCALE.YEAR:return"";default:return"";}};function av(aT,aS){this.parent=aT;this.options=aS||{};this.defaultOptions={order:function(aW,aU){if(aW instanceof aB){if(aU instanceof aB){var aX=(aW.data.end-aW.data.start);
var aV=(aU.data.end-aU.data.start);return(aX-aV)||(aW.data.start-aU.data.start);}else{return -1;}}else{if(aU instanceof aB){return 1;}else{return(aW.data.start-aU.data.start);}}},margin:{item:10}};this.ordered=[];}av.prototype.setOptions=function an(aS){aF.extend(this.options,aS);};av.prototype.update=function M(){this._order();
this._stack();};av.prototype._order=function az(){var aU=this.parent.items;if(!aU){throw new Error("Cannot stack items: parent does not contain items");}var aT=[];var aV=0;aF.forEach(aU,function(aW){if(aW.visible){aT[aV]=aW;aV++;}});var aS=this.options.order||this.defaultOptions.order;if(!(typeof aS==="function")){throw new Error("Option order must be a function");
}aT.sort(aS);this.ordered=aT;};av.prototype._stack=function ab(){var aV,aU,aW=this.ordered,a0=this.options,aS=a0.orientation||this.defaultOptions.orientation,aY=(aS=="top"),aT;if(a0.margin&&a0.margin.item!==undefined){aT=a0.margin.item;}else{aT=this.defaultOptions.margin.item;}for(aV=0,aU=aW.length;aV<aU;
aV++){var aZ=aW[aV];var aX=null;do{aX=this.checkOverlap(aW,aV,0,aV-1,aT);if(aX!=null){if(aY){aZ.top=aX.top+aX.height+aT;}else{aZ.top=aX.top-aZ.height-aT;}}}while(aX);}};av.prototype.checkOverlap=function e(aX,aS,aW,aV,aT){var a0=this.collision;var aZ=aX[aS];for(var aU=aV;aU>=aW;aU--){var aY=aX[aU];if(a0(aZ,aY,aT)){if(aU!=aS){return aY;
}}}return null;};av.prototype.collision=function u(aT,aS,aU){return((aT.left-aU)<(aS.left+aS.width)&&(aT.left+aT.width+aU)>aS.left&&(aT.top-aU)<(aS.top+aS.height)&&(aT.top+aT.height+aU)>aS.top);};function O(aS){this.id=aF.randomUUID();this.start=0;this.end=0;this.options={min:null,max:null,zoomMin:null,zoomMax:null};
this.listeners=[];this.setOptions(aS);}O.prototype.setOptions=function(aS){aF.extend(this.options,aS);if(aS.start!=null||aS.end!=null){this.setRange(aS.start,aS.end);}};O.prototype.subscribe=function(aS,aU,aW){var aT=this;var aV;if(aW!="horizontal"&&aW!="vertical"){throw new TypeError('Unknown direction "'+aW+'". '+'Choose "horizontal" or "vertical".');
}if(aU=="move"){aV={component:aS,event:aU,direction:aW,callback:function(aX){aT._onMouseDown(aX,aV);},params:{}};aS.on("mousedown",aV.callback);aT.listeners.push(aV);}else{if(aU=="zoom"){aV={component:aS,event:aU,direction:aW,callback:function(aX){aT._onMouseWheel(aX,aV);},params:{}};aS.on("mousewheel",aV.callback);
aT.listeners.push(aV);}else{throw new TypeError('Unknown event "'+aU+'". '+'Choose "move" or "zoom".');}}};O.prototype.on=function(aS,aT){D.addListener(this,aS,aT);};O.prototype._trigger=function(aS){D.trigger(this,aS,{start:this.start,end:this.end});};O.prototype.setRange=function(aU,aS){var aT=this._applyRange(aU,aS);
if(aT){this._trigger("rangechange");this._trigger("rangechanged");}};O.prototype._applyRange=function(aS,aU){var aX=(aS!=null)?aF.convert(aS,"Number"):this.start;var aT=(aU!=null)?aF.convert(aU,"Number"):this.end;var a1;if(isNaN(aX)){throw new Error('Invalid start "'+aS+'"');}if(isNaN(aT)){throw new Error('Invalid end "'+aU+'"');
}if(aT<aX){aT=aX;}if(this.options.min!=null){var aV=this.options.min.valueOf();if(aX<aV){a1=(aV-aX);aX+=a1;aT+=a1;}}if(this.options.max!=null){var aZ=this.options.max.valueOf();if(aT>aZ){a1=(aT-aZ);aX-=a1;aT-=a1;}}if(this.options.zoomMin!=null){var aY=this.options.zoomMin.valueOf();if(aY<0){aY=0;}if((aT-aX)<aY){if((this.end-this.start)>aY){a1=(aY-(aT-aX));
aX-=a1/2;aT+=a1/2;}else{aX=this.start;aT=this.end;}}}if(this.options.zoomMax!=null){var a0=this.options.zoomMax.valueOf();if(a0<0){a0=0;}if((aT-aX)>a0){if((this.end-this.start)<a0){a1=((aT-aX)-a0);aX+=a1/2;aT-=a1/2;}else{aX=this.start;aT=this.end;}}}var aW=(this.start!=aX||this.end!=aT);this.start=aX;
this.end=aT;return aW;};O.prototype.getRange=function(){return{start:this.start,end:this.end};};O.prototype.conversion=function(aT){var aU=this.start;var aS=this.end;return O.conversion(this.start,this.end,aT);};O.conversion=function(aU,aS,aT){if(aT!=0&&(aS-aU!=0)){return{offset:aU,factor:aT/(aS-aU)};
}else{return{offset:0,factor:1};}};O.prototype._onMouseDown=function(aU,aV){aU=aU||window.event;var aX=aV.params;var aT=aU.which?(aU.which==1):(aU.button==1);if(!aT){return;}aX.mouseX=aF.getPageX(aU);aX.mouseY=aF.getPageY(aU);aX.previousLeft=0;aX.previousOffset=0;aX.moved=false;aX.start=this.start;aX.end=this.end;
var aW=aV.component.frame;if(aW){aW.style.cursor="move";}var aS=this;if(!aX.onMouseMove){aX.onMouseMove=function(aY){aS._onMouseMove(aY,aV);};aF.addEventListener(document,"mousemove",aX.onMouseMove);}if(!aX.onMouseUp){aX.onMouseUp=function(aY){aS._onMouseUp(aY,aV);};aF.addEventListener(document,"mouseup",aX.onMouseUp);
}aF.preventDefault(aU);};O.prototype._onMouseMove=function(aS,aV){aS=aS||window.event;var aZ=aV.params;var aY=aF.getPageX(aS);var aX=aF.getPageY(aS);if(aZ.mouseX==undefined){aZ.mouseX=aY;}if(aZ.mouseY==undefined){aZ.mouseY=aX;}var a1=aY-aZ.mouseX;var a0=aX-aZ.mouseY;var a2=(aV.direction=="horizontal")?a1:a0;
if(Math.abs(a2)>=1){aZ.moved=true;}var aU=(aZ.end-aZ.start);var aT=(aV.direction=="horizontal")?aV.component.width:aV.component.height;var aW=-a2/aT*aU;this._applyRange(aZ.start+aW,aZ.end+aW);this._trigger("rangechange");aF.preventDefault(aS);};O.prototype._onMouseUp=function(aS,aT){aS=aS||window.event;
var aU=aT.params;if(aT.component.frame){aT.component.frame.style.cursor="auto";}if(aU.onMouseMove){aF.removeEventListener(document,"mousemove",aU.onMouseMove);aU.onMouseMove=null;}if(aU.onMouseUp){aF.removeEventListener(document,"mouseup",aU.onMouseUp);aU.onMouseUp=null;}if(aU.moved){this._trigger("rangechanged");
}};O.prototype._onMouseWheel=function(aU,aV){aU=aU||window.event;var aW=0;if(aU.wheelDelta){aW=aU.wheelDelta/120;}else{if(aU.detail){aW=-aU.detail/3;}}if(aW){var aT=this;var aS=function(){var aY=aW/5;var aZ=null;var aX=aV.component.frame;if(aX){var a5,a3;if(aV.direction=="horizontal"){a5=aV.component.width;
a3=aT.conversion(a5);var a4=aF.getAbsoluteLeft(aX);var a2=aF.getPageX(aU);aZ=(a2-a4)/a3.factor+a3.offset;}else{a5=aV.component.height;a3=aT.conversion(a5);var a1=aF.getAbsoluteTop(aX);var a0=aF.getPageY(aU);aZ=((a1+a5-a0)-a1)/a3.factor+a3.offset;}}aT.zoom(aY,aZ);};aS();}aF.preventDefault(aU);};O.prototype.zoom=function(aW,aX){if(aX==null){aX=(this.start+this.end)/2;
}if(aW>=1){aW=0.9;}if(aW<=-1){aW=-0.9;}if(aW<0){aW=aW/(1+aW);}var aU=(this.start-aX);var aT=(this.end-aX);var aS=this.start-aU*aW;var aV=this.end-aT*aW;this.setRange(aS,aV);};O.prototype.move=function(aT){var aV=(this.end-this.start);var aS=this.start+aV*aT;var aU=this.end+aV*aT;this.start=aS;this.end=aU;
};O.prototype.moveTo=function(aU){var aT=(this.start+this.end)/2;var aW=aT-aU;var aS=this.start-aW;var aV=this.end-aW;this.setRange(aS,aV);};function N(){this.id=aF.randomUUID();this.components={};this.repaintTimer=undefined;this.reflowTimer=undefined;}N.prototype.add=function x(aS){if(aS.id==undefined){throw new Error("Component has no field id");
}if(!(aS instanceof ad)&&!(aS instanceof N)){throw new TypeError("Component must be an instance of "+"prototype Component or Controller");}aS.controller=this;this.components[aS.id]=aS;};N.prototype.remove=function X(aS){var aT;for(aT in this.components){if(this.components.hasOwnProperty(aT)){if(aT==aS||this.components[aT]==aS){break;
}}}if(aT){delete this.components[aT];}};N.prototype.requestReflow=function af(aT){if(aT){this.reflow();}else{if(!this.reflowTimer){var aS=this;this.reflowTimer=setTimeout(function(){aS.reflowTimer=undefined;aS.reflow();},0);}}};N.prototype.requestRepaint=function m(aT){if(aT){this.repaint();}else{if(!this.repaintTimer){var aS=this;
this.repaintTimer=setTimeout(function(){aS.repaintTimer=undefined;aS.repaint();},0);}}};N.prototype.repaint=function o(){var aU=false;if(this.repaintTimer){clearTimeout(this.repaintTimer);this.repaintTimer=undefined;}var aT={};function aS(aV,aW){if(!(aW in aT)){if(aV.depends){aV.depends.forEach(function(aX){aS(aX,aX.id);
});}if(aV.parent){aS(aV.parent,aV.parent.id);}aU=aV.repaint()||aU;aT[aW]=true;}}aF.forEach(this.components,aS);if(aU){this.reflow();}};N.prototype.reflow=function P(){var aU=false;if(this.reflowTimer){clearTimeout(this.reflowTimer);this.reflowTimer=undefined;}var aT={};function aS(aV,aW){if(!(aW in aT)){if(aV.depends){aV.depends.forEach(function(aX){aS(aX,aX.id);
});}if(aV.parent){aS(aV.parent,aV.parent.id);}aU=aV.reflow()||aU;aT[aW]=true;}}aF.forEach(this.components,aS);if(aU){this.repaint();}};function ad(){this.id=null;this.parent=null;this.depends=null;this.controller=null;this.options=null;this.frame=null;this.top=0;this.left=0;this.width=0;this.height=0;
}ad.prototype.setOptions=function an(aS){if(aS){aF.extend(this.options,aS);if(this.controller){this.requestRepaint();this.requestReflow();}}};ad.prototype.getOption=function l(aS){var aT;if(this.options){aT=this.options[aS];}if(aT===undefined&&this.defaultOptions){aT=this.defaultOptions[aS];}return aT;
};ad.prototype.getContainer=function al(){return null;};ad.prototype.getFrame=function at(){return this.frame;};ad.prototype.repaint=function o(){return false;};ad.prototype.reflow=function P(){return false;};ad.prototype.hide=function ap(){if(this.frame&&this.frame.parentNode){this.frame.parentNode.removeChild(this.frame);
return true;}else{return false;}};ad.prototype.show=function q(){if(!this.frame||!this.frame.parentNode){return this.repaint();}else{return false;}};ad.prototype.requestRepaint=function m(){if(this.controller){this.controller.requestRepaint();}else{throw new Error("Cannot request a repaint: no controller configured");
}};ad.prototype.requestReflow=function af(){if(this.controller){this.controller.requestReflow();}else{throw new Error("Cannot request a reflow: no controller configured");}};function i(aT,aU,aS){this.id=aF.randomUUID();this.parent=aT;this.depends=aU;this.options=aS||{};}i.prototype=new ad();i.prototype.setOptions=ad.prototype.setOptions;
i.prototype.getContainer=function(){return this.frame;};i.prototype.repaint=function(){var aX=0,aY=aF.updateProperty,aS=aF.option.asSize,aT=this.options,aW=this.frame;if(!aW){aW=document.createElement("div");aW.className="panel";var aU=aT.className;if(aU){if(typeof aU=="function"){aF.addClassName(aW,String(aU()));
}else{aF.addClassName(aW,String(aU));}}this.frame=aW;aX+=1;}if(!aW.parentNode){if(!this.parent){throw new Error("Cannot repaint panel: no parent attached");}var aV=this.parent.getContainer();if(!aV){throw new Error("Cannot repaint panel: parent has no container element");}aV.appendChild(aW);aX+=1;}aX+=aY(aW.style,"top",aS(aT.top,"0px"));
aX+=aY(aW.style,"left",aS(aT.left,"0px"));aX+=aY(aW.style,"width",aS(aT.width,"100%"));aX+=aY(aW.style,"height",aS(aT.height,"100%"));return(aX>0);};i.prototype.reflow=function(){var aT=0,aU=aF.updateProperty,aS=this.frame;if(aS){aT+=aU(this,"top",aS.offsetTop);aT+=aU(this,"left",aS.offsetLeft);aT+=aU(this,"width",aS.offsetWidth);
aT+=aU(this,"height",aS.offsetHeight);}else{aT+=1;}return(aT>0);};function aj(aS,aT){this.id=aF.randomUUID();this.container=aS;this.options=aT||{};this.defaultOptions={autoResize:true};this.listeners={};}aj.prototype=new i();aj.prototype.setOptions=ad.prototype.setOptions;aj.prototype.repaint=function(){var aW=0,aX=aF.updateProperty,aS=aF.option.asSize,aT=this.options,aV=this.frame;
if(!aV){aV=document.createElement("div");aV.className="vis timeline rootpanel";var aU=aT.className;if(aU){aF.addClassName(aV,aF.option.asString(aU));}this.frame=aV;aW+=1;}if(!aV.parentNode){if(!this.container){throw new Error("Cannot repaint root panel: no container attached");}this.container.appendChild(aV);
aW+=1;}aW+=aX(aV.style,"top",aS(aT.top,"0px"));aW+=aX(aV.style,"left",aS(aT.left,"0px"));aW+=aX(aV.style,"width",aS(aT.width,"100%"));aW+=aX(aV.style,"height",aS(aT.height,"100%"));this._updateEventEmitters();this._updateWatch();return(aW>0);};aj.prototype.reflow=function(){var aT=0,aU=aF.updateProperty,aS=this.frame;
if(aS){aT+=aU(this,"top",aS.offsetTop);aT+=aU(this,"left",aS.offsetLeft);aT+=aU(this,"width",aS.offsetWidth);aT+=aU(this,"height",aS.offsetHeight);}else{aT+=1;}return(aT>0);};aj.prototype._updateWatch=function(){var aS=this.getOption("autoResize");if(aS){this._watch();}else{this._unwatch();}};aj.prototype._watch=function(){var aS=this;
this._unwatch();var aT=function(){var aU=aS.getOption("autoResize");if(!aU){aS._unwatch();return;}if(aS.frame){if((aS.frame.clientWidth!=aS.width)||(aS.frame.clientHeight!=aS.height)){aS.requestReflow();}}};aF.addEventListener(window,"resize",aT);this.watchTimer=setInterval(aT,1000);};aj.prototype._unwatch=function(){if(this.watchTimer){clearInterval(this.watchTimer);
this.watchTimer=undefined;}};aj.prototype.on=function(aT,aU){var aS=this.listeners[aT];if(!aS){aS=[];this.listeners[aT]=aS;}aS.push(aU);this._updateEventEmitters();};aj.prototype._updateEventEmitters=function(){if(this.listeners){var aS=this;aF.forEach(this.listeners,function(aT,aU){if(!aS.emitters){aS.emitters={};
}if(!(aU in aS.emitters)){var aV=aS.frame;if(aV){var aW=function(aX){aT.forEach(function(aY){aY(aX);});};aS.emitters[aU]=aW;aF.addEventListener(aV,aU,aW);}}});}};function aq(aT,aU,aS){this.id=aF.randomUUID();this.parent=aT;this.depends=aU;this.dom={majorLines:[],majorTexts:[],minorLines:[],minorTexts:[],redundant:{majorLines:[],majorTexts:[],minorLines:[],minorTexts:[]}};
this.props={range:{start:0,end:0,minimumStep:0},lineTop:0};this.options=aS||{};this.defaultOptions={orientation:"bottom",showMinorLabels:true,showMajorLabels:true};this.conversion=null;this.range=null;}aq.prototype=new ad();aq.prototype.setOptions=ad.prototype.setOptions;aq.prototype.setRange=function(aS){if(!(aS instanceof O)&&(!aS||!aS.start||!aS.end)){throw new TypeError("Range must be an instance of Range, "+"or an object containing start and end.");
}this.range=aS;};aq.prototype.toTime=function(aS){var aT=this.conversion;return new Date(aS/aT.factor+aT.offset);};aq.prototype.toScreen=function(aT){var aS=this.conversion;return(aT.valueOf()-aS.offset)*aS.factor;};aq.prototype.repaint=function(){var aX=0,a0=aF.updateProperty,a7=aF.option.asSize,aV=this.options,aU=this.getOption("orientation"),aT=this.props,aY=this.step;
var a6=this.frame;if(!a6){a6=document.createElement("div");this.frame=a6;aX+=1;}a6.className="axis "+aU;if(!a6.parentNode){if(!this.parent){throw new Error("Cannot repaint time axis: no parent attached");}var a4=this.parent.getContainer();if(!a4){throw new Error("Cannot repaint time axis: parent has no container element");
}a4.appendChild(a6);aX+=1;}var a2=a6.parentNode;if(a2){var a9=a6.nextSibling;a2.removeChild(a6);var aZ=(aU=="bottom"&&this.props.parentHeight&&this.height)?(this.props.parentHeight-this.height)+"px":"0px";aX+=a0(a6.style,"top",a7(aV.top,aZ));aX+=a0(a6.style,"left",a7(aV.left,"0px"));aX+=a0(a6.style,"width",a7(aV.width,"100%"));
aX+=a0(a6.style,"height",a7(aV.height,this.height+"px"));this._repaintMeasureChars();if(this.step){this._repaintStart();aY.first();var aW=undefined;var ba=0;while(aY.hasNext()&&ba<1000){ba++;var aS=aY.getCurrent(),a3=this.toScreen(aS),bb=aY.isMajor();if(this.getOption("showMinorLabels")){this._repaintMinorText(a3,aY.getLabelMinor());
}if(bb&&this.getOption("showMajorLabels")){if(a3>0){if(aW==undefined){aW=a3;}this._repaintMajorText(a3,aY.getLabelMajor());}this._repaintMajorLine(a3);}else{this._repaintMinorLine(a3);}aY.next();}if(this.getOption("showMajorLabels")){var a5=this.toTime(0),a8=aY.getLabelMajor(a5),a1=a8.length*(aT.majorCharWidth||10)+10;
if(aW==undefined||a1<aW){this._repaintMajorText(0,a8);}}this._repaintEnd();}this._repaintLine();if(a9){a2.insertBefore(a6,a9);}else{a2.appendChild(a6);}}return(aX>0);};aq.prototype._repaintStart=function(){var aT=this.dom,aS=aT.redundant;aS.majorLines=aT.majorLines;aS.majorTexts=aT.majorTexts;aS.minorLines=aT.minorLines;
aS.minorTexts=aT.minorTexts;aT.majorLines=[];aT.majorTexts=[];aT.minorLines=[];aT.minorTexts=[];};aq.prototype._repaintEnd=function(){aF.forEach(this.dom.redundant,function(aS){while(aS.length){var aT=aS.pop();if(aT&&aT.parentNode){aT.parentNode.removeChild(aT);}}});};aq.prototype._repaintMinorText=function(aS,aV){var aT=this.dom.redundant.minorTexts.shift();
if(!aT){var aU=document.createTextNode("");aT=document.createElement("div");aT.appendChild(aU);aT.className="text minor";this.frame.appendChild(aT);}this.dom.minorTexts.push(aT);aT.childNodes[0].nodeValue=aV;aT.style.left=aS+"px";aT.style.top=this.props.minorLabelTop+"px";};aq.prototype._repaintMajorText=function(aS,aV){var aT=this.dom.redundant.majorTexts.shift();
if(!aT){var aU=document.createTextNode(aV);aT=document.createElement("div");aT.className="text major";aT.appendChild(aU);this.frame.appendChild(aT);}this.dom.majorTexts.push(aT);aT.childNodes[0].nodeValue=aV;aT.style.top=this.props.majorLabelTop+"px";aT.style.left=aS+"px";};aq.prototype._repaintMinorLine=function(aS){var aT=this.dom.redundant.minorLines.shift();
if(!aT){aT=document.createElement("div");aT.className="grid vertical minor";this.frame.appendChild(aT);}this.dom.minorLines.push(aT);var aU=this.props;aT.style.top=aU.minorLineTop+"px";aT.style.height=aU.minorLineHeight+"px";aT.style.left=(aS-aU.minorLineWidth/2)+"px";};aq.prototype._repaintMajorLine=function(aS){var aT=this.dom.redundant.majorLines.shift();
if(!aT){aT=document.createElement("DIV");aT.className="grid vertical major";this.frame.appendChild(aT);}this.dom.majorLines.push(aT);var aU=this.props;aT.style.top=aU.majorLineTop+"px";aT.style.left=(aS-aU.majorLineWidth/2)+"px";aT.style.height=aU.majorLineHeight+"px";};aq.prototype._repaintLine=function(){var aS=this.dom.line,aU=this.frame,aT=this.options;
if(this.getOption("showMinorLabels")||this.getOption("showMajorLabels")){if(aS){aU.removeChild(aS);aU.appendChild(aS);}else{aS=document.createElement("div");aS.className="grid horizontal major";aU.appendChild(aS);this.dom.line=aS;}aS.style.top=this.props.lineTop+"px";}else{if(aS&&axis.parentElement){aU.removeChild(axis.line);
delete this.dom.line;}}};aq.prototype._repaintMeasureChars=function(){var aV=this.dom,aU;if(!aV.measureCharMinor){aU=document.createTextNode("0");var aT=document.createElement("DIV");aT.className="text minor measure";aT.appendChild(aU);this.frame.appendChild(aT);aV.measureCharMinor=aT;}if(!aV.measureCharMajor){aU=document.createTextNode("0");
var aS=document.createElement("DIV");aS.className="text major measure";aS.appendChild(aU);this.frame.appendChild(aS);aV.measureCharMajor=aS;}};aq.prototype.reflow=function(){var aW=0,aV=aF.updateProperty,aT=this.frame,aY=this.range;if(!aY){throw new Error("Cannot repaint time axis: no range configured");
}if(aT){aW+=aV(this,"top",aT.offsetTop);aW+=aV(this,"left",aT.offsetLeft);var a2=this.props,a1=this.getOption("showMinorLabels"),a0=this.getOption("showMajorLabels"),a3=this.dom.measureCharMinor,a5=this.dom.measureCharMajor;if(a3){a2.minorCharHeight=a3.clientHeight;a2.minorCharWidth=a3.clientWidth;}if(a5){a2.majorCharHeight=a5.clientHeight;
a2.majorCharWidth=a5.clientWidth;}var aZ=aT.parentNode?aT.parentNode.offsetHeight:0;if(aZ!=a2.parentHeight){a2.parentHeight=aZ;aW+=1;}switch(this.getOption("orientation")){case"bottom":a2.minorLabelHeight=a1?a2.minorCharHeight:0;a2.majorLabelHeight=a0?a2.majorCharHeight:0;a2.minorLabelTop=0;a2.majorLabelTop=a2.minorLabelTop+a2.minorLabelHeight;
a2.minorLineTop=-this.top;a2.minorLineHeight=Math.max(this.top+a2.majorLabelHeight,0);a2.minorLineWidth=1;a2.majorLineTop=-this.top;a2.majorLineHeight=Math.max(this.top+a2.minorLabelHeight+a2.majorLabelHeight,0);a2.majorLineWidth=1;a2.lineTop=0;break;case"top":a2.minorLabelHeight=a1?a2.minorCharHeight:0;
a2.majorLabelHeight=a0?a2.majorCharHeight:0;a2.majorLabelTop=0;a2.minorLabelTop=a2.majorLabelTop+a2.majorLabelHeight;a2.minorLineTop=a2.minorLabelTop;a2.minorLineHeight=Math.max(aZ-a2.majorLabelHeight-this.top);a2.minorLineWidth=1;a2.majorLineTop=0;a2.majorLineHeight=Math.max(aZ-this.top);a2.majorLineWidth=1;
a2.lineTop=a2.majorLabelHeight+a2.minorLabelHeight;break;default:throw new Error('Unkown orientation "'+this.getOption("orientation")+'"');}var a4=a2.minorLabelHeight+a2.majorLabelHeight;aW+=aV(this,"width",aT.offsetWidth);aW+=aV(this,"height",a4);this._updateConversion();var aS=aF.convert(aY.start,"Date"),aU=aF.convert(aY.end,"Date"),aX=this.toTime((a2.minorCharWidth||10)*5)-this.toTime(0);
this.step=new TimeStep(aS,aU,aX);aW+=aV(a2.range,"start",aS.valueOf());aW+=aV(a2.range,"end",aU.valueOf());aW+=aV(a2.range,"minimumStep",aX.valueOf());}return(aW>0);};aq.prototype._updateConversion=function(){var aS=this.range;if(!aS){throw new Error("No range configured");}if(aS.conversion){this.conversion=aS.conversion(this.width);
}else{this.conversion=O.conversion(aS.start,aS.end,this.width);}};function H(aT,aV,aS){this.id=aF.randomUUID();this.parent=aT;this.depends=aV;this.options=aS||{};this.defaultOptions={type:"box",align:"center",orientation:"bottom",margin:{axis:20,item:10},padding:5};this.dom={};var aU=this;this.itemsData=null;
this.range=null;this.listeners={"add":function(aW,aY,aX){if(aX!=aU.id){aU._onAdd(aY.items);}},"update":function(aW,aY,aX){if(aX!=aU.id){aU._onUpdate(aY.items);}},"remove":function(aW,aY,aX){if(aX!=aU.id){aU._onRemove(aY.items);}}};this.items={};this.queue={};this.stack=new av(this,Object.create(this.options));
this.conversion=null;}H.prototype=new i();H.types={box:w,range:aB,point:Z};H.prototype.setOptions=ad.prototype.setOptions;H.prototype.setRange=function s(aS){if(!(aS instanceof O)&&(!aS||!aS.start||!aS.end)){throw new TypeError("Range must be an instance of Range, "+"or an object containing start and end.");
}this.range=aS;};H.prototype.repaint=function o(){var a0=0,aZ=aF.updateProperty,aU=aF.option.asSize,a8=this.options,aV=this.getOption("orientation"),aY=this.defaultOptions,aW=this.frame;if(!aW){aW=document.createElement("div");aW.className="itemset";var a3=a8.className;if(a3){aF.addClassName(aW,aF.option.asString(a3));
}var aT=document.createElement("div");aT.className="background";aW.appendChild(aT);this.dom.background=aT;var a5=document.createElement("div");a5.className="foreground";aW.appendChild(a5);this.dom.foreground=a5;var aX=document.createElement("div");aX.className="itemset-axis";this.dom.axis=aX;this.frame=aW;
a0+=1;}if(!this.parent){throw new Error("Cannot repaint itemset: no parent attached");}var aS=this.parent.getContainer();if(!aS){throw new Error("Cannot repaint itemset: parent has no container element");}if(!aW.parentNode){aS.appendChild(aW);a0+=1;}if(!this.dom.axis.parentNode){aS.appendChild(this.dom.axis);
a0+=1;}a0+=aZ(aW.style,"left",aU(a8.left,"0px"));a0+=aZ(aW.style,"top",aU(a8.top,"0px"));a0+=aZ(aW.style,"width",aU(a8.width,"100%"));a0+=aZ(aW.style,"height",aU(a8.height,this.height+"px"));a0+=aZ(this.dom.axis.style,"left",aU(a8.left,"0px"));a0+=aZ(this.dom.axis.style,"width",aU(a8.width,"100%"));if(aV=="bottom"){a0+=aZ(this.dom.axis.style,"top",(this.height+this.top)+"px");
}else{a0+=aZ(this.dom.axis.style,"top",this.top+"px");}this._updateConversion();var a4=this,a1=this.queue,a6=this.itemsData,a2=this.items,a7={};Object.keys(a1).forEach(function(be){var bd=a1[be];var bc=a2[be];switch(bd){case"add":case"update":var a9=a6&&a6.get(be,a7);if(a9){var bb=a9.type||(a9.start&&a9.end&&"range")||a8.type||"box";
var ba=H.types[bb];if(bc){if(!ba||!(bc instanceof ba)){a0+=bc.hide();bc=null;}else{bc.data=a9;a0++;}}if(!bc){if(ba){bc=new ba(a4,a9,a8,aY);a0++;}else{throw new TypeError('Unknown item type "'+bb+'"');}}bc.repaint();a2[be]=bc;}delete a1[be];break;case"remove":if(bc){a0+=bc.hide();}delete a2[be];delete a1[be];
break;default:console.log('Error: unknown action "'+bd+'"');}});aF.forEach(this.items,function(a9){if(a9.visible){a0+=a9.show();a9.reposition();}else{a0+=a9.hide();}});return(a0>0);};H.prototype.getForeground=function z(){return this.dom.foreground;};H.prototype.getBackground=function Y(){return this.dom.background;
};H.prototype.getAxis=function aI(){return this.dom.axis;};H.prototype.reflow=function P(){var aX=0,a5=this.options,aU=a5.margin&&a5.margin.axis||this.defaultOptions.margin.axis,a4=a5.margin&&a5.margin.item||this.defaultOptions.margin.item,aW=aF.updateProperty,aY=aF.option.asNumber,aS=aF.option.asSize,aT=this.frame;
if(aT){this._updateConversion();aF.forEach(this.items,function(a6){aX+=a6.reflow();});this.stack.update();var a1=aY(a5.maxHeight);var aZ=(aS(a5.height)!=null);var a2;if(aZ){a2=aT.offsetHeight;}else{var a3=this.stack.ordered;if(a3.length){var aV=a3[0].top;var a0=a3[0].top+a3[0].height;aF.forEach(a3,function(a6){aV=Math.min(aV,a6.top);
a0=Math.max(a0,(a6.top+a6.height));});a2=(a0-aV)+aU+a4;}else{a2=aU+a4;}}if(a1!=null){a2=Math.min(a2,a1);}aX+=aW(this,"height",a2);aX+=aW(this,"top",aT.offsetTop);aX+=aW(this,"left",aT.offsetLeft);aX+=aW(this,"width",aT.offsetWidth);}else{aX+=1;}return(aX>0);};H.prototype.hide=function ap(){var aS=false;
if(this.frame&&this.frame.parentNode){this.frame.parentNode.removeChild(this.frame);aS=true;}if(this.dom.axis&&this.dom.axis.parentNode){this.dom.axis.parentNode.removeChild(this.dom.axis);aS=true;}return aS;};H.prototype.setItems=function ak(aS){var aV=this,aT,aU=this.itemsData;if(!aS){this.itemsData=null;
}else{if(aS instanceof k||aS instanceof y){this.itemsData=aS;}else{throw new TypeError("Data must be an instance of DataSet");}}if(aU){aF.forEach(this.listeners,function(aY,aX){aU.unsubscribe(aX,aY);});aT=aU.getIds();this._onRemove(aT);}if(this.itemsData){var aW=this.id;aF.forEach(this.listeners,function(aY,aX){aV.itemsData.subscribe(aX,aY,aW);
});aT=this.itemsData.getIds();this._onAdd(aT);}};H.prototype.getItems=function aR(){return this.itemsData;};H.prototype._onUpdate=function r(aS){this._toQueue("update",aS);};H.prototype._onAdd=function aO(aS){this._toQueue("add",aS);};H.prototype._onRemove=function v(aS){this._toQueue("remove",aS);};
H.prototype._toQueue=function j(aU,aT){var aS=this.queue;aT.forEach(function(aV){aS[aV]=aU;});if(this.controller){this.requestRepaint();}};H.prototype._updateConversion=function h(){var aS=this.range;if(!aS){throw new Error("No range configured");}if(aS.conversion){this.conversion=aS.conversion(this.width);
}else{this.conversion=O.conversion(aS.start,aS.end,this.width);}};H.prototype.toTime=function aJ(aS){var aT=this.conversion;return new Date(aS/aT.factor+aT.offset);};H.prototype.toScreen=function V(aT){var aS=this.conversion;return(aT.valueOf()-aS.offset)*aS.factor;};function G(aU,aV,aT,aS){this.parent=aU;
this.data=aV;this.dom=null;this.options=aT||{};this.defaultOptions=aS||{};this.selected=false;this.visible=false;this.top=0;this.left=0;this.width=0;this.height=0;}G.prototype.select=function aK(){this.selected=true;};G.prototype.unselect=function aL(){this.selected=false;};G.prototype.show=function q(){return false;
};G.prototype.hide=function ap(){return false;};G.prototype.repaint=function o(){return false;};G.prototype.reflow=function P(){return false;};function w(aU,aV,aT,aS){this.props={dot:{left:0,top:0,width:0,height:0},line:{top:0,left:0,width:0,height:0}};G.call(this,aU,aV,aT,aS);}w.prototype=new G(null,null);
w.prototype.select=function aK(){this.selected=true;};w.prototype.unselect=function aL(){this.selected=false;};w.prototype.repaint=function o(){var aX=false;var aW=this.dom;if(!aW){this._create();aW=this.dom;aX=true;}if(aW){if(!this.parent){throw new Error("Cannot repaint item: no parent attached");}var aV=this.parent.getForeground();
if(!aV){throw new Error("Cannot repaint time axis: "+"parent has no foreground container element");}var aS=this.parent.getBackground();if(!aS){throw new Error("Cannot repaint time axis: "+"parent has no background container element");}var aU=this.parent.getAxis();if(!aS){throw new Error("Cannot repaint time axis: "+"parent has no axis container element");
}if(!aW.box.parentNode){aV.appendChild(aW.box);aX=true;}if(!aW.line.parentNode){aS.appendChild(aW.line);aX=true;}if(!aW.dot.parentNode){aU.appendChild(aW.dot);aX=true;}if(this.data.content!=this.content){this.content=this.data.content;if(this.content instanceof Element){aW.content.innerHTML="";aW.content.appendChild(this.content);
}else{if(this.data.content!=undefined){aW.content.innerHTML=this.content;}else{throw new Error('Property "content" missing in item '+this.data.id);}}aX=true;}var aT=(this.data.className?" "+this.data.className:"")+(this.selected?" selected":"");if(this.className!=aT){this.className=aT;aW.box.className="item box"+aT;
aW.line.className="item line"+aT;aW.dot.className="item dot"+aT;aX=true;}}return aX;};w.prototype.show=function q(){if(!this.dom||!this.dom.box.parentNode){return this.repaint();}else{return false;}};w.prototype.hide=function ap(){var aT=false,aS=this.dom;if(aS){if(aS.box.parentNode){aS.box.parentNode.removeChild(aS.box);
aT=true;}if(aS.line.parentNode){aS.line.parentNode.removeChild(aS.line);}if(aS.dot.parentNode){aS.dot.parentNode.removeChild(aS.dot);}}return aT;};w.prototype.reflow=function P(){var a0=0,aX,aY,a4,a6,aW,aT,a3,aS,a5,aV,aZ,a1;if(this.data.start==undefined){throw new Error('Property "start" missing in item '+this.data.id);
}aZ=this.data;a1=this.parent&&this.parent.range;if(aZ&&a1){var aU=(a1.end-a1.start);this.visible=(aZ.start>a1.start-aU)&&(aZ.start<a1.end+aU);}else{this.visible=false;}if(this.visible){aY=this.dom;if(aY){aX=aF.updateProperty;a4=this.props;a6=this.options;aT=this.parent.toScreen(this.data.start);a3=a6.align||this.defaultOptions.align;
aW=a6.margin&&a6.margin.axis||this.defaultOptions.margin.axis;aS=a6.orientation||this.defaultOptions.orientation;a0+=aX(a4.dot,"height",aY.dot.offsetHeight);a0+=aX(a4.dot,"width",aY.dot.offsetWidth);a0+=aX(a4.line,"width",aY.line.offsetWidth);a0+=aX(a4.line,"height",aY.line.offsetHeight);a0+=aX(a4.line,"top",aY.line.offsetTop);
a0+=aX(this,"width",aY.box.offsetWidth);a0+=aX(this,"height",aY.box.offsetHeight);if(a3=="right"){aV=aT-this.width;}else{if(a3=="left"){aV=aT;}else{aV=aT-this.width/2;}}a0+=aX(this,"left",aV);a0+=aX(a4.line,"left",aT-a4.line.width/2);a0+=aX(a4.dot,"left",aT-a4.dot.width/2);a0+=aX(a4.dot,"top",-a4.dot.height/2);
if(aS=="top"){a5=aW;a0+=aX(this,"top",a5);}else{var a2=this.parent.height;a5=a2-this.height-aW;a0+=aX(this,"top",a5);}}else{a0+=1;}}return(a0>0);};w.prototype._create=function B(){var aS=this.dom;if(!aS){this.dom=aS={};aS.box=document.createElement("DIV");aS.content=document.createElement("DIV");aS.content.className="content";
aS.box.appendChild(aS.content);aS.line=document.createElement("DIV");aS.line.className="line";aS.dot=document.createElement("DIV");aS.dot.className="dot";}};w.prototype.reposition=function T(){var aX=this.dom,aV=this.props,aU=this.options.orientation||this.defaultOptions.orientation;if(aX){var aW=aX.box,aS=aX.line,aT=aX.dot;
aW.style.left=this.left+"px";aW.style.top=this.top+"px";aS.style.left=aV.line.left+"px";if(aU=="top"){aS.style.top=0+"px";aS.style.height=this.top+"px";}else{aS.style.top=(this.top+this.height)+"px";aS.style.height=Math.max(this.parent.height-this.top-this.height+this.props.dot.height/2,0)+"px";}aT.style.left=aV.dot.left+"px";
aT.style.top=aV.dot.top+"px";}};function Z(aU,aV,aT,aS){this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0}};G.call(this,aU,aV,aT,aS);}Z.prototype=new G(null,null);Z.prototype.select=function aK(){this.selected=true;};Z.prototype.unselect=function aL(){this.selected=false;};Z.prototype.repaint=function o(){var aV=false;
var aU=this.dom;if(!aU){this._create();aU=this.dom;aV=true;}if(aU){if(!this.parent){throw new Error("Cannot repaint item: no parent attached");}var aT=this.parent.getForeground();if(!aT){throw new Error("Cannot repaint time axis: "+"parent has no foreground container element");}if(!aU.point.parentNode){aT.appendChild(aU.point);
aT.appendChild(aU.point);aV=true;}if(this.data.content!=this.content){this.content=this.data.content;if(this.content instanceof Element){aU.content.innerHTML="";aU.content.appendChild(this.content);}else{if(this.data.content!=undefined){aU.content.innerHTML=this.content;}else{throw new Error('Property "content" missing in item '+this.data.id);
}}aV=true;}var aS=(this.data.className?" "+this.data.className:"")+(this.selected?" selected":"");if(this.className!=aS){this.className=aS;aU.point.className="item point"+aS;aV=true;}}return aV;};Z.prototype.show=function q(){if(!this.dom||!this.dom.point.parentNode){return this.repaint();}else{return false;
}};Z.prototype.hide=function ap(){var aT=false,aS=this.dom;if(aS){if(aS.point.parentNode){aS.point.parentNode.removeChild(aS.point);aT=true;}}return aT;};Z.prototype.reflow=function P(){var aZ=0,aW,aX,a2,a4,aV,aT,aS,a3,aY,a0;if(this.data.start==undefined){throw new Error('Property "start" missing in item '+this.data.id);
}aY=this.data;a0=this.parent&&this.parent.range;if(aY&&a0){var aU=(a0.end-a0.start);this.visible=(aY.start>a0.start-aU)&&(aY.start<a0.end);}else{this.visible=false;}if(this.visible){aX=this.dom;if(aX){aW=aF.updateProperty;a2=this.props;a4=this.options;aT=a4.orientation||this.defaultOptions.orientation;
aV=a4.margin&&a4.margin.axis||this.defaultOptions.margin.axis;aS=this.parent.toScreen(this.data.start);aZ+=aW(this,"width",aX.point.offsetWidth);aZ+=aW(this,"height",aX.point.offsetHeight);aZ+=aW(a2.dot,"width",aX.dot.offsetWidth);aZ+=aW(a2.dot,"height",aX.dot.offsetHeight);aZ+=aW(a2.content,"height",aX.content.offsetHeight);
if(aT=="top"){a3=aV;}else{var a1=this.parent.height;a3=Math.max(a1-this.height-aV,0);}aZ+=aW(this,"top",a3);aZ+=aW(this,"left",aS-a2.dot.width/2);aZ+=aW(a2.content,"marginLeft",1.5*a2.dot.width);aZ+=aW(a2.dot,"top",(this.height-a2.dot.height)/2);}else{aZ+=1;}}return(aZ>0);};Z.prototype._create=function B(){var aS=this.dom;
if(!aS){this.dom=aS={};aS.point=document.createElement("div");aS.content=document.createElement("div");aS.content.className="content";aS.point.appendChild(aS.content);aS.dot=document.createElement("div");aS.dot.className="dot";aS.point.appendChild(aS.dot);}};Z.prototype.reposition=function T(){var aT=this.dom,aS=this.props;
if(aT){aT.point.style.top=this.top+"px";aT.point.style.left=this.left+"px";aT.content.style.marginLeft=aS.content.marginLeft+"px";aT.dot.style.top=aS.dot.top+"px";}};function aB(aU,aV,aT,aS){this.props={content:{left:0,width:0}};G.call(this,aU,aV,aT,aS);}aB.prototype=new G(null,null);aB.prototype.select=function aK(){this.selected=true;
};aB.prototype.unselect=function aL(){this.selected=false;};aB.prototype.repaint=function o(){var aV=false;var aU=this.dom;if(!aU){this._create();aU=this.dom;aV=true;}if(aU){if(!this.parent){throw new Error("Cannot repaint item: no parent attached");}var aT=this.parent.getForeground();if(!aT){throw new Error("Cannot repaint time axis: "+"parent has no foreground container element");
}if(!aU.box.parentNode){aT.appendChild(aU.box);aV=true;}if(this.data.content!=this.content){this.content=this.data.content;if(this.content instanceof Element){aU.content.innerHTML="";aU.content.appendChild(this.content);}else{if(this.data.content!=undefined){aU.content.innerHTML=this.content;}else{throw new Error('Property "content" missing in item '+this.data.id);
}}aV=true;}var aS=this.data.className?(" "+this.data.className):"";if(this.className!=aS){this.className=aS;aU.box.className="item range"+aS;aV=true;}}return aV;};aB.prototype.show=function q(){if(!this.dom||!this.dom.box.parentNode){return this.repaint();}else{return false;}};aB.prototype.hide=function ap(){var aT=false,aS=this.dom;
if(aS){if(aS.box.parentNode){aS.box.parentNode.removeChild(aS.box);aT=true;}}return aT;};aB.prototype.reflow=function P(){var a0=0,aX,a3,a8,aV,a5,a6,aT,aU,aZ,a2,aW,a1,a7,aY,aS,a4;if(this.data.start==undefined){throw new Error('Property "start" missing in item '+this.data.id);}if(this.data.end==undefined){throw new Error('Property "end" missing in item '+this.data.id);
}aZ=this.data;a2=this.parent&&this.parent.range;if(aZ&&a2){this.visible=(aZ.start<a2.end)&&(aZ.end>a2.start);}else{this.visible=false;}if(this.visible){aX=this.dom;if(aX){a3=this.props;a8=this.options;a6=this.parent;aT=a6.toScreen(this.data.start);aU=a6.toScreen(this.data.end);aW=aF.updateProperty;a1=aX.box;
a7=a6.width;aS=a8.orientation||this.defaultOptions.orientation;aV=a8.margin&&a8.margin.axis||this.defaultOptions.margin.axis;a5=a8.padding||this.defaultOptions.padding;a0+=aW(a3.content,"width",aX.content.offsetWidth);a0+=aW(this,"height",a1.offsetHeight);if(aT<-a7){aT=-a7;}if(aU>2*a7){aU=2*a7;}if(aT<0){aY=Math.min(-aT,(aU-aT-a3.content.width-2*a5));
}else{aY=0;}a0+=aW(a3.content,"left",aY);if(aS=="top"){a4=aV;a0+=aW(this,"top",a4);}else{a4=a6.height-this.height-aV;a0+=aW(this,"top",a4);}a0+=aW(this,"left",aT);a0+=aW(this,"width",Math.max(aU-aT,1));}else{a0+=1;}}return(a0>0);};aB.prototype._create=function B(){var aS=this.dom;if(!aS){this.dom=aS={};
aS.box=document.createElement("div");aS.content=document.createElement("div");aS.content.className="content";aS.box.appendChild(aS.content);}};aB.prototype.reposition=function T(){var aT=this.dom,aS=this.props;if(aT){aT.box.style.top=this.top+"px";aT.box.style.left=this.left+"px";aT.box.style.width=this.width+"px";
aT.content.style.left=aS.content.left+"px";}};function ag(aU,aT,aS){this.id=aF.randomUUID();this.parent=aU;this.groupId=aT;this.itemset=null;this.options=aS||{};this.options.top=0;this.props={label:{width:0,height:0}};this.top=0;this.left=0;this.width=0;this.height=0;}ag.prototype=new ad();ag.prototype.setOptions=ad.prototype.setOptions;
ag.prototype.getContainer=function(){return this.parent.getContainer();};ag.prototype.setItems=function ak(aS){if(this.itemset){this.itemset.hide();this.itemset.setItems();this.parent.controller.remove(this.itemset);this.itemset=null;}if(aS){var aT=this.groupId;var aU=Object.create(this.options);this.itemset=new H(this,null,aU);
this.itemset.setRange(this.parent.range);this.view=new y(aS,{filter:function(aV){return aV.group==aT;}});this.itemset.setItems(this.view);this.parent.controller.add(this.itemset);}};ag.prototype.repaint=function o(){return false;};ag.prototype.reflow=function P(){var aT=0,aU=aF.updateProperty;aT+=aU(this,"top",this.itemset?this.itemset.top:0);
aT+=aU(this,"height",this.itemset?this.itemset.height:0);if(this.label){var aS=this.label.firstChild;aT+=aU(this.props.label,"width",aS.clientWidth);aT+=aU(this.props.label,"height",aS.clientHeight);}else{aT+=aU(this.props.label,"width",0);aT+=aU(this.props.label,"height",0);}return(aT>0);};function K(aT,aV,aS){this.id=aF.randomUUID();
this.parent=aT;this.depends=aV;this.options=aS||{};this.range=null;this.itemsData=null;this.groupsData=null;this.groups={};this.dom={};this.props={labels:{width:0}};this.queue={};var aU=this;this.listeners={"add":function(aW,aX){aU._onAdd(aX.items);},"update":function(aW,aX){aU._onUpdate(aX.items);},"remove":function(aW,aX){aU._onRemove(aX.items);
}};}K.prototype=new i();K.prototype.setOptions=ad.prototype.setOptions;K.prototype.setRange=function(aS){};K.prototype.setItems=function ak(aS){this.itemsData=aS;for(var aU in this.groups){if(this.groups.hasOwnProperty(aU)){var aT=this.groups[aU];aT.setItems(aS);}}};K.prototype.getItems=function aR(){return this.itemsData;
};K.prototype.setRange=function s(aS){this.range=aS;};K.prototype.setGroups=function J(aS){var aU=this,aT;if(this.groupsData){aF.forEach(this.listeners,function(aX,aW){aU.groupsData.unsubscribe(aW,aX);});aT=this.groupsData.getIds();this._onRemove(aT);}if(!aS){this.groupsData=null;}else{if(aS instanceof k){this.groupsData=aS;
}else{this.groupsData=new k({convert:{start:"Date",end:"Date"}});this.groupsData.add(aS);}}if(this.groupsData){var aV=this.id;aF.forEach(this.listeners,function(aX,aW){aU.groupsData.subscribe(aW,aX,aV);});aT=this.groupsData.getIds();this._onAdd(aT);}};K.prototype.getGroups=function ay(){return this.groupsData;
};K.prototype.repaint=function o(){var aW=0,a8,a4,aX,aY,aZ=aF.updateProperty,a3=aF.option.asSize,aV=aF.option.asElement,aU=this.options,a2=this.dom.frame,a9=this.dom.labels;if(!this.parent){throw new Error("Cannot repaint groupset: no parent attached");}var a1=this.parent.getContainer();if(!a1){throw new Error("Cannot repaint groupset: parent has no container element");
}if(!a2){a2=document.createElement("div");a2.className="groupset";this.dom.frame=a2;var aT=aU.className;if(aT){aF.addClassName(a2,aF.option.asString(aT));}aW+=1;}if(!a2.parentNode){a1.appendChild(a2);aW+=1;}var aS=aV(aU.labelContainer);if(!aS){throw new Error('Cannot repaint groupset: option "labelContainer" not defined');
}if(!a9){a9=document.createElement("div");a9.className="labels";this.dom.labels=a9;}if(!a9.parentNode||a9.parentNode!=aS){if(a9.parentNode){a9.parentNode.removeChild(a9.parentNode);}aS.appendChild(a9);}aW+=aZ(a2.style,"height",a3(aU.height,this.height+"px"));aW+=aZ(a2.style,"top",a3(aU.top,"0px"));aW+=aZ(a2.style,"left",a3(aU.left,"0px"));
aW+=aZ(a2.style,"width",a3(aU.width,"100%"));aW+=aZ(a9.style,"top",a3(aU.top,"0px"));var bb=this,a6=this.queue,ba=this.groups,a7=this.groupsData;var a5=Object.keys(a6);if(a5.length){a5.forEach(function(bf){var bd=a6[bf];var be=ba[bf];switch(bd){case"add":case"update":if(!be){var bc=Object.create(bb.options);
be=new ag(bb,bf,bc);be.setItems(bb.itemsData);ba[bf]=be;bb.controller.add(be);}be.data=a7.get(bf);delete a6[bf];break;case"remove":if(be){be.setItems();delete ba[bf];bb.controller.remove(be);}delete a6[bf];break;default:console.log('Error: unknown action "'+bd+'"');}});var a0=this.groupsData.getIds({order:this.options.groupsOrder});
for(a8=0;a8<a0.length;a8++){(function(bd,be){var bc=0;if(be){bc=function(){return be.top+be.height;};}bd.setOptions({top:bc});})(ba[a0[a8]],ba[a0[a8-1]]);}while(a9.firstChild){a9.removeChild(a9.firstChild);}for(a8=0;a8<a0.length;a8++){a4=a0[a8];aY=this._createLabel(a4);a9.appendChild(aY);}aW++;}for(a4 in ba){if(ba.hasOwnProperty(a4)){aX=ba[a4];
aY=aX.label;if(aY){aY.style.top=aX.top+"px";aY.style.height=aX.height+"px";}}}return(aW>0);};K.prototype._createLabel=function(aX){var aW=this.groups[aX];var aT=document.createElement("div");aT.className="label";var aS=document.createElement("div");aS.className="inner";aT.appendChild(aS);var aV=aW.data&&aW.data.content;
if(aV instanceof Element){aS.appendChild(aV);}else{if(aV!=undefined){aS.innerHTML=aV;}}var aU=aW.data&&aW.data.className;if(aU){aF.addClassName(aT,aU);}aW.label=aT;return aT;};K.prototype.getContainer=function al(){return this.dom.frame;};K.prototype.getLabelsWidth=function al(){return this.props.labels.width;
};K.prototype.reflow=function P(){var aX=0,aT,a2,a4=this.options,aW=aF.updateProperty,aY=aF.option.asNumber,aU=aF.option.asSize,aV=this.dom.frame;if(aV){var a1=aY(a4.maxHeight);var aZ=(aU(a4.height)!=null);var a3;if(aZ){a3=aV.offsetHeight;}else{a3=0;for(aT in this.groups){if(this.groups.hasOwnProperty(aT)){a2=this.groups[aT];
a3+=a2.height;}}}if(a1!=null){a3=Math.min(a3,a1);}aX+=aW(this,"height",a3);aX+=aW(this,"top",aV.offsetTop);aX+=aW(this,"left",aV.offsetLeft);aX+=aW(this,"width",aV.offsetWidth);}var aS=0;for(aT in this.groups){if(this.groups.hasOwnProperty(aT)){a2=this.groups[aT];var a0=a2.props&&a2.props.label&&a2.props.label.width||0;
aS=Math.max(aS,a0);}}aX+=aW(this.props.labels,"width",aS);return(aX>0);};K.prototype.hide=function ap(){if(this.dom.frame&&this.dom.frame.parentNode){this.dom.frame.parentNode.removeChild(this.dom.frame);return true;}else{return false;}};K.prototype.show=function q(){if(!this.dom.frame||!this.dom.frame.parentNode){return this.repaint();
}else{return false;}};K.prototype._onUpdate=function r(aS){this._toQueue(aS,"update");};K.prototype._onAdd=function aO(aS){this._toQueue(aS,"add");};K.prototype._onRemove=function v(aS){this._toQueue(aS,"remove");};K.prototype._toQueue=function j(aT,aU){var aS=this.queue;aT.forEach(function(aV){aS[aV]=aU;
});if(this.controller){this.requestRepaint();}};function ae(aS,aW,a0){var aX=this;this.options=aF.extend({orientation:"bottom",min:null,max:null,zoomMin:10,zoomMax:1000*60*60*24*365*10000,showMinorLabels:true,showMajorLabels:true,autoResize:false},a0);this.controller=new N();if(!aS){throw new Error("No container element provided");
}var aV=Object.create(this.options);aV.height=function(){if(aX.options.height){return aX.options.height;}else{return aX.timeaxis.height+aX.content.height;}};this.rootPanel=new aj(aS,aV);this.controller.add(this.rootPanel);var aZ=Object.create(this.options);aZ.left=function(){return aX.labelPanel.width;
};aZ.width=function(){return aX.rootPanel.width-aX.labelPanel.width;};aZ.top=null;aZ.height=null;this.itemPanel=new i(this.rootPanel,[],aZ);this.controller.add(this.itemPanel);var aU=Object.create(this.options);aU.top=null;aU.left=null;aU.height=null;aU.width=function(){if(aX.content&&typeof aX.content.getLabelsWidth==="function"){return aX.content.getLabelsWidth();
}else{return 0;}};this.labelPanel=new i(this.rootPanel,[],aU);this.controller.add(this.labelPanel);var aT=F().hours(0).minutes(0).seconds(0).milliseconds(0);this.range=new O({start:aT.clone().add("days",-3).valueOf(),end:aT.clone().add("days",4).valueOf()});this.range.subscribe(this.rootPanel,"move","horizontal");
this.range.subscribe(this.rootPanel,"zoom","horizontal");this.range.on("rangechange",function(){var a1=true;aX.controller.requestReflow(a1);});this.range.on("rangechanged",function(){var a1=true;aX.controller.requestReflow(a1);});var aY=Object.create(aV);aY.range=this.range;aY.left=null;aY.top=null;aY.width="100%";
aY.height=null;this.timeaxis=new aq(this.itemPanel,[],aY);this.timeaxis.setRange(this.range);this.controller.add(this.timeaxis);this.setGroups(null);this.itemsData=null;this.groupsData=null;if(aW){this.setItems(aW);}}ae.prototype.setOptions=function(aS){if(aS){aF.extend(this.options,aS);}this.controller.reflow();
this.controller.repaint();};ae.prototype.setItems=function(aW){var aT=(this.itemsData==null);var aV;if(!aW){aV=null;}else{if(aW instanceof k){aV=aW;}}if(!(aW instanceof k)){aV=new k({convert:{start:"Date",end:"Date"}});aV.add(aW);}this.itemsData=aV;this.content.setItems(aV);if(aT&&(this.options.start==undefined||this.options.end==undefined)){var aX=this.getItemRange();
var aY=aX.min;var aS=aX.max;if(aY!=null&&aS!=null){var aU=(aS.valueOf()-aY.valueOf());if(aU<=0){aU=24*60*60*1000;}aY=new Date(aY.valueOf()-aU*0.05);aS=new Date(aS.valueOf()+aU*0.05);}if(this.options.start!=undefined){aY=new Date(this.options.start.valueOf());}if(this.options.end!=undefined){aS=new Date(this.options.end.valueOf());
}if(aY!=null||aS!=null){this.range.setRange(aY,aS);}}};ae.prototype.setGroups=function(aS){var aV=this;this.groupsData=aS;var aU=this.groupsData?K:H;if(!(this.content instanceof aU)){if(this.content){this.content.hide();if(this.content.setItems){this.content.setItems();}if(this.content.setGroups){this.content.setGroups();
}this.controller.remove(this.content);}var aT=Object.create(this.options);aF.extend(aT,{top:function(){if(aV.options.orientation=="top"){return aV.timeaxis.height;}else{return aV.itemPanel.height-aV.timeaxis.height-aV.content.height;}},left:null,width:"100%",height:function(){if(aV.options.height){return aV.itemPanel.height-aV.timeaxis.height;
}else{return null;}},maxHeight:function(){if(aV.options.maxHeight){if(!aF.isNumber(aV.options.maxHeight)){throw new TypeError("Number expected for property maxHeight");}return aV.options.maxHeight-aV.timeaxis.height;}else{return null;}},labelContainer:function(){return aV.labelPanel.getContainer();}});
this.content=new aU(this.itemPanel,[this.timeaxis],aT);if(this.content.setRange){this.content.setRange(this.range);}if(this.content.setItems){this.content.setItems(this.itemsData);}if(this.content.setGroups){this.content.setGroups(this.groupsData);}this.controller.add(this.content);}};ae.prototype.getItemRange=function am(){var aX=this.itemsData,aU=null,aS=null;
if(aX){var aW=aX.min("start");aU=aW?aW.start.valueOf():null;var aT=aX.max("start");if(aT){aS=aT.start.valueOf();}var aV=aX.max("end");if(aV){if(aS==null){aS=aV.end.valueOf();}else{aS=Math.max(aS,aV.end.valueOf());}}}return{min:(aU!=null)?new Date(aU):null,max:(aS!=null)?new Date(aS):null};};(function(bm){function bi(bo){bc=bo;
return aW();}var a7={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3};var a6={"{":true,"}":true,"[":true,"]":true,";":true,"=":true,",":true,"->":true,"--":true};var bc="";var aZ=0;var bj="";var a1="";var bk=a7.NULL;function a0(){aZ=0;bj=bc.charAt(0);}function bb(){aZ++;bj=bc.charAt(aZ);}function aX(){return bc.charAt(aZ+1);
}var a8=/[a-zA-Z_0-9.:#]/;function bg(bo){return a8.test(bo);}function aY(bp,bo){if(!bp){bp={};}if(bo){for(var bq in bo){if(bo.hasOwnProperty(bq)){bp[bq]=bo[bq];}}}return bp;}function aU(bs,br,bq){var bp=br.split(".");var bt=bs;while(bp.length){var bo=bp.shift();if(bp.length){if(!bt[bo]){bt[bo]={};}bt=bt[bo];
}else{bt[bo]=bq;}}}function a9(bu,bt){var br,bo;var bv=null;var bq=[bu];var bp=bu;while(bp.parent){bq.push(bp.parent);bp=bp.parent;}if(bp.nodes){for(br=0,bo=bp.nodes.length;br<bo;br++){if(bt.id===bp.nodes[br].id){bv=bp.nodes[br];break;}}}if(!bv){bv={id:bt.id};if(bu.node){bv.attr=aY(bv.attr,bu.node);}}for(br=bq.length-1;
br>=0;br--){var bs=bq[br];if(!bs.nodes){bs.nodes=[];}if(bs.nodes.indexOf(bv)==-1){bs.nodes.push(bv);}}if(bt.attr){bv.attr=aY(bv.attr,bt.attr);}}function aV(bq,bp){if(!bq.edges){bq.edges=[];}bq.edges.push(bp);if(bq.edge){var bo=aY({},bq.edge);bp.attr=aY(bo,bp.attr);}}function ba(br,bt,bs,bp,bo){var bq={from:bt,to:bs,type:bp};
if(br.edge){bq.attr=aY({},br.edge);}bq.attr=aY(bq.attr||{},bo);return bq;}function be(){bk=a7.NULL;a1="";while(bj==" "||bj=="\t"||bj=="\n"||bj=="\r"){bb();}do{var bo=false;if(bj=="#"){var bq=aZ-1;while(bc.charAt(bq)==" "||bc.charAt(bq)=="\t"){bq--;}if(bc.charAt(bq)=="\n"||bc.charAt(bq)==""){while(bj!=""&&bj!="\n"){bb();
}bo=true;}}if(bj=="/"&&aX()=="/"){while(bj!=""&&bj!="\n"){bb();}bo=true;}if(bj=="/"&&aX()=="*"){while(bj!=""){if(bj=="*"&&aX()=="/"){bb();bb();break;}else{bb();}}bo=true;}while(bj==" "||bj=="\t"||bj=="\n"||bj=="\r"){bb();}}while(bo);if(bj==""){bk=a7.DELIMITER;return;}var bp=bj+aX();if(a6[bp]){bk=a7.DELIMITER;
a1=bp;bb();bb();return;}if(a6[bj]){bk=a7.DELIMITER;a1=bj;bb();return;}if(bg(bj)||bj=="-"){a1+=bj;bb();while(bg(bj)){a1+=bj;bb();}if(a1=="false"){a1=false;}else{if(a1=="true"){a1=true;}else{if(!isNaN(Number(a1))){a1=Number(a1);}}}bk=a7.IDENTIFIER;return;}if(bj=='"'){bb();while(bj!=""&&(bj!='"'||(bj=='"'&&aX()=='"'))){a1+=bj;
if(bj=='"'){bb();}bb();}if(bj!='"'){throw bl('End of string " expected');}bb();bk=a7.IDENTIFIER;return;}bk=a7.UNKNOWN;while(bj!=""){a1+=bj;bb();}throw new SyntaxError('Syntax error in part "'+bd(a1,30)+'"');}function aW(){var bo={};a0();be();if(a1=="strict"){bo.strict=true;be();}if(a1=="graph"||a1=="digraph"){bo.type=a1;
be();}if(bk==a7.IDENTIFIER){bo.id=a1;be();}if(a1!="{"){throw bl("Angle bracket { expected");}be();a2(bo);if(a1!="}"){throw bl("Angle bracket } expected");}be();if(a1!==""){throw bl("End of file expected");}be();delete bo.node;delete bo.edge;delete bo.graph;return bo;}function a2(bo){while(a1!==""&&a1!="}"){aT(bo);
if(a1==";"){be();}}}function aT(bq){var bp=aS(bq);if(bp){a4(bq,bp);return;}var bo=a5(bq);if(bo){return;}if(bk!=a7.IDENTIFIER){throw bl("Identifier expected");}var br=a1;be();if(a1=="="){be();if(bk!=a7.IDENTIFIER){throw bl("Identifier expected");}bq[br]=a1;be();}else{bh(bq,br);}}function aS(bp){var bo=null;
if(a1=="subgraph"){bo={};bo.type="subgraph";be();if(bk==a7.IDENTIFIER){bo.id=a1;be();}}if(a1=="{"){be();if(!bo){bo={};}bo.parent=bp;bo.node=bp.node;bo.edge=bp.edge;bo.graph=bp.graph;a2(bo);if(a1!="}"){throw bl("Angle bracket } expected");}be();delete bo.node;delete bo.edge;delete bo.graph;delete bo.parent;
if(!bp.subgraphs){bp.subgraphs=[];}bp.subgraphs.push(bo);}return bo;}function a5(bo){if(a1=="node"){be();bo.node=bn();return"node";}else{if(a1=="edge"){be();bo.edge=bn();return"edge";}else{if(a1=="graph"){be();bo.graph=bn();return"graph";}}}return null;}function bh(bq,br){var bp={id:br};var bo=bn();if(bo){bp.attr=bo;
}a9(bq,bp);a4(bq,br);}function a4(bs,bu){while(a1=="->"||a1=="--"){var bt;var bq=a1;be();var bp=aS(bs);if(bp){bt=bp;}else{if(bk!=a7.IDENTIFIER){throw bl("Identifier or subgraph expected");}bt=a1;a9(bs,{id:bt});be();}var bo=bn();var br=ba(bs,bu,bt,bq,bo);aV(bs,br);bu=bt;}}function bn(){var bo=null;while(a1=="["){be();
bo={};while(a1!==""&&a1!="]"){if(bk!=a7.IDENTIFIER){throw bl("Attribute name expected");}var bp=a1;be();if(a1!="="){throw bl("Equal sign = expected");}be();if(bk!=a7.IDENTIFIER){throw bl("Attribute value expected");}var bq=a1;aU(bo,bp,bq);be();if(a1==","){be();}}if(a1!="]"){throw bl("Bracket ] expected");
}be();}return bo;}function bl(bo){return new SyntaxError(bo+', got "'+bd(a1,30)+'" (char '+aZ+")");}function bd(bp,bo){return(bp.length<=bo)?bp:(bp.substr(0,27)+"...");}function a3(bq,bp,bo){if(bq instanceof Array){bq.forEach(function(br){if(bp instanceof Array){bp.forEach(function(bs){bo(br,bs);});}else{bo(br,bp);
}});}else{if(bp instanceof Array){bp.forEach(function(br){bo(bq,br);});}else{bo(bq,bp);}}}function bf(bq){var bo=bi(bq);var br={nodes:[],edges:[],options:{}};if(bo.nodes){bo.nodes.forEach(function(bs){var bt={id:bs.id,label:String(bs.label||bs.id)};aY(bt,bs.attr);if(bt.image){bt.shape="image";}br.nodes.push(bt);
});}if(bo.edges){function bp(bs){var bt={from:bs.from,to:bs.to};aY(bt,bs.attr);bt.style=(bs.type=="->")?"arrow":"line";return bt;}bo.edges.forEach(function(bs){var bu,bt;if(bs.from instanceof Object){bu=bs.from.nodes;}else{bu={id:bs.from};}if(bs.to instanceof Object){bt=bs.to.nodes;}else{bt={id:bs.to};
}if(bs.from instanceof Object&&bs.from.edges){bs.from.edges.forEach(function(bw){var bv=bp(bw);br.edges.push(bv);});}a3(bu,bt,function(by,bx){var bw=ba(br,by.id,bx.id,bs.type,bs.attr);var bv=bp(bw);br.edges.push(bv);});if(bs.to instanceof Object&&bs.to.edges){bs.to.edges.forEach(function(bw){var bv=bp(bw);
br.edges.push(bv);});}});}if(bo.attr){br.options=bo.attr;}return br;}bm.parseDOT=bi;bm.DOTToGraph=bf;})(typeof aF!=="undefined"?aF:aa);if(typeof CanvasRenderingContext2D!=="undefined"){CanvasRenderingContext2D.prototype.circle=function(aS,aU,aT){this.beginPath();this.arc(aS,aU,aT,0,2*Math.PI,false);};
CanvasRenderingContext2D.prototype.square=function(aS,aU,aT){this.beginPath();this.rect(aS-aT,aU-aT,aT*2,aT*2);};CanvasRenderingContext2D.prototype.triangle=function(aS,aY,aW){this.beginPath();var aV=aW*2;var aT=aV/2;var aX=Math.sqrt(3)/6*aV;var aU=Math.sqrt(aV*aV-aT*aT);this.moveTo(aS,aY-(aU-aX));this.lineTo(aS+aT,aY+aX);
this.lineTo(aS-aT,aY+aX);this.lineTo(aS,aY-(aU-aX));this.closePath();};CanvasRenderingContext2D.prototype.triangleDown=function(aS,aY,aW){this.beginPath();var aV=aW*2;var aT=aV/2;var aX=Math.sqrt(3)/6*aV;var aU=Math.sqrt(aV*aV-aT*aT);this.moveTo(aS,aY+(aU-aX));this.lineTo(aS+aT,aY-aX);this.lineTo(aS-aT,aY-aX);
this.lineTo(aS,aY+(aU-aX));this.closePath();};CanvasRenderingContext2D.prototype.star=function(aT,aW,aU){this.beginPath();for(var aV=0;aV<10;aV++){var aS=(aV%2===0)?aU*1.3:aU*0.5;this.lineTo(aT+aS*Math.sin(aV*2*Math.PI/10),aW-aS*Math.cos(aV*2*Math.PI/10));}this.closePath();};CanvasRenderingContext2D.prototype.roundRect=function(aS,aX,aT,aV,aW){var aU=Math.PI/180;
if(aT-(2*aW)<0){aW=(aT/2);}if(aV-(2*aW)<0){aW=(aV/2);}this.beginPath();this.moveTo(aS+aW,aX);this.lineTo(aS+aT-aW,aX);this.arc(aS+aT-aW,aX+aW,aW,aU*270,aU*360,false);this.lineTo(aS+aT,aX+aV-aW);this.arc(aS+aT-aW,aX+aV-aW,aW,0,aU*90,false);this.lineTo(aS+aW,aX+aV);this.arc(aS+aW,aX+aV-aW,aW,aU*90,aU*180,false);
this.lineTo(aS,aX+aW);this.arc(aS+aW,aX+aW,aW,aU*180,aU*270,false);};CanvasRenderingContext2D.prototype.ellipse=function(a0,aZ,a1,aV){var aY=0.5522848,aU=(a1/2)*aY,aS=(aV/2)*aY,a2=a0+a1,aX=aZ+aV,aW=a0+a1/2,aT=aZ+aV/2;this.beginPath();this.moveTo(a0,aT);this.bezierCurveTo(a0,aT-aS,aW-aU,aZ,aW,aZ);this.bezierCurveTo(aW+aU,aZ,a2,aT-aS,a2,aT);
this.bezierCurveTo(a2,aT+aS,aW+aU,aX,aW,aX);this.bezierCurveTo(aW-aU,aX,a0,aT+aS,a0,aT);};CanvasRenderingContext2D.prototype.database=function(a4,a3,a5,aY){var a1=1/3;var aX=a5;var aS=aY*a1;var a2=0.5522848,aW=(aX/2)*a2,aU=(aS/2)*a2,a6=a4+aX,a0=a3+aS,aZ=a4+aX/2,aV=a3+aS/2,aT=a3+(aY-aS/2),a7=a3+aY;this.beginPath();
this.moveTo(a6,aV);this.bezierCurveTo(a6,aV+aU,aZ+aW,a0,aZ,a0);this.bezierCurveTo(aZ-aW,a0,a4,aV+aU,a4,aV);this.bezierCurveTo(a4,aV-aU,aZ-aW,a3,aZ,a3);this.bezierCurveTo(aZ+aW,a3,a6,aV-aU,a6,aV);this.lineTo(a6,aT);this.bezierCurveTo(a6,aT+aU,aZ+aW,a7,aZ,a7);this.bezierCurveTo(aZ-aW,a7,a4,aT+aU,a4,aT);
this.lineTo(a4,aV);};CanvasRenderingContext2D.prototype.arrow=function(a1,a0,aW,aS){var aU=a1-aS*Math.cos(aW);var a2=a0-aS*Math.sin(aW);var aZ=a1-aS*0.9*Math.cos(aW);var aX=a0-aS*0.9*Math.sin(aW);var aY=aU+aS/3*Math.cos(aW+0.5*Math.PI);var aT=a2+aS/3*Math.sin(aW+0.5*Math.PI);var aV=aU+aS/3*Math.cos(aW-0.5*Math.PI);
var a3=a2+aS/3*Math.sin(aW-0.5*Math.PI);this.beginPath();this.moveTo(a1,a0);this.lineTo(aY,aT);this.lineTo(aZ,aX);this.lineTo(aV,a3);this.closePath();};CanvasRenderingContext2D.prototype.dashedLine=function(a3,a0,aS,a1,aY){if(!aY){aY=[10,5];}if(aU==0){aU=0.001;}var aX=aY.length;this.moveTo(a3,a0);var a5=(aS-a3),a4=(a1-a0);
var aZ=a4/a5;var aV=Math.sqrt(a5*a5+a4*a4);var aW=0,a2=true;while(aV>=0.1){var aU=aY[aW++%aX];if(aU>aV){aU=aV;}var aT=Math.sqrt(aU*aU/(1+aZ*aZ));if(a5<0){aT=-aT;}a3+=aT;a0+=aZ*aT;this[a2?"lineTo":"moveTo"](a3,a0);aV-=aU;a2=!a2;}};}function aD(aU,aS,aV,aT){this.selected=false;this.edges=[];this.group=aT.nodes.group;
this.fontSize=aT.nodes.fontSize;this.fontFace=aT.nodes.fontFace;this.fontColor=aT.nodes.fontColor;this.color=aT.nodes.color;this.id=undefined;this.shape=aT.nodes.shape;this.image=aT.nodes.image;this.x=0;this.y=0;this.xFixed=false;this.yFixed=false;this.radius=aT.nodes.radius;this.radiusFixed=false;this.radiusMin=aT.nodes.radiusMin;
this.radiusMax=aT.nodes.radiusMax;this.imagelist=aS;this.grouplist=aV;this.setProperties(aU,aT);this.mass=50;this.fx=0;this.fy=0;this.vx=0;this.vy=0;this.minForce=aT.minForce;this.damping=0.9;}aD.prototype.attachEdge=function(aS){if(this.edges.indexOf(aS)==-1){this.edges.push(aS);}this._updateMass();
};aD.prototype.detachEdge=function(aT){var aS=this.edges.indexOf(aT);if(aS!=-1){this.edges.splice(aS,1);}this._updateMass();};aD.prototype._updateMass=function(){this.mass=50+20*this.edges.length;};aD.prototype.setProperties=function(aT,aS){if(!aT){return;}if(aT.id!=undefined){this.id=aT.id;}if(aT.label!=undefined){this.label=aT.label;
}if(aT.title!=undefined){this.title=aT.title;}if(aT.group!=undefined){this.group=aT.group;}if(aT.x!=undefined){this.x=aT.x;}if(aT.y!=undefined){this.y=aT.y;}if(aT.value!=undefined){this.value=aT.value;}if(this.id===undefined){throw"Node must have an id";}if(this.group){var aU=this.grouplist.get(this.group);
for(var aV in aU){if(aU.hasOwnProperty(aV)){this[aV]=aU[aV];}}}if(aT.shape!=undefined){this.shape=aT.shape;}if(aT.image!=undefined){this.image=aT.image;}if(aT.radius!=undefined){this.radius=aT.radius;}if(aT.color!=undefined){this.color=aD.parseColor(aT.color);}if(aT.fontColor!=undefined){this.fontColor=aT.fontColor;
}if(aT.fontSize!=undefined){this.fontSize=aT.fontSize;}if(aT.fontFace!=undefined){this.fontFace=aT.fontFace;}if(this.image!=undefined){if(this.imagelist){this.imageObj=this.imagelist.load(this.image);}else{throw"No imagelist provided";}}this.xFixed=this.xFixed||(aT.x!=undefined);this.yFixed=this.yFixed||(aT.y!=undefined);
this.radiusFixed=this.radiusFixed||(aT.radius!=undefined);if(this.shape=="image"){this.radiusMin=aS.nodes.widthMin;this.radiusMax=aS.nodes.widthMax;}switch(this.shape){case"database":this.draw=this._drawDatabase;this.resize=this._resizeDatabase;break;case"box":this.draw=this._drawBox;this.resize=this._resizeBox;
break;case"circle":this.draw=this._drawCircle;this.resize=this._resizeCircle;break;case"ellipse":this.draw=this._drawEllipse;this.resize=this._resizeEllipse;break;case"image":this.draw=this._drawImage;this.resize=this._resizeImage;break;case"text":this.draw=this._drawText;this.resize=this._resizeText;
break;case"dot":this.draw=this._drawDot;this.resize=this._resizeShape;break;case"square":this.draw=this._drawSquare;this.resize=this._resizeShape;break;case"triangle":this.draw=this._drawTriangle;this.resize=this._resizeShape;break;case"triangleDown":this.draw=this._drawTriangleDown;this.resize=this._resizeShape;
break;case"star":this.draw=this._drawStar;this.resize=this._resizeShape;break;default:this.draw=this._drawEllipse;this.resize=this._resizeEllipse;break;}this._reset();};aD.parseColor=function(aS){var aT;if(aF.isString(aS)){aT={border:aS,background:aS,highlight:{border:aS,background:aS}};}else{aT={};aT.background=aS.background||"white";
aT.border=aS.border||aT.background;if(aF.isString(aS.highlight)){aT.highlight={border:aS.highlight,background:aS.highlight};}else{aT.highlight={};aT.highlight.background=aS.highlight&&aS.highlight.background||aT.background;aT.highlight.border=aS.highlight&&aS.highlight.border||aT.border;}}return aT;};
aD.prototype.select=function(){this.selected=true;this._reset();};aD.prototype.unselect=function(){this.selected=false;this._reset();};aD.prototype._reset=function(){this.width=undefined;this.height=undefined;};aD.prototype.getTitle=function(){return this.title;};aD.prototype.distanceToBorder=function(aV,aY){var aW=1;
if(!this.width){this.resize(aV);}switch(this.shape){case"circle":case"dot":return this.radius+aW;case"ellipse":var aU=this.width/2;var aS=this.height/2;var aT=(Math.sin(aY)*aU);var aX=(Math.cos(aY)*aS);return aU*aS/Math.sqrt(aT*aT+aX*aX);case"box":case"image":case"text":default:if(this.width){return Math.min(Math.abs(this.width/2/Math.cos(aY)),Math.abs(this.height/2/Math.sin(aY)))+aW;
}else{return 0;}}};aD.prototype._setForce=function(aT,aS){this.fx=aT;this.fy=aS;};aD.prototype._addForce=function(aT,aS){this.fx+=aT;this.fy+=aS;};aD.prototype.discreteStep=function(aU){if(!this.xFixed){var aT=-this.damping*this.vx;var aW=(this.fx+aT)/this.mass;this.vx+=aW/aU;this.x+=this.vx/aU;}if(!this.yFixed){var aS=-this.damping*this.vy;
var aV=(this.fy+aS)/this.mass;this.vy+=aV/aU;this.y+=this.vy/aU;}};aD.prototype.isFixed=function(){return(this.xFixed&&this.yFixed);};aD.prototype.isMoving=function(aS){return(Math.abs(this.vx)>aS||Math.abs(this.vy)>aS||(!this.xFixed&&Math.abs(this.fx)>this.minForce)||(!this.yFixed&&Math.abs(this.fy)>this.minForce));
};aD.prototype.isSelected=function(){return this.selected;};aD.prototype.getValue=function(){return this.value;};aD.prototype.getDistance=function(aS,aV){var aU=this.x-aS,aT=this.y-aV;return Math.sqrt(aU*aU+aT*aT);};aD.prototype.setValueRange=function(aT,aS){if(!this.radiusFixed&&this.value!==undefined){var aU=(this.radiusMax-this.radiusMin)/(aS-aT);
this.radius=(this.value-aT)*aU+this.radiusMin;}};aD.prototype.draw=function(aS){throw"Draw method not initialized for node";};aD.prototype.resize=function(aS){throw"Resize method not initialized for node";};aD.prototype.isOverlappingWith=function(aS){return(this.left<aS.right&&this.left+this.width>aS.left&&this.top<aS.bottom&&this.top+this.height>aS.top);
};aD.prototype._resizeImage=function(aT){if(!this.width){var aU,aS;if(this.value){var aV=this.imageObj.height/this.imageObj.width;aU=this.radius||this.imageObj.width;aS=this.radius*aV||this.imageObj.height;}else{aU=this.imageObj.width;aS=this.imageObj.height;}this.width=aU;this.height=aS;}};aD.prototype._drawImage=function(aT){this._resizeImage(aT);
this.left=this.x-this.width/2;this.top=this.y-this.height/2;var aS;if(this.imageObj){aT.drawImage(this.imageObj,this.left,this.top,this.width,this.height);aS=this.y+this.height/2;}else{aS=this.y;}this._label(aT,this.label,this.x,aS,undefined,"top");};aD.prototype._resizeBox=function(aS){if(!this.width){var aU=5;
var aT=this.getTextSize(aS);this.width=aT.width+2*aU;this.height=aT.height+2*aU;}};aD.prototype._drawBox=function(aS){this._resizeBox(aS);this.left=this.x-this.width/2;this.top=this.y-this.height/2;aS.strokeStyle=this.selected?this.color.highlight.border:this.color.border;aS.fillStyle=this.selected?this.color.highlight.background:this.color.background;
aS.lineWidth=this.selected?2:1;aS.roundRect(this.left,this.top,this.width,this.height,this.radius);aS.fill();aS.stroke();this._label(aS,this.label,this.x,this.y);};aD.prototype._resizeDatabase=function(aS){if(!this.width){var aV=5;var aU=this.getTextSize(aS);var aT=aU.width+2*aV;this.width=aT;this.height=aT;
}};aD.prototype._drawDatabase=function(aS){this._resizeDatabase(aS);this.left=this.x-this.width/2;this.top=this.y-this.height/2;aS.strokeStyle=this.selected?this.color.highlight.border:this.color.border;aS.fillStyle=this.selected?this.color.highlight.background:this.color.background;aS.lineWidth=this.selected?2:1;
aS.database(this.x-this.width/2,this.y-this.height*0.5,this.width,this.height);aS.fill();aS.stroke();this._label(aS,this.label,this.x,this.y);};aD.prototype._resizeCircle=function(aS){if(!this.width){var aV=5;var aU=this.getTextSize(aS);var aT=Math.max(aU.width,aU.height)+2*aV;this.radius=aT/2;this.width=aT;
this.height=aT;}};aD.prototype._drawCircle=function(aS){this._resizeCircle(aS);this.left=this.x-this.width/2;this.top=this.y-this.height/2;aS.strokeStyle=this.selected?this.color.highlight.border:this.color.border;aS.fillStyle=this.selected?this.color.highlight.background:this.color.background;aS.lineWidth=this.selected?2:1;
aS.circle(this.x,this.y,this.radius);aS.fill();aS.stroke();this._label(aS,this.label,this.x,this.y);};aD.prototype._resizeEllipse=function(aS){if(!this.width){var aT=this.getTextSize(aS);this.width=aT.width*1.5;this.height=aT.height*2;if(this.width<this.height){this.width=this.height;}}};aD.prototype._drawEllipse=function(aS){this._resizeEllipse(aS);
this.left=this.x-this.width/2;this.top=this.y-this.height/2;aS.strokeStyle=this.selected?this.color.highlight.border:this.color.border;aS.fillStyle=this.selected?this.color.highlight.background:this.color.background;aS.lineWidth=this.selected?2:1;aS.ellipse(this.left,this.top,this.width,this.height);
aS.fill();aS.stroke();this._label(aS,this.label,this.x,this.y);};aD.prototype._drawDot=function(aS){this._drawShape(aS,"circle");};aD.prototype._drawTriangle=function(aS){this._drawShape(aS,"triangle");};aD.prototype._drawTriangleDown=function(aS){this._drawShape(aS,"triangleDown");};aD.prototype._drawSquare=function(aS){this._drawShape(aS,"square");
};aD.prototype._drawStar=function(aS){this._drawShape(aS,"star");};aD.prototype._resizeShape=function(aS){if(!this.width){var aT=2*this.radius;this.width=aT;this.height=aT;}};aD.prototype._drawShape=function(aS,aT){this._resizeShape(aS);this.left=this.x-this.width/2;this.top=this.y-this.height/2;aS.strokeStyle=this.selected?this.color.highlight.border:this.color.border;
aS.fillStyle=this.selected?this.color.highlight.background:this.color.background;aS.lineWidth=this.selected?2:1;aS[aT](this.x,this.y,this.radius);aS.fill();aS.stroke();if(this.label){this._label(aS,this.label,this.x,this.y+this.height/2,undefined,"top");}};aD.prototype._resizeText=function(aS){if(!this.width){var aU=5;
var aT=this.getTextSize(aS);this.width=aT.width+2*aU;this.height=aT.height+2*aU;}};aD.prototype._drawText=function(aS){this._resizeText(aS);this.left=this.x-this.width/2;this.top=this.y-this.height/2;this._label(aS,this.label,this.x,this.y);};aD.prototype._label=function(aZ,aY,aW,aV,aT,aU){if(aY){aZ.font=(this.selected?"bold ":"")+this.fontSize+"px "+this.fontFace;
aZ.fillStyle=this.fontColor||"black";aZ.textAlign=aT||"center";aZ.textBaseline=aU||"middle";var a2=aY.split("\n"),a0=a2.length,a1=(this.fontSize+4),aX=aV+(1-a0)/2*a1;for(var aS=0;aS<a0;aS++){aZ.fillText(a2[aS],aW,aX);aX+=a1;}}};aD.prototype.getTextSize=function(aV){if(this.label!=undefined){aV.font=(this.selected?"bold ":"")+this.fontSize+"px "+this.fontFace;
var aU=this.label.split("\n"),aT=(this.fontSize+4)*aU.length,aX=0;for(var aW=0,aS=aU.length;aW<aS;aW++){aX=Math.max(aX,aV.measureText(aU[aW]).width);}return{"width":aX,"height":aT};}else{return{"width":0,"height":0};}};function S(aT,aU,aS){if(!aU){throw"No graph provided";}this.graph=aU;this.widthMin=aS.edges.widthMin;
this.widthMax=aS.edges.widthMax;this.id=undefined;this.fromId=undefined;this.toId=undefined;this.style=aS.edges.style;this.title=undefined;this.width=aS.edges.width;this.value=undefined;this.length=aS.edges.length;this.from=null;this.to=null;this.connected=false;this.dash=aF.extend({},aS.edges.dash);
this.stiffness=undefined;this.color=aS.edges.color;this.widthFixed=false;this.lengthFixed=false;this.setProperties(aT,aS);}S.prototype.setProperties=function(aT,aS){if(!aT){return;}if(aT.from!=undefined){this.fromId=aT.from;}if(aT.to!=undefined){this.toId=aT.to;}if(aT.id!=undefined){this.id=aT.id;}if(aT.style!=undefined){this.style=aT.style;
}if(aT.label!=undefined){this.label=aT.label;}if(this.label){this.fontSize=aS.edges.fontSize;this.fontFace=aS.edges.fontFace;this.fontColor=aS.edges.fontColor;if(aT.fontColor!=undefined){this.fontColor=aT.fontColor;}if(aT.fontSize!=undefined){this.fontSize=aT.fontSize;}if(aT.fontFace!=undefined){this.fontFace=aT.fontFace;
}}if(aT.title!=undefined){this.title=aT.title;}if(aT.width!=undefined){this.width=aT.width;}if(aT.value!=undefined){this.value=aT.value;}if(aT.length!=undefined){this.length=aT.length;}if(aT.dash){if(aT.dash.length!=undefined){this.dash.length=aT.dash.length;}if(aT.dash.gap!=undefined){this.dash.gap=aT.dash.gap;
}if(aT.dash.altLength!=undefined){this.dash.altLength=aT.dash.altLength;}}if(aT.color!=undefined){this.color=aT.color;}this.connect();this.widthFixed=this.widthFixed||(aT.width!=undefined);this.lengthFixed=this.lengthFixed||(aT.length!=undefined);this.stiffness=1/this.length;switch(this.style){case"line":this.draw=this._drawLine;
break;case"arrow":this.draw=this._drawArrow;break;case"arrow-center":this.draw=this._drawArrowCenter;break;case"dash-line":this.draw=this._drawDashLine;break;default:this.draw=this._drawLine;break;}};S.prototype.connect=function(){this.disconnect();this.from=this.graph.nodes[this.fromId]||null;this.to=this.graph.nodes[this.toId]||null;
this.connected=(this.from&&this.to);if(this.connected){this.from.attachEdge(this);this.to.attachEdge(this);}else{if(this.from){this.from.detachEdge(this);}if(this.to){this.to.detachEdge(this);}}};S.prototype.disconnect=function(){if(this.from){this.from.detachEdge(this);this.from=null;}if(this.to){this.to.detachEdge(this);
this.to=null;}this.connected=false;};S.prototype.getTitle=function(){return this.title;};S.prototype.getValue=function(){return this.value;};S.prototype.setValueRange=function(aU,aS){if(!this.widthFixed&&this.value!==undefined){var aT=(this.widthMax-this.widthMin)/(aS-aU);this.width=(this.value-aU)*aT+this.widthMin;
}};S.prototype.draw=function(aS){throw"Method draw not initialized in edge";};S.prototype.isOverlappingWith=function(aV){var a0=10;var aY=this.from.x;var aW=this.from.y;var aS=this.to.x;var aU=this.to.y;var aT=aV.left;var aZ=aV.top;var aX=S._dist(aY,aW,aS,aU,aT,aZ);return(aX<a0);};S.prototype._drawLine=function(aV){aV.strokeStyle=this.color;
aV.lineWidth=this._getLineWidth();var aU;if(this.from!=this.to){this._line(aV);if(this.label){aU=this._pointOnLine(0.5);this._label(aV,this.label,aU.x,aU.y);}}else{var aT,aX;var aS=this.length/4;var aW=this.from;if(!aW.width){aW.resize(aV);}if(aW.width>aW.height){aT=aW.x+aW.width/2;aX=aW.y-aS;}else{aT=aW.x+aS;
aX=aW.y-aW.height/2;}this._circle(aV,aT,aX,aS);aU=this._pointOnCircle(aT,aX,aS,0.5);this._label(aV,this.label,aU.x,aU.y);}};S.prototype._getLineWidth=function(){if(this.from.selected||this.to.selected){return Math.min(this.width*2,this.widthMax);}else{return this.width;}};S.prototype._line=function(aS){aS.beginPath();
aS.moveTo(this.from.x,this.from.y);aS.lineTo(this.to.x,this.to.y);aS.stroke();};S.prototype._circle=function(aU,aT,aV,aS){aU.beginPath();aU.arc(aT,aV,aS,0,2*Math.PI,false);aU.stroke();};S.prototype._label=function(aU,aY,aT,aZ){if(aY){aU.font=((this.from.selected||this.to.selected)?"bold ":"")+this.fontSize+"px "+this.fontFace;
aU.fillStyle="white";var aV=aU.measureText(aY).width;var aS=this.fontSize;var aX=aT-aV/2;var aW=aZ-aS/2;aU.fillRect(aX,aW,aV,aS);aU.fillStyle=this.fontColor||"black";aU.textAlign="left";aU.textBaseline="top";aU.fillText(aY,aX,aW);}};S.prototype._drawDashLine=function(aT){aT.strokeStyle=this.color;aT.lineWidth=this._getLineWidth();
aT.beginPath();aT.lineCap="round";if(this.dash.altLength!=undefined){aT.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,[this.dash.length,this.dash.gap,this.dash.altLength,this.dash.gap]);}else{if(this.dash.length!=undefined&&this.dash.gap!=undefined){aT.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,[this.dash.length,this.dash.gap]);
}else{aT.moveTo(this.from.x,this.from.y);aT.lineTo(this.to.x,this.to.y);}}aT.stroke();if(this.label){var aS=this._pointOnLine(0.5);this._label(aT,this.label,aS.x,aS.y);}};S.prototype._pointOnLine=function(aS){return{x:(1-aS)*this.from.x+aS*this.to.x,y:(1-aS)*this.from.y+aS*this.to.y};};S.prototype._pointOnCircle=function(aT,aW,aS,aU){var aV=(aU-3/8)*2*Math.PI;
return{x:aT+aS*Math.cos(aV),y:aW-aS*Math.sin(aV)};};S.prototype._drawArrowCenter=function(aV){var aU;aV.strokeStyle=this.color;aV.fillStyle=this.color;aV.lineWidth=this._getLineWidth();if(this.from!=this.to){this._line(aV);var aY=Math.atan2((this.to.y-this.from.y),(this.to.x-this.from.x));var aX=10+5*this.width;
aU=this._pointOnLine(0.5);aV.arrow(aU.x,aU.y,aY,aX);aV.fill();aV.stroke();if(this.label){aU=this._pointOnLine(0.5);this._label(aV,this.label,aU.x,aU.y);}}else{var aT,aZ;var aS=this.length/4;var aW=this.from;if(!aW.width){aW.resize(aV);}if(aW.width>aW.height){aT=aW.x+aW.width/2;aZ=aW.y-aS;}else{aT=aW.x+aS;
aZ=aW.y-aW.height/2;}this._circle(aV,aT,aZ,aS);var aY=0.2*Math.PI;var aX=10+5*this.width;aU=this._pointOnCircle(aT,aZ,aS,0.5);aV.arrow(aU.x,aU.y,aY,aX);aV.fill();aV.stroke();if(this.label){aU=this._pointOnCircle(aT,aZ,aS,0.5);this._label(aV,this.label,aU.x,aU.y);}}};S.prototype._drawArrow=function(a7){a7.strokeStyle=this.color;
a7.fillStyle=this.color;a7.lineWidth=this._getLineWidth();var a9,aX;if(this.from!=this.to){a9=Math.atan2((this.to.y-this.from.y),(this.to.x-this.from.x));var a2=(this.to.x-this.from.x);var a1=(this.to.y-this.from.y);var aU=Math.sqrt(a2*a2+a1*a1);var a3=this.from.distanceToBorder(a7,a9+Math.PI);var aS=(aU-a3)/aU;
var bb=(aS)*this.from.x+(1-aS)*this.to.x;var a4=(aS)*this.from.y+(1-aS)*this.to.y;var ba=this.to.distanceToBorder(a7,a9);var aW=(aU-ba)/aU;var a5=(1-aW)*this.from.x+aW*this.to.x;var aV=(1-aW)*this.from.y+aW*this.to.y;a7.beginPath();a7.moveTo(bb,a4);a7.lineTo(a5,aV);a7.stroke();aX=10+5*this.width;a7.arrow(a5,aV,a9,aX);
a7.fill();a7.stroke();if(this.label){var a8=this._pointOnLine(0.5);this._label(a7,this.label,a8.x,a8.y);}}else{var a6=this.from;var a0,aZ,aT;var aY=this.length/4;if(!a6.width){a6.resize(a7);}if(a6.width>a6.height){a0=a6.x+a6.width/2;aZ=a6.y-aY;aT={x:a0,y:a6.y,angle:0.9*Math.PI};}else{a0=a6.x+aY;aZ=a6.y-a6.height/2;
aT={x:a6.x,y:aZ,angle:0.6*Math.PI};}a7.beginPath();a7.arc(a0,aZ,aY,0,2*Math.PI,false);a7.stroke();aX=10+5*this.width;a7.arrow(aT.x,aT.y,aT.angle,aX);a7.fill();a7.stroke();if(this.label){a8=this._pointOnCircle(a0,aZ,aY,0.5);this._label(a7,this.label,a8.x,a8.y);}}};S._dist=function(aU,a0,aT,aY,aS,aV){var a2=aT-aU,a1=aY-a0,aX=a2*a2+a1*a1,a3=((aS-aU)*a2+(aV-a0)*a1)/aX;
if(a3>1){a3=1;}else{if(a3<0){a3=0;}}var aZ=aU+a3*a2,aW=a0+a3*a1,a5=aZ-aS,a4=aW-aV;return Math.sqrt(a5*a5+a4*a4);};function ax(aT,aS,aW,aV){if(aT){this.container=aT;}else{this.container=document.body;}this.x=0;this.y=0;this.padding=5;if(aS!==undefined&&aW!==undefined){this.setPosition(aS,aW);}if(aV!==undefined){this.setText(aV);
}this.frame=document.createElement("div");var aU=this.frame.style;aU.position="absolute";aU.visibility="hidden";aU.border="1px solid #666";aU.color="black";aU.padding=this.padding+"px";aU.backgroundColor="#FFFFC6";aU.borderRadius="3px";aU.MozBorderRadius="3px";aU.WebkitBorderRadius="3px";aU.boxShadow="3px 3px 10px rgba(128, 128, 128, 0.5)";
aU.whiteSpace="nowrap";this.container.appendChild(this.frame);}ax.prototype.setPosition=function(aS,aT){this.x=parseInt(aS);this.y=parseInt(aT);};ax.prototype.setText=function(aS){this.frame.innerHTML=aS;};ax.prototype.show=function(aT){if(aT===undefined){aT=true;}if(aT){var aS=this.frame.clientHeight;
var aU=this.frame.clientWidth;var aW=this.frame.parentNode.clientHeight;var aV=this.frame.parentNode.clientWidth;var aY=(this.y-aS);if(aY+aS+this.padding>aW){aY=aW-aS-this.padding;}if(aY<this.padding){aY=this.padding;}var aX=this.x;if(aX+aU+this.padding>aV){aX=aV-aU-this.padding;}if(aX<this.padding){aX=this.padding;
}this.frame.style.left=aX+"px";this.frame.style.top=aY+"px";this.frame.style.visibility="visible";}else{this.hide();}};ax.prototype.hide=function(){this.frame.style.visibility="hidden";};Groups=function(){this.clear();this.defaultIndex=0;};Groups.DEFAULT=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"}}];
Groups.prototype.clear=function(){this.groups={};this.groups.length=function(){var aS=0;for(var aT in this){if(this.hasOwnProperty(aT)){aS++;}}return aS;};};Groups.prototype.get=function(aS){var aU=this.groups[aS];if(aU==undefined){var aT=this.defaultIndex%Groups.DEFAULT.length;this.defaultIndex++;aU={};
aU.color=Groups.DEFAULT[aT];this.groups[aS]=aU;}return aU;};Groups.prototype.add=function(aS,aT){this.groups[aS]=aT;if(aT.color){aT.color=aD.parseColor(aT.color);}return aT;};Images=function(){this.images={};this.callback=undefined;};Images.prototype.setOnloadCallback=function(aS){this.callback=aS;};
Images.prototype.load=function(aU){var aT=this.images[aU];if(aT==undefined){var aS=this;aT=new Image();this.images[aU]=aT;aT.onload=function(){if(aS.callback){aS.callback(this);}};aT.src=aU;}return aT;};function aG(aS,aW,aT){this.containerElement=aS;this.width="100%";this.height="100%";this.refreshRate=50;
this.stabilize=true;this.selectable=true;this.constants={nodes:{radiusMin:5,radiusMax:20,radius:5,distance:100,shape:"ellipse",image:undefined,widthMin:16,widthMax:64,fontColor:"black",fontSize:14,fontFace:"arial",color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"}},borderColor:"#2B7CE9",backgroundColor:"#97C2FC",highlightColor:"#D2E5FF",group:undefined},edges:{widthMin:1,widthMax:15,width:1,style:"line",color:"#343434",fontColor:"#343434",fontSize:14,fontFace:"arial",length:100,dash:{length:10,gap:5,altLength:undefined}},minForce:0.05,minVelocity:0.02,maxIterations:1000};
var aV=this;this.nodes={};this.edges={};this.nodesData=null;this.edgesData=null;var aU=this;this.nodesListeners={"add":function(aX,aY){aU._addNodes(aY.items);aU.start();},"update":function(aX,aY){aU._updateNodes(aY.items);aU.start();},"remove":function(aX,aY){aU._removeNodes(aY.items);aU.start();}};this.edgesListeners={"add":function(aX,aY){aU._addEdges(aY.items);
aU.start();},"update":function(aX,aY){aU._updateEdges(aY.items);aU.start();},"remove":function(aX,aY){aU._removeEdges(aY.items);aU.start();}};this.groups=new Groups();this.images=new Images();this.images.setOnloadCallback(function(){aV._redraw();});this.moving=false;this.selection=[];this.timer=undefined;
this._create();this.setOptions(aT);this.setData(aW);}aG.prototype.setData=function(aT){if(aT&&aT.dot&&(aT.nodes||aT.edges)){throw new SyntaxError('Data must contain either parameter "dot" or '+' parameter pair "nodes" and "edges", but not both.');}this.setOptions(aT&&aT.options);if(aT&&aT.dot){if(aT&&aT.dot){var aS=ao.util.DOTToGraph(aT.dot);
this.setData(aS);return;}}else{this._setNodes(aT&&aT.nodes);this._setEdges(aT&&aT.edges);}if(this.stabilize){this._doStabilize();}this.start();};aG.prototype.setOptions=function(aT){if(aT){if(aT.width!=undefined){this.width=aT.width;}if(aT.height!=undefined){this.height=aT.height;}if(aT.stabilize!=undefined){this.stabilize=aT.stabilize;
}if(aT.selectable!=undefined){this.selectable=aT.selectable;}if(aT.edges){for(var aV in aT.edges){if(aT.edges.hasOwnProperty(aV)){this.constants.edges[aV]=aT.edges[aV];}}if(aT.edges.length!=undefined&&aT.nodes&&aT.nodes.distance==undefined){this.constants.edges.length=aT.edges.length;this.constants.nodes.distance=aT.edges.length*1.25;
}if(!aT.edges.fontColor){this.constants.edges.fontColor=aT.edges.color;}if(aT.edges.dash){if(aT.edges.dash.length!=undefined){this.constants.edges.dash.length=aT.edges.dash.length;}if(aT.edges.dash.gap!=undefined){this.constants.edges.dash.gap=aT.edges.dash.gap;}if(aT.edges.dash.altLength!=undefined){this.constants.edges.dash.altLength=aT.edges.dash.altLength;
}}}if(aT.nodes){for(aV in aT.nodes){if(aT.nodes.hasOwnProperty(aV)){this.constants.nodes[aV]=aT.nodes[aV];}}if(aT.nodes.color){this.constants.nodes.color=aD.parseColor(aT.nodes.color);}}if(aT.groups){for(var aS in aT.groups){if(aT.groups.hasOwnProperty(aS)){var aU=aT.groups[aS];this.groups.add(aS,aU);
}}}}this.setSize(this.width,this.height);this._setTranslation(this.frame.clientWidth/2,this.frame.clientHeight/2);this._setScale(1);};aG.prototype._trigger=function(aS,aT){D.trigger(this,aS,aT);};aG.prototype._create=function(){while(this.containerElement.hasChildNodes()){this.containerElement.removeChild(this.containerElement.firstChild);
}this.frame=document.createElement("div");this.frame.className="graph-frame";this.frame.style.position="relative";this.frame.style.overflow="hidden";this.frame.canvas=document.createElement("canvas");try{if(window.G_vmlCanvasManager.initElement){window.G_vmlCanvasManager.initElement(this.frame.canvas);
}}catch(aT){}this.frame.canvas.style.position="relative";this.frame.appendChild(this.frame.canvas);if(!this.frame.canvas.getContext){var aU=document.createElement("DIV");aU.style.color="red";aU.style.fontWeight="bold";aU.style.padding="10px";aU.innerHTML="Error: your browser does not support HTML canvas";
this.frame.canvas.appendChild(aU);}var aS=this;this.drag={};this.pinch={};this.hammer=L(this.frame.canvas,{prevent_default:true});this.hammer.on("tap",aS._onTap.bind(aS));this.hammer.on("hold",aS._onHold.bind(aS));this.hammer.on("pinch",aS._onPinch.bind(aS));this.hammer.on("touch",aS._onTouch.bind(aS));
this.hammer.on("dragstart",aS._onDragStart.bind(aS));this.hammer.on("drag",aS._onDrag.bind(aS));this.hammer.on("dragend",aS._onDragEnd.bind(aS));this.hammer.on("mousewheel",aS._onMouseWheel.bind(aS));this.hammer.on("mousemove",aS._onMouseMoveTitle.bind(aS));this.containerElement.appendChild(this.frame);
};aG.prototype._getNodeAt=function(aV){var aS=this._canvasToX(aV.x);var aW=this._canvasToY(aV.y);var aU={left:aS,top:aW,right:aS,bottom:aW};var aT=this._getNodesOverlappingWith(aU);return(aT.length>0)?aT[aT.length-1]:null;};aG.prototype._getPointer=function(aS){return{x:aS.pageX-ao.util.getAbsoluteLeft(this.frame.canvas),y:aS.pageY-ao.util.getAbsoluteTop(this.frame.canvas)};
};aG.prototype._onTouch=function(aS){this.drag.pointer=this._getPointer(aS.gesture.touches[0]);this.drag.pinched=false;this.pinch.scale=this._getScale();};aG.prototype._onDragStart=function(){var aS=this.drag;aS.selection=[];aS.translation=this._getTranslation();aS.nodeId=this._getNodeAt(aS.pointer);
var aU=this.nodes[aS.nodeId];if(aU){if(!aU.isSelected()){this._selectNodes([aS.nodeId]);}var aT=this;this.selection.forEach(function(aX){var aW=aT.nodes[aX];if(aW){var aV={id:aX,node:aW,x:aW.x,y:aW.y,xFixed:aW.xFixed,yFixed:aW.yFixed};aW.xFixed=true;aW.yFixed=true;aS.selection.push(aV);}});}};aG.prototype._onDrag=function(aT){if(this.drag.pinched){return;
}var aS=this._getPointer(aT.gesture.touches[0]);var aX=this,aW=this.drag,a0=aW.selection;if(a0&&a0.length){var aV=aS.x-aW.pointer.x,aU=aS.y-aW.pointer.y;a0.forEach(function(a1){var a2=a1.node;if(!a1.xFixed){a2.x=aX._canvasToX(aX._xToCanvas(a1.x)+aV);}if(!a1.yFixed){a2.y=aX._canvasToY(aX._yToCanvas(a1.y)+aU);
}});if(!this.moving){this.moving=true;this.start();}}else{var aZ=aS.x-this.drag.pointer.x;var aY=aS.y-this.drag.pointer.y;this._setTranslation(this.drag.translation.x+aZ,this.drag.translation.y+aY);this._redraw();this.moved=true;}};aG.prototype._onDragEnd=function(){var aS=this.drag.selection;if(aS){aS.forEach(function(aT){aT.node.xFixed=aT.xFixed;
aT.node.yFixed=aT.yFixed;});}};aG.prototype._onTap=function(aT){var aV=this._getPointer(aT.gesture.touches[0]);var aU=this._getNodeAt(aV);var aS=this.nodes[aU];if(aS){this._selectNodes([aU]);if(!this.moving){this._redraw();}}else{this._unselectNodes();this._redraw();}};aG.prototype._onHold=function(aU){var aW=this._getPointer(aU.gesture.touches[0]);
var aV=this._getNodeAt(aW);var aT=this.nodes[aV];if(aT){if(!aT.isSelected()){var aS=true;this._selectNodes([aV],aS);}else{this._unselectNodes([aV]);}if(!this.moving){this._redraw();}}else{}};aG.prototype._onPinch=function(aS){var aU=this._getPointer(aS.gesture.center);this.drag.pinched=true;if(!("scale" in this.pinch)){this.pinch.scale=1;
}var aT=this.pinch.scale*aS.gesture.scale;this._zoom(aT,aU);};aG.prototype._zoom=function(aV,aU){var aY=this._getScale();if(aV<0.01){aV=0.01;}if(aV>10){aV=10;}var aX=this._getTranslation();var aW=aV/aY;var aT=(1-aW)*aU.x+aX.x*aW;var aS=(1-aW)*aU.y+aX.y*aW;this._setScale(aV);this._setTranslation(aT,aS);
this._redraw();return aV;};aG.prototype._onMouseWheel=function(aU){var aX=0;if(aU.wheelDelta){aX=aU.wheelDelta/120;}else{if(aU.detail){aX=-aU.detail/3;}}if(aX){if(!("mouswheelScale" in this.pinch)){this.pinch.mouswheelScale=1;}var aW=this.pinch.mouswheelScale;var aT=aX/10;if(aX<0){aT=aT/(1-aT);}aW*=(1+aT);
var aS=L.event.collectEventData(this,"scroll",aU);var aV=this._getPointer(aS.center);aW=this._zoom(aW,aV);this.pinch.mouswheelScale=aW;}ao.util.preventDefault(aU);};aG.prototype._onMouseMoveTitle=function(aU){var aS=L.event.collectEventData(this,"mousemove",aU);var aW=this._getPointer(aS.center);if(this.popupNode){this._checkHidePopup(aW);
}var aT=this;var aV=function(){aT._checkShowPopup(aW);};if(this.popupTimer){clearInterval(this.popupTimer);}if(!this.leftButtonDown){this.popupTimer=setTimeout(aV,300);}};aG.prototype._checkShowPopup=function(aS){var aZ={left:this._canvasToX(aS.x),top:this._canvasToY(aS.y),right:this._canvasToX(aS.x),bottom:this._canvasToY(aS.y)};
var aU;var aX=this.popupNode;if(this.popupNode==undefined){var aT=this.nodes;for(aU in aT){if(aT.hasOwnProperty(aU)){var aW=aT[aU];if(aW.getTitle()!=undefined&&aW.isOverlappingWith(aZ)){this.popupNode=aW;break;}}}}if(this.popupNode==undefined){var aY=this.edges;for(aU in aY){if(aY.hasOwnProperty(aU)){var aV=aY[aU];
if(aV.connected&&(aV.getTitle()!=undefined)&&aV.isOverlappingWith(aZ)){this.popupNode=aV;break;}}}}if(this.popupNode){if(this.popupNode!=aX){var a0=this;if(!a0.popup){a0.popup=new ax(a0.frame);}a0.popup.setPosition(aS.x-3,aS.y-3);a0.popup.setText(a0.popupNode.getTitle());a0.popup.show();}}else{if(this.popup){this.popup.hide();
}}};aG.prototype._checkHidePopup=function(aS){if(!this.popupNode||!this._getNodeAt(aS)){this.popupNode=undefined;if(this.popup){this.popup.hide();}}};aG.prototype._unselectNodes=function(aW,aV){var aX=false;var aU,aS,aY;if(aW){for(aU=0,aS=aW.length;aU<aS;aU++){aY=aW[aU];this.nodes[aY].unselect();var aT=0;
while(aT<this.selection.length){if(this.selection[aT]==aY){this.selection.splice(aT,1);aX=true;}else{aT++;}}}}else{if(this.selection&&this.selection.length){for(aU=0,aS=this.selection.length;aU<aS;aU++){aY=this.selection[aU];this.nodes[aY].unselect();aX=true;}this.selection=[];}}if(aX&&(aV==true||aV==undefined)){this._trigger("select");
}return aX;};aG.prototype._selectNodes=function(a0,aT){var aX=false;var aY,aW;var aU=true;if(a0.length!=this.selection.length){aU=false;}else{for(aY=0,aW=Math.min(a0.length,this.selection.length);aY<aW;aY++){if(a0[aY]!=this.selection[aY]){aU=false;break;}}}if(aU){return aX;}if(aT==undefined||aT==false){var aV=false;
aX=this._unselectNodes(undefined,aV);}for(aY=0,aW=a0.length;aY<aW;aY++){var aS=a0[aY];var aZ=(this.selection.indexOf(aS)!=-1);if(!aZ){this.nodes[aS].select();this.selection.push(aS);aX=true;}}if(aX){this._trigger("select");}return aX;};aG.prototype._getNodesOverlappingWith=function(aU){var aT=this.nodes,aS=[];
for(var aV in aT){if(aT.hasOwnProperty(aV)){if(aT[aV].isOverlappingWith(aU)){aS.push(aV);}}}return aS;};aG.prototype.getSelection=function(){return this.selection.concat([]);};aG.prototype.setSelection=function(aU){var aT,aS,aW;if(!aU||(aU.length==undefined)){throw"Selection must be an array with ids";
}for(aT=0,aS=this.selection.length;aT<aS;aT++){aW=this.selection[aT];this.nodes[aW].unselect();}this.selection=[];for(aT=0,aS=aU.length;aT<aS;aT++){aW=aU[aT];var aV=this.nodes[aW];if(!aV){throw new RangeError('Node with id "'+aW+'" not found');}aV.select();this.selection.push(aW);}this.redraw();};aG.prototype._updateSelection=function(){var aS=0;
while(aS<this.selection.length){var aT=this.selection[aS];if(!this.nodes[aT]){this.selection.splice(aS,1);}else{aS++;}}};aG.prototype._getConnectionCount=function(aS){if(aS==undefined){aS=1;}function aZ(a2){var bd=[];for(var a7=0,a3=a2.length;a7<a3;a7++){var a5=a2[a7];var a8=a5.edges;for(var ba=0,a9=a8.length;
ba<a9;ba++){var a4=a8[ba];var bb=null;if(a4.from==a5){bb=a4.to;}else{if(a4.to==a5){bb=a4.from;}}var a6,bc;if(bb){for(a6=0,bc=a2.length;a6<bc;a6++){if(a2[a6]==bb){bb=null;break;}}}if(bb){for(a6=0,bc=bd.length;a6<bc;a6++){if(bd[a6]==bb){bb=null;break;}}}if(bb){bd.push(bb);}}}return bd;}var a1=[];var aT=this.nodes;
for(var aU in aT){if(aT.hasOwnProperty(aU)){var a0=[aT[aU]];for(var aW=0;aW<aS;aW++){a0=a0.concat(aZ(a0));}a1.push(a0);}}var aV=[];for(var aX=0,aY=a1.length;aX<aY;aX++){aV.push(a1[aX].length);}return aV;};aG.prototype.setSize=function(aT,aS){this.frame.style.width=aT;this.frame.style.height=aS;this.frame.canvas.style.width="100%";
this.frame.canvas.style.height="100%";this.frame.canvas.width=this.frame.canvas.clientWidth;this.frame.canvas.height=this.frame.canvas.clientHeight;};aG.prototype._setNodes=function(aS){var aV=this.nodesData;if(aS instanceof k||aS instanceof y){this.nodesData=aS;}else{if(aS instanceof Array){this.nodesData=new k();
this.nodesData.add(aS);}else{if(!aS){this.nodesData=new k();}else{throw new TypeError("Array or DataSet expected");}}}if(aV){aF.forEach(this.nodesListeners,function(aX,aW){aV.unsubscribe(aW,aX);});}this.nodes={};if(this.nodesData){var aU=this;aF.forEach(this.nodesListeners,function(aX,aW){aU.nodesData.subscribe(aW,aX);
});var aT=this.nodesData.getIds();this._addNodes(aT);}this._updateSelection();};aG.prototype._addNodes=function(aS){var aT;for(var aX=0,aZ=aS.length;aX<aZ;aX++){aT=aS[aX];var aW=this.nodesData.get(aT);var aU=new aD(aW,this.images,this.groups,this.constants);this.nodes[aT]=aU;if(!aU.isFixed()){var a0=this.constants.edges.length*2;
var aY=aS.length;var aV=2*Math.PI*(aX/aY);aU.x=a0*Math.cos(aV);aU.y=a0*Math.sin(aV);this.moving=true;}}this._reconnectEdges();this._updateValueRange(this.nodes);};aG.prototype._updateNodes=function(aW){var aU=this.nodes,aT=this.nodesData;for(var aV=0,aS=aW.length;aV<aS;aV++){var aZ=aW[aV];var aX=aU[aZ];
var aY=aT.get(aZ);if(aX){aX.setProperties(aY,this.constants);}else{aX=new aD(properties,this.images,this.groups,this.constants);aU[aZ]=aX;if(!aX.isFixed()){this.moving=true;}}}this._reconnectEdges();this._updateValueRange(aU);};aG.prototype._removeNodes=function(aV){var aT=this.nodes;for(var aU=0,aS=aV.length;
aU<aS;aU++){var aW=aV[aU];delete aT[aW];}this._reconnectEdges();this._updateSelection();this._updateValueRange(aT);};aG.prototype._setEdges=function(aS){var aV=this.edgesData;if(aS instanceof k||aS instanceof y){this.edgesData=aS;}else{if(aS instanceof Array){this.edgesData=new k();this.edgesData.add(aS);
}else{if(!aS){this.edgesData=new k();}else{throw new TypeError("Array or DataSet expected");}}}if(aV){aF.forEach(this.edgesListeners,function(aX,aW){aV.unsubscribe(aW,aX);});}this.edges={};if(this.edgesData){var aU=this;aF.forEach(this.edgesListeners,function(aX,aW){aU.edgesData.subscribe(aW,aX);});var aT=this.edgesData.getIds();
this._addEdges(aT);}this._reconnectEdges();};aG.prototype._addEdges=function(aV){var aT=this.edges,aZ=this.edgesData;for(var aU=0,aS=aV.length;aU<aS;aU++){var aY=aV[aU];var aX=aT[aY];if(aX){aX.disconnect();}var aW=aZ.get(aY);aT[aY]=new S(aW,this,this.constants);}this.moving=true;this._updateValueRange(aT);
};aG.prototype._updateEdges=function(aV){var aT=this.edges,aZ=this.edgesData;for(var aU=0,aS=aV.length;aU<aS;aU++){var aY=aV[aU];var aX=aZ.get(aY);var aW=aT[aY];if(aW){aW.disconnect();aW.setProperties(aX,this.constants);aW.connect();}else{aW=new S(aX,this,this.constants);this.edges[aY]=aW;}}this.moving=true;
this._updateValueRange(aT);};aG.prototype._removeEdges=function(aV){var aT=this.edges;for(var aU=0,aS=aV.length;aU<aS;aU++){var aX=aV[aU];var aW=aT[aX];if(aW){aW.disconnect();delete aT[aX];}}this.moving=true;this._updateValueRange(aT);};aG.prototype._reconnectEdges=function(){var aV,aT=this.nodes,aS=this.edges;
for(aV in aT){if(aT.hasOwnProperty(aV)){aT[aV].edges=[];}}for(aV in aS){if(aS.hasOwnProperty(aV)){var aU=aS[aV];aU.from=null;aU.to=null;aU.connect();}}};aG.prototype._updateValueRange=function(aV){var aW;var aT=undefined;var aS=undefined;for(aW in aV){if(aV.hasOwnProperty(aW)){var aU=aV[aW].getValue();
if(aU!==undefined){aT=(aT===undefined)?aU:Math.min(aU,aT);aS=(aS===undefined)?aU:Math.max(aU,aS);}}}if(aT!==undefined&&aS!==undefined){for(aW in aV){if(aV.hasOwnProperty(aW)){aV[aW].setValueRange(aT,aS);}}}};aG.prototype.redraw=function(){this.setSize(this.width,this.height);this._redraw();};aG.prototype._redraw=function(){var aT=this.frame.canvas.getContext("2d");
var aS=this.frame.canvas.width;var aU=this.frame.canvas.height;aT.clearRect(0,0,aS,aU);aT.save();aT.translate(this.translation.x,this.translation.y);aT.scale(this.scale,this.scale);this._drawEdges(aT);this._drawNodes(aT);aT.restore();};aG.prototype._setTranslation=function(aS,aT){if(this.translation===undefined){this.translation={x:0,y:0};
}if(aS!==undefined){this.translation.x=aS;}if(aT!==undefined){this.translation.y=aT;}};aG.prototype._getTranslation=function(){return{x:this.translation.x,y:this.translation.y};};aG.prototype._setScale=function(aS){this.scale=aS;};aG.prototype._getScale=function(){return this.scale;};aG.prototype._canvasToX=function(aS){return(aS-this.translation.x)/this.scale;
};aG.prototype._xToCanvas=function(aS){return aS*this.scale+this.translation.x;};aG.prototype._canvasToY=function(aS){return(aS-this.translation.y)/this.scale;};aG.prototype._yToCanvas=function(aS){return aS*this.scale+this.translation.y;};aG.prototype._drawNodes=function(aS){var aT=this.nodes;var aW=[];
for(var aX in aT){if(aT.hasOwnProperty(aX)){if(aT[aX].isSelected()){aW.push(aX);}else{aT[aX].draw(aS);}}}for(var aV=0,aU=aW.length;aV<aU;aV++){aT[aW[aV]].draw(aS);}};aG.prototype._drawEdges=function(aS){var aT=this.edges;for(var aV in aT){if(aT.hasOwnProperty(aV)){var aU=aT[aV];if(aU.connected){aT[aV].draw(aS);
}}}};aG.prototype._doStabilize=function(){var aW=new Date();var aV=0;var aT=this.constants.minVelocity;var aU=false;while(!aU&&aV<this.constants.maxIterations){this._calculateForces();this._discreteStepNodes();aU=!this._isMoving(aT);aV++;}var aS=new Date();};aG.prototype._calculateForces=function(){var bb,a5,a4,be,a1,aZ,aY,a9,bf,a0,a7,bc=this.nodes,aX=this.edges;
var a2=0.01,a8=this.frame.canvas.clientWidth/2,a6=this.frame.canvas.clientHeight/2;for(bb in bc){if(bc.hasOwnProperty(bb)){var bd=bc[bb];a5=a8-bd.x;a4=a6-bd.y;be=Math.atan2(a4,a5);aZ=Math.cos(be)*a2;aY=Math.sin(be)*a2;bd._setForce(aZ,aY);}}var ba=this.constants.nodes.distance,aW=10;for(var aV in bc){if(bc.hasOwnProperty(aV)){var aU=bc[aV];
for(var aT in bc){if(bc.hasOwnProperty(aT)){var aS=bc[aT];a5=aS.x-aU.x;a4=aS.y-aU.y;a1=Math.sqrt(a5*a5+a4*a4);be=Math.atan2(a4,a5);a9=1/(1+Math.exp((a1/ba-1)*aW));aZ=Math.cos(be)*a9;aY=Math.sin(be)*a9;aU._addForce(-aZ,-aY);aS._addForce(aZ,aY);}}}}for(bb in aX){if(aX.hasOwnProperty(bb)){var a3=aX[bb];
if(a3.connected){a5=(a3.to.x-a3.from.x);a4=(a3.to.y-a3.from.y);a7=a3.length;a0=Math.sqrt(a5*a5+a4*a4);be=Math.atan2(a4,a5);bf=a3.stiffness*(a7-a0);aZ=Math.cos(be)*bf;aY=Math.sin(be)*bf;a3.from._addForce(-aZ,-aY);a3.to._addForce(aZ,aY);}}}};aG.prototype._isMoving=function(aT){var aS=this.nodes;for(var aU in aS){if(aS.hasOwnProperty(aU)&&aS[aU].isMoving(aT)){return true;
}}return false;};aG.prototype._discreteStepNodes=function(){var aT=this.refreshRate/1000;var aS=this.nodes;for(var aU in aS){if(aS.hasOwnProperty(aU)){aS[aU].discreteStep(aT);}}};aG.prototype.start=function(){if(this.moving){this._calculateForces();this._discreteStepNodes();var aS=this.constants.minVelocity;
this.moving=this._isMoving(aS);}if(this.moving){if(!this.timer){var aT=this;this.timer=window.setTimeout(function(){aT.timer=undefined;aT.start();aT._redraw();},this.refreshRate);}}else{this._redraw();}};aG.prototype.stop=function(){if(this.timer){window.clearInterval(this.timer);this.timer=undefined;
}};var ao={util:aF,events:D,Controller:N,DataSet:k,DataView:y,Range:O,Stack:av,TimeStep:TimeStep,EventBus:ac,components:{items:{Item:G,ItemBox:w,ItemPoint:Z,ItemRange:aB},Component:ad,Panel:i,RootPanel:aj,ItemSet:H,TimeAxis:aq},graph:{Node:aD,Edge:S,Popup:ax,Groups:Groups,Images:Images},Timeline:ae,Graph:aG};
if(typeof aa!=="undefined"){aa=ao;}if(typeof aP!=="undefined"&&typeof aP.exports!=="undefined"){aP.exports=ao;}if(typeof(g)==="function"){g(function(){return ao;});}if(typeof window!=="undefined"){window["vis"]=ao;}aF.loadCss("/* vis.js stylesheet */\n.vis.timeline {\n}\n\n\n.vis.timeline.rootpanel {\n    position: relative;\n    overflow: hidden;\n\n    border: 1px solid #bfbfbf;\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n}\n\n.vis.timeline .panel {\n    position: absolute;\n    overflow: hidden;\n}\n\n\n.vis.timeline .groupset {\n    position: absolute;\n    padding: 0;\n    margin: 0;\n}\n\n.vis.timeline .labels {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n\n    padding: 0;\n    margin: 0;\n\n    border-right: 1px solid #bfbfbf;\n    box-sizing: border-box;\n    -moz-box-sizing: border-box;\n}\n\n.vis.timeline .labels .label {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    border-bottom: 1px solid #bfbfbf;\n    color: #4d4d4d;\n}\n\n.vis.timeline .labels .label .inner {\n    display: inline-block;\n    padding: 5px;\n}\n\n\n.vis.timeline .itemset {\n    position: absolute;\n    padding: 0;\n    margin: 0;\n    overflow: hidden;\n}\n\n.vis.timeline .background {\n}\n\n.vis.timeline .foreground {\n}\n\n.vis.timeline .itemset-axis {\n    position: absolute;\n}\n\n.vis.timeline .groupset .itemset-axis {\n    border-top: 1px solid #bfbfbf;\n}\n\n/* TODO: with orientation=='bottom', this will more or less overlap with timeline axis\n.vis.timeline .groupset .itemset-axis:last-child {\n    border-top: none;\n}\n*/\n\n\n.vis.timeline .item {\n    position: absolute;\n    color: #1A1A1A;\n    border-color: #97B0F8;\n    background-color: #D5DDF6;\n    display: inline-block;\n}\n\n.vis.timeline .item.selected {\n    border-color: #FFC200;\n    background-color: #FFF785;\n    z-index: 999;\n}\n\n.vis.timeline .item.cluster {\n    /* TODO: use another color or pattern? */\n    background: #97B0F8 url('img/cluster_bg.png');\n    color: white;\n}\n.vis.timeline .item.cluster.point {\n    border-color: #D5DDF6;\n}\n\n.vis.timeline .item.box {\n    text-align: center;\n    border-style: solid;\n    border-width: 1px;\n    border-radius: 5px;\n    -moz-border-radius: 5px; /* For Firefox 3.6 and older */\n}\n\n.vis.timeline .item.point {\n    background: none;\n}\n\n.vis.timeline .dot {\n    border: 5px solid #97B0F8;\n    position: absolute;\n    border-radius: 5px;\n    -moz-border-radius: 5px;  /* For Firefox 3.6 and older */\n}\n\n.vis.timeline .item.range {\n    overflow: hidden;\n    border-style: solid;\n    border-width: 1px;\n    border-radius: 2px;\n    -moz-border-radius: 2px;  /* For Firefox 3.6 and older */\n}\n\n.vis.timeline .item.range .drag-left {\n    cursor: w-resize;\n    z-index: 1000;\n}\n\n.vis.timeline .item.range .drag-right {\n    cursor: e-resize;\n    z-index: 1000;\n}\n\n.vis.timeline .item.range .content {\n    position: relative;\n    display: inline-block;\n}\n\n.vis.timeline .item.line {\n    position: absolute;\n    width: 0;\n    border-left-width: 1px;\n    border-left-style: solid;\n}\n\n.vis.timeline .item .content {\n    margin: 5px;\n    white-space: nowrap;\n    overflow: hidden;\n}\n\n.vis.timeline .axis {\n    position: relative;\n}\n\n.vis.timeline .axis .text {\n    position: absolute;\n    color: #4d4d4d;\n    padding: 3px;\n    white-space: nowrap;\n}\n\n.vis.timeline .axis .text.measure {\n    position: absolute;\n    padding-left: 0;\n    padding-right: 0;\n    margin-left: 0;\n    margin-right: 0;\n    visibility: hidden;\n}\n\n.vis.timeline .axis .grid.vertical {\n    position: absolute;\n    width: 0;\n    border-right: 1px solid;\n}\n\n.vis.timeline .axis .grid.horizontal {\n    position: absolute;\n    left: 0;\n    width: 100%;\n    height: 0;\n    border-bottom: 1px solid;\n}\n\n.vis.timeline .axis .grid.minor {\n    border-color: #e5e5e5;\n}\n\n.vis.timeline .axis .grid.major {\n    border-color: #bfbfbf;\n}\n\n");
},{"hammerjs":1,"moment":2}]},{},[3])(3);});(function(a,b){a=a||{};a.controller={};a.service={};a.view={};a.template={};a.dependency={};b.ICEX=a;}(window.ICEX,window));(function(){ICEX.serviceURL={newsList:{fetch:""}};}());(function(){Handlebars.registerHelper("urlWithBase",function(a){return"#/"+a;});
}());(function(a){a.fn.tabs=function(b){return this.each(function(){b=a.extend({onChange:a.noop},b);var c=a(this);c.on("click",".tab-nav li a",function(g){var f=c.data("selected");if(f){c.find("a[href$="+f+"]").removeClass("selected");a(f).hide();}var d=a(this);d.addClass("selected");f=/(#(.+))/.exec(d.attr("href"))[1];
a(f).show();c.data("selected",f);b.onChange(/#(.+)/.exec(f)[1]);g.preventDefault();});c.find(".tab-nav li a:eq(0)").trigger("click");});};}(jQuery));(function(l){ICEX.controller.DiscoverPage=l.Controller.extend({autoLoadControls:true,autoShowHide:true,injectLocalMessageBus:true,inject:{views:["discoverPage"],controls:["searchList","breadcrumb","searchFiltering","questions","searchResults"]},load:function(){var m=this;
m._super();m.localMessageBus.subscribe(m,{"search-list-hide":function(){c(m);},"search-list-show":function(){e(m);}});},routes:{"/discover/:id":function(m){a(this,m);},"/discover":function(){f(this);}},controlMessages:{show:"navigationChangedTo:discover",hide:"navigationChangedFrom:discover",stateChange:"navigationStateChange:discover"}});
function f(m){g(m);i(m);b(m);d(m);e(m);}function a(m,n){g(m,n);k(m);h(m,n);j(m);}function e(m){m.controls.searchList.show();m.views.discoverPage.withoutResults();m.controls.breadcrumb.hideTopic();m.controls.searchFiltering.layoutChange();m.controls.searchResults.hide();}function c(m){m.controls.searchList.hide();
m.views.discoverPage.withResults();m.controls.breadcrumb.showTopic(m.controls.searchList.getCurrentFilterInfo());m.controls.searchFiltering.layoutChange();m.controls.searchResults.show();m.controls.searchResults.update();}function j(m){m.controls.questions.hide();}function d(m){m.controls.questions.show();
}function b(m){m.views.discoverPage.withoutBreadcrumb();m.controls.breadcrumb.hide();}function h(m,n){m.views.discoverPage.withBreadcrumb();m.controls.searchList.getMetaInfo(n,function(o){m.controls.breadcrumb.update(o,n);});}function k(m){var n=m.controls.searchFiltering;n.show();m.controls.searchFiltering.update();
}function i(m){m.controls.searchFiltering.hide();}function g(m,n){m.controls.searchList.update(n);}}(HAF));(function(a){ICEX.view.DiscoverPage=a.View.extend({container:"#discover",withResults:function(){this.$el.find(".sub-content").addClass("with-results");},withoutResults:function(){this.$el.find(".sub-content").removeClass("with-results");
},withBreadcrumb:function(){this.$el.find(".content").addClass("with-breadcrumb");},withoutBreadcrumb:function(){this.$el.find(".content").removeClass("with-breadcrumb");}});}(HAF));(function(a){ICEX.controller.Breadcrumb=a.Controller.extend({autoShowHide:true,inject:{templates:["breadcrumbItem"],views:["breadcrumb"]},update:function(c){var d=this;
d.views.breadcrumb.remove();var b=this.templates.breadcrumbItem;b.load(function(){for(var f=0;f<c.length;f++){var e=c[f];e.pathId=e.id;d.views.breadcrumb.render(b.process(e));}});},hideTopic:function(){this.views.breadcrumb.hideTopic();},showTopic:function(b){this.views.breadcrumb.showTopic(b);}});}(HAF));
(function(b){ICEX.view.Breadcrumb=b.View.extend({level:0,container:"#appBreadcrumb",render:function(d){var c=this.$el.find("ul");c.append(d);this.$el.addClass("show");c.find("li:not(.show)").addClass("show");c.find("li:last").removeClass("show");setTimeout(function(){c.find("li:last").addClass("show");
},10);},bindings:{"click .show-list":function(c){a(c,this);}},hide:function(){var c=this;c.$el.find(".breadcrumb").removeClass("show").addClass("hide");c.$el.find("ul").find("li").removeClass("show").addClass("hide");setTimeout(function(){c.$el.find("ul li").remove();},500);},remove:function(){this.$el.find("li").remove();
},showTopic:function(){this.$el.find(".show-list").show();},hideTopic:function(){this.$el.find(".show-list").hide();}});function a(d,c){c.messageBus.publish("search-list-show");d.preventDefault();}}(HAF));(function(a){ICEX.controller.Questions=a.Controller.extend({autoShowHide:true,inject:{views:["questions"]}});
}(HAF));(function(a){ICEX.view.Questions=a.View.extend({container:"#appQuestions"});}(HAF));(function(c){ICEX.controller.SearchFiltering=c.Controller.extend({currentControl:null,autoLoadControls:true,autoLayout:true,autoShowHide:true,injector:"SearchFiltering",inject:{views:["searchFiltering"],controls:["visualFiltering","listFiltering"],services:["searchFiltering"]},dataIsDirty:true,load:function(){var e=this;
e._super();e.views.searchFiltering.render();e.messageBus.subscribe(e,{"search-filtering-changed":function(f){a(f,e);},"search-filter-tab-changes":function(f){e.currentControl=f==="appListFiltering"?e.controls.listFiltering:e.controls.visualFiltering;if(e.lastDataSet&&e.dataIsDirty){e.dataIsDirty=false;
e.currentControl.update(e.lastDataSet);}}});e.currentControl=e.controls.visualFiltering;},update:function(e){var f=this;if(e){b(f,e);}else{d(f);}}});function d(e){e.services.searchFiltering.fetch(e,function(f){e.dataIsDirty=true;b(e,f);});}function b(e,f){e.lastDataSet=f;e.currentControl.update(e.lastDataSet);
}function a(f,e){e.services.searchFiltering.getChild(f,function(g){e.dataIsDirty=true;e.update(g);});}}(HAF));(function(){ICEX.dependency.SearchFiltering={views:{"searchFiltering":function(a){return new ICEX.view.SearchFiltering(a.messageBus);}},controls:{"visualFiltering":function(a){return new ICEX.controller.VisualFiltering(a.messageBus);
},"listFiltering":function(a){return new ICEX.controller.ListFiltering(a.messageBus);}},services:{"searchFiltering":function(){return new ICEX.service.SearchFiltering();}}};}());(function(a){ICEX.service.SearchFiltering=a.Service.extend({fetch:function(b,c){},getChild:function(b){}});}(HAF));(function(a){ICEX.view.SearchFiltering=a.View.extend({container:"#appSearchFiltering",render:function(){var b=this;
b.$el.tabs({onChange:function(c){b.messageBus.publish("search-filter-tab-changes",c);}});}});}(HAF));(function(a){ICEX.controller.ListFiltering=a.Controller.extend({inject:{templates:["listFiltering"],views:["listFiltering"],services:["listFiltering"]},update:function(c){var b=this;b.templates.listFiltering.load(function(){b.views.listFiltering.render(b.templates.listFiltering.process(b.services.listFiltering.transformData(c)));
});}});}(HAF));(function(a){ICEX.service.ListFiltering=a.Service.extend({transformData:b});function b(c){var d={relations:[]};var e=c.id;d.relations.push({id:e,title:c.title,count:c.count,type:"parent"});a.each(c.relations,function(g){var f=g.type;a.each(g.items,function(h){d.relations.push({id:h.id,title:h.title,count:h.count,type:f});
});});return d;}}(HAF));(function(a){ICEX.view.ListFiltering=a.View.extend({container:"#appListFiltering"});}(HAF));(function(a){ICEX.controller.VisualFiltering=a.Controller.extend({autoLayout:true,injectLocalMessageBus:true,inject:{views:[{visualFiltering:"visualFiltering"}],services:[{visualFiltering:"visualFiltering"}]},processData:a.noop,load:function(){var b=this;
b.localMessageBus.subscribe("app-search-filtering-changed",function(c){b.views.visualFiltering.setStateLoading();b.messageBus.publish("search-filtering-changed",b.services.visualFiltering.parseId(c.nodeId));b.processData=function(d){c.callback(d);};});},update:function(c){var b=this;c=b.services.visualFiltering.transformData(c,this.views.visualFiltering.getStyle());
if(!b.loaded){this.views.visualFiltering.render(c);b.loaded=true;}else{b.processData(c);}}});}(HAF));(function(a,c){ICEX.service.VisualFiltering=a.Service.extend({transformData:d,parseId:function(e){return e.split("___")[0];}});function d(g,e){var i={};var f=new Date().getTime();i.id=g.id+"___"+f;i.name=b(g.title,g.count);
i.data={};i.children=[];var h=c.extend({type:"R"},e.relationshipNode);a.each(g.relations,function(j){var k={id:j.id+"___"+f,name:j.type,data:h,children:[]};a.each(j.items,function(l){k.children.push({id:l.id+"___"+f,name:b(l.title,l.count)});});i.children.push(k);});return i;}function b(f,e){return(f+" ("+e+")");
}}(HAF,jQuery));(function(b,a){var d={relationshipNode:{color:"#999",backgroundColor:"#B6E1FF"},itemNode:{color:"#000",highlightedBGColor:"#eea409",backgroundColor:"#ddd"}};ICEX.view.VisualFiltering=b.View.extend({autoLayout:true,container:"#appVisualFiltering",graph:null,lastSelectedNode:null,lastDataSet:null,render:function(g){var f=this;
f.lastDataSet=g;e(f,g);f.setStateLoaded();f.loaded=true;},layoutChange:function(){var f=this;if(!f.loaded){return;}clearTimeout(f.rerenderTimer);f.rerenderTimer=setTimeout(function(){f.scrollToCenter();},500);},setStateLoading:function(){c(this);this.$el.addClass("loading");},setStateLoaded:function(){this.$el.removeClass("loading");
},getStyle:function(){return d;},scrollToCenter:function(){var f=this;f.$el.animate({scrollTop:f.$el.find(".graph").height()/2-(f.$el.height()/2),scrollLeft:f.$el.find(".graph").width()/2-(f.$el.width()/2)},200,function(){c(f);});}});function c(f){f.$el.find(".loading-message").css({top:20+f.$el.scrollTop(),left:20+f.$el.scrollLeft(),bottom:"auto",right:"auto"});
}function e(f,i){var h=150;var g=new a.ST({injectInto:"appVisualFilteringGraph",duration:500,transition:a.Trans.Quart.easeInOut,levelDistance:40,levelsToShow:2,Node:{height:20,width:h,type:"nodeLine",color:d.relationshipNode.backgroundColor,lineWidth:2,align:"center",overridable:true},Edge:{type:"bezier",lineWidth:2,color:d.relationshipNode.backgroundColor,overridable:true},request:function(k,l,j){f.cacheData=f.cacheData||{};
if(f.cacheData[k]){j.onComplete(k,f.cacheData[k]);f.setStateLoaded();}else{f.messageBus.publish("app-search-filtering-changed",{nodeId:k,level:l,callback:function(m){f.cacheData[k]=m;j.onComplete(k,m);f.setStateLoaded();}});}},onBeforeCompute:function(){f.scrollToCenter();f.setStateLoading();},onAfterCompute:function(){f.setStateLoaded();
},onCreateLabel:function(j,l){j.id=l.id;j.innerHTML=l.name;var k=j.style;j.onclick=function(){if(l.data.type==="R"){return;}g.onClick(l.id);if(f.lastSelectedNode){f.lastSelectedNode.style.backgroundColor=d.itemNode.backgroundColor;}k.backgroundColor=d.itemNode.highlightedBGColor;f.lastSelectedNode=j;
};k.width=h+"px";k.height=17+"px";k.cursor=l.data.type==="R"?"default":"pointer";k.color=l.data.color||d.itemNode.color;k.backgroundColor=l.data.backgroundColor||l.data.$backgroundColor||d.itemNode.backgroundColor;k.fontSize="0.7em";k.textAlign="center";k.textDecoration=l.data.type==="R"?"none":"underline";
k.paddingTop="3px";},onBeforePlotNode:function(j){if(j.selected){j.data.$backgroundColor=d.itemNode.highlightedBGColor;}else{delete j.data.$backgroundColor;}},onBeforePlotLine:function(j){if(j.nodeFrom.selected&&j.nodeTo.selected){j.data.$color=d.itemNode.highlightedBGColor;j.data.$lineWidth=3;}else{delete j.data.$color;
delete j.data.$lineWidth;}}});g.loadJSON(i);g.compute();g.onClick(g.root);f.scrollToCenter();f.st=g;}a.ST.Plot.NodeTypes.implement({nodeLine:{render:function(h,g,o){if(o==="expand"||o==="contract"){var l=h.pos.getc(true),j=this.node;var f=j.width,n=j.height;var k=this.getAlignedPos(l,f,n);var m=g.getCtx(),i=this.config.orientation;
m.beginPath();if(i==="left"||i==="right"){m.moveTo(k.x,k.y+n/2);m.lineTo(k.x+f,k.y+n/2);}else{m.moveTo(k.x+f/2,k.y);m.lineTo(k.x+f/2,k.y+n);}m.stroke();}}}});}(HAF,$jit));(function(a,d){ICEX.service.VisualFilteringCircular=a.Service.extend({transformData:e,parseId:function(f){return f.substr(2);}});function e(g,f){var i={nodes:[],edges:[]};
var j="P_"+g.id;i.nodes.push(d.extend({id:j,label:c(g.title,g.count)},f.parentNode));a.each(g.relations,function(l){var k="R_"+l.id;i.nodes.push(d.extend({id:k,label:l.type},f.relationshipNode));i.edges.push(d.extend({from:j,to:k},f.relationshipEdge));a.each(l.items,function(m){var n="I_"+m.id;i.nodes.push(d.extend({id:n,label:c(m.title,m.count)},f.itemNode));
i.edges.push({from:k,to:n});});});var h=b(this);h.nodes.add(i.nodes);h.edges.add(i.edges);return h;}function b(f){if(f.lastDataSet){f.lastDataSet.nodes.clear();f.lastDataSet.edges.clear();}return{nodes:new vis.DataSet(),edges:new vis.DataSet()};}function c(g,f){return(g+"\n("+f+")");}}(HAF,jQuery));(function(a){var g={nodes:{fontSize:11,color:{background:"#cccccc"},shape:"dot",radius:3},edges:{color:"#ddd",length:50}};
var d={parentNode:{color:{background:"#ddd"},radius:10,fontSize:14},relationshipNode:{color:{background:"#eea409"},fontColor:"#BD8001"},relationshipEdge:{length:150,color:"rgba(219, 195, 144, 0.71)"},itemNode:{fontColor:"#555"}};ICEX.view.VisualFilteringCircular=a.View.extend({autoLayout:true,container:"#appVisualFiltering",graph:null,lastSelectedNode:null,lastDataSet:null,render:function(i){var h=this;
h.lastDataSet=i;f(h);setTimeout(function(){e(h,i);c(h);h.$el.removeClass("loading");},300);},layoutChange:function(){var h=this;if(!h.loaded){return;}h.$el.find(".graph").css({opacity:0});clearTimeout(this.rerenderTimer);this.rerenderTimer=setTimeout(function(){h.render(h.lastDataSet);h.graph.redraw();
setTimeout(function(){c(h);},500);},500);},setStateLoading:function(){this.$el.addClass("loading");},getStyle:function(){return d;}});function f(h){h.$el.find(".graph").animate({opacity:0},200);}function c(h){h.$el.find(".graph").animate({opacity:1},200);}function e(i,j){var h=i.$el.find(".graph")[0];
i.graph=i.graph||new vis.Graph(h,{},g);i.graph.setData(j);if(!i.loaded){vis.events.addListener(i.graph,"select",function(){b(i);});i.loaded=true;}}function b(h){var j=h.graph.getSelection();var i=(j&&j.length&&j[0])||null;if(h.lastSelectedNode===i){h.messageBus.publish("app-search-filtering-changed",{nodeId:i,callback:function(k){h.render(k);
}});h.lastSelectedNode=null;}h.lastSelectedNode=i;h.graph.setSelection([]);}}(HAF));(function(b){ICEX.controller.SearchList=b.Controller.extend({autoShowHide:true,currentLevel:-1,inject:{views:["searchList"],templates:["searchList"],services:["searchList"]},update:function(d){var c=this;c.services.searchList.fetch(c,d,function(e){a(c,d,e);
});},getCurrentFilterInfo:function(){return this.services.searchList.currentFilterInfo;},getMetaInfo:function(d,e){var c=this;c.services.searchList.getMetaInfo(c,d,e);}});function a(d,g,e){var c=g?g.split("_").length:1;var f=c>d.currentLevel?-1:1;d.templates.searchList.load(function(){d.views.searchList.removeList(f,function(){d.views.searchList.render(f,d.templates.searchList.process(e));
});d.currentLevel=g?g.split("_").length:0;});d.views.searchList.hideHideListLink(!g);}}(HAF));(function(a,c){ICEX.service.SearchList=a.Service.extend({cachedResultData:null,currentFilterInfo:null,fetch:function(d,e,f){},getDataForId:function(d){var e;if(!d){e=this.cachedResultData;}else{e=b(this.cachedResultData,d);
}return e||{};},getMetaInfo:function(e,f,j){f=f.split("_");var g=[];var h=[];for(var i=0;i<f.length;i++){h.push(f[i]);g.push(b(this.cachedResultData,h.join("_")));}j(g||[]);}});function b(d,f){var e=null;f=f+"";if(d.id===f){e=d;}if(!e&&d.items){c.each(d.items,function(g,h){if(h.id===f){e=h;}if(!e){e=b(h,f);
}return !e;});}if(!e&&d.subGroup){e=b(d.subGroup,f);}return e;}}(HAF,jQuery));(function(b){ICEX.view.SearchList=b.View.extend({container:"#appSearchList",bindings:{"click .hide-list":function(f){d(f,this);}},render:function(f,e){c(this,f,e);},removeList:function(g,e){var f=this;a(f,g,e);},hideHideListLink:function(e){this.$el.find(".hide-list")[e?"hide":"show"]();
}});function c(f,h,g){f.$el.append(g);var e=f.$el.find(".item").eq(0);if(h===1){e.removeClass("hide").addClass("show");}else{window.setTimeout(function(){e.removeClass("hide").addClass("show");},10);}}function d(g,f){f.messageBus.publish("search-list-hide");g.preventDefault();}function a(f,h,g){var e=f.$el.find(".item");
e.removeClass("show").addClass(h===-1?"hide":"hide-back");setTimeout(function(){e.remove();g();},500);}}(HAF));(function(b){ICEX.controller.SearchResults=b.Controller.extend({autoShowHide:true,inject:{views:["searchResults"],templates:["searchResults"],services:["searchResults"]},update:function(){var c=this;
c.services.searchResults.fetch(function(d){a(c,d);});}});function a(c,d){c.templates.searchResults.load(function(){c.views.searchResults.render(c.templates.searchResults.process(d));});}}(HAF));(function(b){ICEX.service.SearchResults=b.Service.extend({fetch:function(c){setTimeout(function(){c(a());},1);
}});function a(){return{"results":[{"title":"Santander: Lowing expectations for 2012 and the UK","subTitle":"Morgan Stanley Research Europe","updateDate":"3 October 2011","contributor":"Alvaro Serrano","description":"Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum","tags":[{name:"Revenue"},{name:"Spain"},{name:"Portugal"},{name:"Banco Santander S.A. ADS"}]},{"title":"Santander: Lowing expectations for 2012 and the UK","subTitle":"Morgan Stanley Research Europe","updateDate":"3 October 2011","contributor":"Alvaro Serrano","description":"Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum","tags":[{name:"Revenue"},{name:"Spain"},{name:"Portugal"},{name:"Banco Santander S.A. ADS"}]},{"title":"Santander: Lowing expectations for 2012 and the UK","subTitle":"Morgan Stanley Research Europe","updateDate":"3 October 2011","contributor":"Alvaro Serrano","description":"Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum","tags":[{name:"Revenue"},{name:"Spain"},{name:"Portugal"},{name:"Banco Santander S.A. ADS"}]},{"title":"Santander: Lowing expectations for 2012 and the UK","subTitle":"Morgan Stanley Research Europe","updateDate":"3 October 2011","contributor":"Alvaro Serrano","description":"Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum","tags":[{name:"Revenue"},{name:"Spain"},{name:"Portugal"},{name:"Banco Santander S.A. ADS"}]}]};
}}(HAF));(function(a,b){ICEX.view.SearchResults=a.View.extend({container:"#appSearchResults",bindings:{"mouseenter .results-item":function(d,c){b(c).addClass("item-hover");},"mouseleave .results-item":function(d,c){b(c).removeClass("item-hover");},"click .show-more":function(d,c){b(c).parents(".results-item").eq(0).addClass("show-all");
d.preventDefault();},"click .show-less":function(d,c){b(c).parents(".results-item").eq(0).removeClass("show-all");d.preventDefault();}}});}(HAF,jQuery));(function(b){var f={};ICEX.controller.GlobalSearch=b.Controller.extend({inject:function(){return{views:["globalSearch"],services:["globalSearch"],templates:["globalSearchItem","globalSearchHighlight"]};
},load:function(){var g=this;g.templates.globalSearchItem.load(function(){g.templates.globalSearchHighlight.load(function(){g.views.globalSearch.render(d(g),a(g),c);});});}});function c(g){console.log(g);}function d(g){return function(j,h){j.term=j.term.toLowerCase();var i=j.term;if(i in f){h(f[i]);return;
}g.services.globalSearch.fetch(j,function(k){f[i]=k;h(k);});};}function e(g,h,i){var j=new RegExp(i,"i");return h.replace(j,function(k){return g.templates.globalSearchHighlight.process({term:k});});}function a(g){return function h(j,k){var i=e(g,k.label,j);var l=e(g,k.desc,j);return g.templates.globalSearchItem.process({label:b.TemplateSafeString(i),desc:b.TemplateSafeString(l)});
};}}(HAF));(function(a){ICEX.service.GlobalSearch=a.Service.extend({fetch:function(b,c){}});}(HAF));(function(a){a.each({globalSearchHighlight:"<span class='highlight-search'>{{term}}</span>",globalSearchItem:"<li><a>{{label}}<br/><span class='description'>{{desc}}</span></a></li>"},function(c,b){ICEX.template[b]=a.TemplateByString(c);
});}(HAF));(function(a,b){ICEX.view.GlobalSearch=a.View.extend({container:"#appGlobalSearch",render:function(g,e,d){var f=this;f.$el.autocomplete({minLength:0,focus:function(h,i){f.$el.val(i.item.label);return false;},select:function(h,i){f.$el.val(i.item.label);d(i.item);return false;},source:g}).data("ui-autocomplete")._renderItem=c(e);
}});function c(d){return function(e,f){e.addClass("global-search");return b(d(this.term,f)).data("item.autocomplete",f).appendTo(e);};}}(HAF,jQuery));(function(){ICEX.service.SearchFiltering=ICEX.service.SearchFiltering.extend({fetch:function(c,d){d=d||HAF.noop;d.call(c,a());},getChild:function(d,c){setTimeout(function(){c(b(parseInt(d)));
},1000);}});function b(d){var c=d;return{title:"Lorem",count:Math.floor(Math.random()*500),id:d,relations:[{type:"related to",id:400+c,items:(function(){var e=[];for(var f=1;f<((Math.floor(Math.random()*6))+8);f++){e.push({id:(500+c)+f,title:"Lorem",count:[100,200,400,50][Math.floor(Math.random()*4)]});
}return e;})()},{type:"broader term",id:600+c,items:(function(){var e=[];for(var f=1;f<((Math.floor(Math.random()*6))+4);f++){e.push({id:(700+c)+f,title:"Lorem",count:[100,200,400,50][Math.floor(Math.random()*4)]});}return e;})()}]};}function a(){return{title:"Topics",count:400,id:1,relations:[{type:"related to",id:12,items:[{id:121,title:"Regions",count:100},{id:123,title:"Balance Sheet",count:200},{id:124,title:"Activity",count:400},{id:125,title:"Regulations",count:50},{id:126,title:"Company",count:300},{id:128,title:"Legislation",count:200},{id:129,title:"Products",count:200},{id:130,title:"Income Statements",count:100},{id:131,title:"Factors",count:500},{id:132,title:"Income Statements",count:500},{id:133,title:"Research Topics",count:500},{id:134,title:"Countries",count:400},{id:135,title:"Sub Sectors",count:350}]},{type:"have common",id:15,items:(function(){var c=[];
for(var d=1;d<(2+Math.floor(Math.random()*15));d++){c.push({id:150+d,title:"Lorem",count:Math.floor(Math.random()*600)});}return c;}())},{type:"close to",id:180,items:(function(){var c=[];for(var d=1;d<(2+Math.floor(Math.random()*5));d++){c.push({id:180+d,title:"Lorem",count:Math.floor(Math.random()*600)});
}return c;}())}]};}}());(function(a){a.service.SearchList=a.service.SearchList.extend({cachedResultData:null,fetch:function(d,e,g){g=g||this.updated;this.cachedResultData=this.cachedResultData||c;var f=this.getDataForId(e);this.currentFilterInfo={title:f.title,id:f.id};g.call(d,f);}});var c={title:"",id:"",subGroup:{id:"1",title:"Industry",items:[{title:"Basic Materials",id:"11",subGroup:b("11")},{title:"Business Services",id:"12",subGroup:b("12")},{title:"Consumer Cyclicals",id:"13",subGroup:b("13")},{title:"Consumer Non-Cyclicals",id:"15",subGroup:b("15")},{title:"Financials",id:"16",subGroup:{id:"161",title:"Sectors",items:[{title:"Banks",id:"16_1",subGroup:b("16_1"),count:100},{title:"Capital Markets",id:"16_2",subGroup:b("16_2"),count:50},{title:"Financial Services",id:"16_3",subGroup:b("16_3"),count:50},{title:"Insurance",id:"16_4",subGroup:b("16_4"),count:50},{title:"Real Estate",id:"16_5",subGroup:b("16_5"),count:100}]}}]}};
function b(d){return{id:d+"_0",title:"Lorem",items:(function(){var e=[];for(var f=0;f<10;f++){e.push({title:"Lorem Ipsum "+f,id:d+"_"+(f+1)});}return e;}())};}}(ICEX));(function(b){ICEX.service.GlobalSearch=ICEX.service.GlobalSearch.extend({fetch:function(c,d){d(a(c.term));}});function a(c){return b.grep([{value:"document abc finance real state",label:"Document ABC",desc:"in Finance, Real State"},{value:"document 123 finance",label:"Document 123",desc:"in Finance"},{value:"document xyz real state",label:"Document XYZ",desc:"in Real State"}],function(d){return d.value.indexOf(c)>-1;
});}}(jQuery));(function(a){if(a.addEventListener&&a.applicationCache){a.addEventListener("load",function(){a.applicationCache.addEventListener("updateready",function(){if(a.applicationCache.status===a.applicationCache.UPDATEREADY){if(confirm("A new version of this application is available. Load it?")){a.location.reload();
}}},false);},false);}}(window));(function(a){a.init(ICEX,ICEX.i18nT);a.each({discoverPage:new ICEX.controller.DiscoverPage(),search:new ICEX.controller.GlobalSearch()},function(b){b.load();});a.navigation.load("discover");}(HAF));